<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Se pretende crear una guia para trabajar con la tarjeta micro:bit mediante programación gráfica o programando con MicroPython"><meta name=author content="Federico Coca"><link href=https://fgcoca.github.io/Guia-de-trabajo-para-microbit/problemas/ rel=canonical><link href=../configura/ rel=prev><link href=../guias/mkcode/ rel=next><link rel=icon href=../img/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.18"><title>Solución de problemas - Guia de trabajo para micro:bit</title><link rel=stylesheet href=../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#solucion-de-problemas class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabecera> <a href=.. title="Guia de trabajo para micro:bit" class="md-header__button md-logo" aria-label="Guia de trabajo para micro:bit" data-md-component=logo> <img src=../img/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Guia de trabajo para micro:bit </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Solución de problemas </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Buscar> <button type=reset class="md-search__icon md-icon" title=Limpiar aria-label=Limpiar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgcoca/Guia-de-trabajo-para-microbit title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Guia-de-trabajo-para-microbit </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Guia de trabajo para micro:bit" class="md-nav__button md-logo" aria-label="Guia de trabajo para micro:bit" data-md-component=logo> <img src=../img/favicon.png alt=logo> </a> Guia de trabajo para micro:bit </label> <div class=md-nav__source> <a href=https://github.com/fgcoca/Guia-de-trabajo-para-microbit title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Guia-de-trabajo-para-microbit </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../configura/ class=md-nav__link> Configurar nuestra micro:bit </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Solución de problemas <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Solución de problemas </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#paso-a-paso-inicial class=md-nav__link> Paso a paso inicial </a> <nav class=md-nav aria-label="Paso a paso inicial"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#paso-1-comprobar-el-cable class=md-nav__link> Paso 1: Comprobar el cable </a> </li> <li class=md-nav__item> <a href=#paso-2-verificar-la-version-de-firmware class=md-nav__link> Paso 2: Verificar la versión de firmware </a> </li> <li class=md-nav__item> <a href=#paso-3-actualizar-firmware class=md-nav__link> Paso 3: Actualizar firmware </a> <nav class=md-nav aria-label="Paso 3: Actualizar firmware"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#identificar-el-numero-de-version class=md-nav__link> Identificar el número de versión </a> </li> <li class=md-nav__item> <a href=#microbit-v1 class=md-nav__link> Micro:bit V1 </a> </li> <li class=md-nav__item> <a href=#microbit-v2 class=md-nav__link> Micro:bit V2 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#paso-4-comprobar-la-version-del-navegador class=md-nav__link> Paso 4: Comprobar la versión del navegador </a> </li> <li class=md-nav__item> <a href=#paso-5-emparejar-dispositivo class=md-nav__link> Paso 5: Emparejar dispositivo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flasheo-directo class=md-nav__link> Flasheo directo </a> </li> <li class=md-nav__item> <a href=#pruebas-finales class=md-nav__link> Pruebas finales </a> <nav class=md-nav aria-label="Pruebas finales"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#makecode class=md-nav__link> MakeCode </a> </li> <li class=md-nav__item> <a href=#python class=md-nav__link> Python </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mas-reglas-udev class=md-nav__link> Mas reglas udev </a> </li> <li class=md-nav__item> <a href=#sistema-de-prueba class=md-nav__link> Sistema de prueba </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../guias/mkcode/ class=md-nav__link> Guía de MakeCode </a> </li> <li class=md-nav__item> <a href=../guias/mblocks/ class=md-nav__link> Guía de MicroBlocks </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../guias/intro/ class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../guias/pyt/ class=md-nav__link> Guía de MicroPython </a> </li> <li class=md-nav__item> <a href=../guias/poo/ class=md-nav__link> Programacion Orientada a Objetos </a> </li> <li class=md-nav__item> <a href=../guias/consola/ class=md-nav__link> La consola serie </a> </li> <li class=md-nav__item> <a href=../guias/outofthebox/ class=md-nav__link> Experiencia inmediata </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Conceptos técnicos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Conceptos técnicos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../conceptos/discretos/ class=md-nav__link> Componentes discretos </a> </li> <li class=md-nav__item> <a href=../conceptos/ohm/ class=md-nav__link> Ley de Ohm </a> </li> <li class=md-nav__item> <a href=../conceptos/signals/ class=md-nav__link> Señales </a> </li> <li class=md-nav__item> <a href=../conceptos/avanzados/ class=md-nav__link> Componentes avanzados </a> </li> <li class=md-nav__item> <a href=../conceptos/serie/ class=md-nav__link> Comunicación serie </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> Conceptos de programación <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Conceptos de programación </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../programacion/mkcode/ class=md-nav__link> MakeCode </a> </li> <li class=md-nav__item> <a href=../programacion/python/ class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=../programacion/ublocks/ class=md-nav__link> MicroBlocks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> Actividades <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Actividades </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../actividades/A01/ class=md-nav__link> A01. Hola mundo </a> </li> <li class=md-nav__item> <a href=../actividades/A02/ class=md-nav__link> A02. Imágenes </a> </li> <li class=md-nav__item> <a href=../actividades/A03/ class=md-nav__link> A03. Botones </a> </li> <li class=md-nav__item> <a href=../actividades/A04/ class=md-nav__link> A04. Pines </a> </li> <li class=md-nav__item> <a href=../actividades/A05/ class=md-nav__link> A05. Botón pulsador </a> </li> <li class=md-nav__item> <a href=../actividades/A06/ class=md-nav__link> A06. Barra de LEDs </a> </li> <li class=md-nav__item> <a href=../actividades/A07/ class=md-nav__link> A07. Diodo LED RGB </a> </li> <li class=md-nav__item> <a href=../actividades/A08/ class=md-nav__link> A08. Diodos LEDs RGB direccionables </a> </li> <li class=md-nav__item> <a href=../actividades/A09/ class=md-nav__link> A09. Zumbador o buzzer </a> </li> <li class=md-nav__item> <a href=../actividades/A10/ class=md-nav__link> A10. Comunicación serie </a> </li> <li class=md-nav__item> <a href=../actividades/A11/ class=md-nav__link> A11. Magnetómetro y acelerómetro </a> </li> <li class=md-nav__item> <a href=../actividades/A12/ class=md-nav__link> A12. Entrada analógica. El potenciómetro </a> </li> <li class=md-nav__item> <a href=../actividades/A13/ class=md-nav__link> A13. Control con potenciómetro de LED, LED RGB y Neopixel </a> </li> <li class=md-nav__item> <a href=../actividades/A14/ class=md-nav__link> A14. Nivel de luz. LDR </a> </li> <li class=md-nav__item> <a href=../actividades/A15/ class=md-nav__link> A15. LCD 1602 I2C </a> </li> <li class=md-nav__item> <a href=../actividades/A16/ class=md-nav__link> A16. Medidas de temperatura </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../programas/lista/ class=md-nav__link> Listado de programas </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> Miscelanea <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Miscelanea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Miscelanea/about/ class=md-nav__link> Autor </a> </li> <li class=md-nav__item> <a href=../Miscelanea/lic/ class=md-nav__link> Licencias </a> </li> <li class=md-nav__item> <a href=../Miscelanea/webgrafia/ class=md-nav__link> Webgrafia/Bibliografía </a> </li> <li class=md-nav__item> <a href=../Miscelanea/soft/ class=md-nav__link> Software utilizado </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#paso-a-paso-inicial class=md-nav__link> Paso a paso inicial </a> <nav class=md-nav aria-label="Paso a paso inicial"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#paso-1-comprobar-el-cable class=md-nav__link> Paso 1: Comprobar el cable </a> </li> <li class=md-nav__item> <a href=#paso-2-verificar-la-version-de-firmware class=md-nav__link> Paso 2: Verificar la versión de firmware </a> </li> <li class=md-nav__item> <a href=#paso-3-actualizar-firmware class=md-nav__link> Paso 3: Actualizar firmware </a> <nav class=md-nav aria-label="Paso 3: Actualizar firmware"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#identificar-el-numero-de-version class=md-nav__link> Identificar el número de versión </a> </li> <li class=md-nav__item> <a href=#microbit-v1 class=md-nav__link> Micro:bit V1 </a> </li> <li class=md-nav__item> <a href=#microbit-v2 class=md-nav__link> Micro:bit V2 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#paso-4-comprobar-la-version-del-navegador class=md-nav__link> Paso 4: Comprobar la versión del navegador </a> </li> <li class=md-nav__item> <a href=#paso-5-emparejar-dispositivo class=md-nav__link> Paso 5: Emparejar dispositivo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flasheo-directo class=md-nav__link> Flasheo directo </a> </li> <li class=md-nav__item> <a href=#pruebas-finales class=md-nav__link> Pruebas finales </a> <nav class=md-nav aria-label="Pruebas finales"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#makecode class=md-nav__link> MakeCode </a> </li> <li class=md-nav__item> <a href=#python class=md-nav__link> Python </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mas-reglas-udev class=md-nav__link> Mas reglas udev </a> </li> <li class=md-nav__item> <a href=#sistema-de-prueba class=md-nav__link> Sistema de prueba </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=solucion-de-problemas><font color=#8B008B>Solución de problemas</font><a class=headerlink href=#solucion-de-problemas title="Permanent link">&para;</a></h1> <p>Hay veces que surgen problemas con la descarga webUSB porque no se consigue emparejar la micro:bit y también pueden surgir problemas cuando intentamos hacerer drag &amp; drop (arrastrar y soltar) el archivo .hex en la unidad MICROBIT montada, o incluso puede que no se monte dicha unidad.</p> <p>Cuando el intento de conexión nos devuelve un error en el rango 500-599, normalmente se puede corregir reintentsando el envio del .hex nuevamente o borrar enviando el archivo hexadecimal de nuevo, o enviando el software original <a href=https://microbit.org/get-started/user-guide/out-of-box-experience/ >"Out of box experience"</a>, traducido literalmente como "Fuera de la caja" pero que se traduce como <a href=../guias/outofthebox/ >Experiencia inmediata</a>. Al final de este también se da información sobre la <a href=https://microbit.org/tools/webusb-hex-flashing/ >herramienta de flasheo online</a> que tenemos disponible.</p> <p>Después de cualquier error de transferencia siempre es buena idea desconectar el cable USB y la alimentación desde batería, para volver a conectar el USB y volver a intentarlo.</p> <p>Todas las indicaciones van a estar basadas siempre en Ubuntu 22.04.2 LTS, navegador <a href="https://www.google.com/search?client=ubuntu-chr&hs=h3i&sxsrf=AB5stBgb5apIrk3hADIsMMgjT5PoVBwGtg%3A1690617337806&q=google%20chrome%20descargar&ved=2ahUKEwjOxvuuuLOAAxWZaqQEHXvaDJUQmoICKAB6BAgMEBA">Google Chrome</a> o <a href=https://www.chromium.org/chromium-projects/ >Chromium</a> que es la versión open-source de Chrome y que <strong>tiene que estar instalado</strong> desde la tienda Snap.</p> <p><center></p> <p><img alt="Chromium instalado desde tienda Snap" src=../img/problemas/tienda.png><br> <em>Chromium instalado desde tienda Snap</em></p> <p></center></p> <p>La información va a estar basada, además de las web citadas en webgrafia, fundamentalmente en los siguientes enlaces:</p> <ul> <li><a href=https://support.microbit.org/support/solutions/articles/19000105428-webusb-troubleshooting>WebUSB Troubleshooting</a> de micro:bit Help &amp; Support.</li> <li><a href=https://support.microbit.org/support/tickets/64940>Ticket #64940 error: The transfer timed out. type: transient, user error 504</a> de micro:bit Help &amp; Support.</li> <li>En este post de <a href=https://mattoppenheim.com/2021/01/07/setting-up-a-micropython-editor-with-the-bbc-microbit-v2-on-linux/ >Matthew Oppenheim</a> se resuelve el problema con '<em>50-microbit.rules</em>' y los permisos de los directorios afectados, como por ejemplo "media" que normalmente es propiedad del superusuario root y no del usuario habitual. En el mismo post hay un enlace a una primera versión donde expone la configuración de mu-editor en Linux.</li> </ul> <h2 id=paso-a-paso-inicial><font color=#007575><strong>Paso a paso inicial</strong></font><a class=headerlink href=#paso-a-paso-inicial title="Permanent link">&para;</a></h2> <h3 id=paso-1-comprobar-el-cable><font color=#AA0000>Paso 1: Comprobar el cable</font><a class=headerlink href=#paso-1-comprobar-el-cable title="Permanent link">&para;</a></h3> <p>Conectamos la placa micro:bit a un puerto USB mediante un cable microUSB. Debemos ver que se monta un dispositivo de nombrre MICROBIT y que está activo, como en la imagen siguiente:</p> <p><center></p> <p><img alt="Unidad MICROBIT montada" src=../img/problemas/montada.png><br> <em>Unidad MICROBIT montada</em></p> <p></center></p> <p>La forma de ver la unidad montada dependerá de nuestro sistema operativo.</p> <p>Si podemos ver la unidad MICROBIT montada podemos pasar al paso 2 y si no procedemos a:</p> <ul> <li>Asegurarnos que el cable no está dañado. Podemos probarlo en otro ordenador o utilizar un cable diferente. Hay que tener presente que algunos cables comerciales solo conectan alimentación y no tienen realizadas las conexiones de transmisión de datos.</li> <li>Probar en otro puerto USB del ordenador.</li> </ul> <p>Si podemos asegurar que el cable está bien pero no aparece la unidad MICROBIT, es posible que tengamos un problema con la micro:bit. Hay que probar los pasos adicionales descritos en la <a href=https://support.microbit.org/support/solutions/articles/19000024000-fault-finding-with-a-micro-bit>página de búsqueda de fallos en microbit.org</a>. Si esto tampoco nos ayuda, podemos crear un <a href=https://support.microbit.org/support/tickets/new>New support ticket</a> para notificar el problema a la Fundación Micro:bit y esperar obtener una respuesta. Si estamos en este caso hay que omitir el resto de pasos hasta obtener la respuesta.</p> <h3 id=paso-2-verificar-la-version-de-firmware><font color=#AA0000>Paso 2: Verificar la versión de firmware</font><a class=headerlink href=#paso-2-verificar-la-version-de-firmware title="Permanent link">&para;</a></h3> <p>Es posible que el firmware de la micro:bit necesite una actualización. Vamos a comprobarlo:</p> <ul> <li>Accedemos a la unidad MICROBIT montada.</li> <li>Abrimos con un editor de texto el archivo de solo lectura <strong>DETAILS.TXT</strong>.</li> <li>Comprobamos el número que pone junto a Interface Version.</li> </ul> <p><center></p> <p><img alt="Comprobación de la versión de firmware" src=../img/problemas/version.png><br> <em>Comprobación de la versión de firmware</em></p> <p></center></p> <p>Si la versión 0234, 0241 o 0243 es necesario actualizar el fimware de esa micro:.bit siguiendo el proceso que vamos a indicar en el paso 3. En la imagen anterior observamos que la versión del firmware es <strong>Interface Version: 0249</strong>.</p> <p>Si tenemos la versión 0249, 0250 o mayor trabajamos con el firmaware correcto y podemos saltar al paso 4.</p> <h3 id=paso-3-actualizar-firmware><font color=#AA0000>Paso 3: Actualizar firmware</font><a class=headerlink href=#paso-3-actualizar-firmware title="Permanent link">&para;</a></h3> <p>Si se requiere una actualización del firmware para acceder a nuevas características o para solucionar algún problema, debemos proceder así:</p> <ul> <li>Desconectar la micro:bit de cualquier tipo de alimentación, ya sea por USB o por bateria.</li> <li>Con el pulsador de reset de la parte posterior accionado conectamos la micro:bit a un puerto USB y esperamos a que se monte una unidad llamada <strong>MAINTENANCE</strong> (en lugar de MICROBIT) como observamos en la figura siguiente.</li> </ul> <p><center></p> <p><img alt="Micro:bit en modo MAINTENANCE" src=../img/problemas/maintenance.png><br> <em>Micro:bit en modo MAINTENANCE</em></p> <p></center></p> <p>La forma de ver la unidad montada dependerá de nuestro sistema operativo.</p> <ul> <li>Descargamos el archivo .hex apropiado para nuestra versión de micro:bit. El número de versión está impreso en la parte inferior derecha de la cara trasera del dispositivo. Existen unas cuantas <a href=https://support.microbit.org/support/solutions/articles/19000119162-how-to-identify-the-version-number-of-your-micro-bit->formas de distinguir</a> que versión de placa tenemos.</li> </ul> <h4 id=identificar-el-numero-de-version><font color=#AA00AA>Identificar el número de versión</font><a class=headerlink href=#identificar-el-numero-de-version title="Permanent link">&para;</a></h4> <p>Actualmente hay dos versiones oficiales de BBC micro:bit, la V1 y la V2.</p> <p>Ambas versiones trabajan de la misma forma por lo que podemos continuar utilizando las versiones previas de la forma habitual.</p> <p>La primera forma de saber el número de versión (V2.20, V2, V1.5, V1.3B) es mirar en la esquina inferior derecha de la cara posterior (figura siguiente). Si no podemos ver el número es muy probable que tengamos una micro:bit 1.3 en la que el número de versión serigrafiado se quedaba debajo de la pintura negra.</p> <p><center></p> <p><img alt="Número de versión serigrafiado" src=../img/problemas/ver_serif.png><br> <em>Número de versión serigrafiado</em></p> <p></center></p> <p>Como segunda forma, si en la parte posterior del dispositivo en versiones V2, veremos una etiquetara identifica <strong>MICROPHONE</strong> (MICRÓFONO) y otra otra para el <strong>SPEAKER</strong> (ALTAVOZ), y además la <strong>ANTENA BLE</strong> es de color dorado.</p> <p><center></p> <p><img alt="Número de versión según la antena" src=../img/problemas/ver_antena.png><br> <em>Número de versión según la antena</em></p> <p></center></p> <p>Para la tercer forma nos fijaremos en si el conector de borde tiene muescas que serán útiles para facilitar el uso de pinzas de cocodrilo o no dispone de dichas muescas. En la figura siguiente vemos la diferencia.</p> <p><center></p> <p><img alt="Número de versión según el conector de borde" src=../img/problemas/ver_borde.png><br> <em>Número de versión según el conector de borde</em></p> <p></center></p> <p>y la cuarta forma es el logototipo de micro:bit en la parte frontal del dispositivo, que en la versión V2 es dorado como el conector de borde y además es un pulsador táctil que se puede usar como un pin de entrada. En la figura vemos las diferencias.</p> <p><center></p> <p><img alt="Número de versión según el logotipo de micro:bit" src=../img/problemas/ver_logo.png><br> <em>Número de versión según el logotipo de micro:bit</em></p> <p></center></p> <h4 id=microbit-v1><font color=#AA00AA>Micro:bit V1</font><a class=headerlink href=#microbit-v1 title="Permanent link">&para;</a></h4> <p>Si tenemos una micro:bit V1 (sin altavoz ni micrófono), todas las placas usan el mismo firmware.</p> <p><center></p> <p><a href=https://tech.microbit.org/docs/software/assets/DAPLink-factory-release/0249_kl26z_microbit_0x8000.hex>Firmware para V1</a></p> <p></center></p> <h4 id=microbit-v2><font color=#AA00AA>Micro:bit V2</font><a class=headerlink href=#microbit-v2 title="Permanent link">&para;</a></h4> <p>Si tenemos una micro:bit V2 (con altavoz y micrófono), existen dos posibles versiones de firmware; la V2.00 y la V2.20/2.21. Debemos seleccionar el firmware apropiado para nuestra placa.</p> <p><center></p> <p><a href=https://tech.microbit.org/docs/software/assets/DAPLink-factory-release/0255_kl27z_microbit_0x8000.hex>Firmware para V2.00</a> --- <a href=https://tech.microbit.org/docs/software/assets/DAPLink-factory-release/0257_nrf52820_microbit_if_crc_c782a5ba90_gcc.hex>Firmware para V2.20/2.21</a></p> <p></center></p> <ul> <li>Arrastramos y soltamos el fichero .hex que hemos descargado en la unidad montada como <strong>MAINTENANCE</strong> y esperamos a que el LED amarillo de la cara posterior deje de parpadear. Cuando la actualización se ha completado la micro:bit se reseteará, se expulsará del ordenador y volverá a aparecer en modo <strong>MICROBIT</strong>.</li> <li>Finalmente debemos comprobar el archivo <strong>DETAILS.TXT</strong> para asegurarnos que la versión de firmware descargada se ha flsheado en el chip de interface.</li> <li>Si tenemos cualquier problema con el proceso de actualización del firmware debemos contactar con <a href=https://support.microbit.org/ >micro:bit support</a> que es la página de soporte en inglés.</li> <li>Todas las versiones de firmware, actuales, anteriores y beta están disponibles en <a href=https://tech.microbit.org/software/daplink-interface/#daplink-software>previous firmware versions</a>.</li> </ul> <h3 id=paso-4-comprobar-la-version-del-navegador><font color=#AA0000>Paso 4: Comprobar la versión del navegador</font><a class=headerlink href=#paso-4-comprobar-la-version-del-navegador title="Permanent link">&para;</a></h3> <p>WebUSB es una característica muy actual y puede requerir que el navegador esté actualizado. Verifiquemos que el navegador coincida con los descritos <a href=https://makecode.microbit.org/browsers>navegadores soportados</a>. Están soportados diferentes navegadores como Microsoft Edge, Google Chrome o Chromium, Mozilla Firefox y Safari para los distintos sistemas operativos y versiones.</p> <h3 id=paso-5-emparejar-dispositivo><font color=#AA0000>Paso 5: Emparejar dispositivo</font><a class=headerlink href=#paso-5-emparejar-dispositivo title="Permanent link">&para;</a></h3> <p>Una vez que hemos actualizado el firmware, abrimos nuestro navegador compatible, vamos al editor que estemos utilizando para programar y procedemos a Emparejar dispositivo. Ya estamos preparados para comenzar a trabajar siguiendo los pasos iniciales que se describen en <a href=../configura/ >Configurar nuestra micro:bit</a>.</p> <h2 id=flasheo-directo><font color=#007575><strong>Flasheo directo</strong></font><a class=headerlink href=#flasheo-directo title="Permanent link">&para;</a></h2> <p>Vamos a ver que necesitamos para poder grabar firmware en la micro:bit desde la página web del editor que estemos utilizando mediante webUSB para posteriormente atajar los posibles problemas. Comenzamos por un resumen de las condiciones en las que se documenta esto, que son:</p> <ul> <li>Sistema operativo Ubuntu 22.04.2 LTS de 64 bits.</li> <li>Inicialmente el navegador utilizado ha sido Chromium Versión 114.0.5735.198 (Build oficial) snap (64 bits). También se realizan pruebas con el navegador Google Chrome Versión 115.0.5790.110 (Build oficial) (64 bits).</li> <li>El flasheo directo solamente funciona en los navegadores Chrome o Edge que soportan webUSB.</li> <li>Recordemos que también es necesario tener actualizado el firmware de la micro:bit.</li> </ul> <p>La micro:bit nos debe aparecer en el navegador como <strong>BBC micro:bit CMSIS-DAP</strong> aunque es posible que la primera vez nos aparezca como <em>LPC1768</em>.</p> <p>Si nos estamos cambiando entre editores, por ejemplo MakeCode y Python, seguramente la actualización de programas mediante webUSB requiere mas tiempo del habitual ya que la micro:bit contiene un programa creado con un editor diferente.</p> <p>Si tenemos problemas cuando tenemos conectada alimentación externa, procedemos a desconectar esta alimentación y el cable microUSB garantizando asi el total apagado de la placa. Conectamos solamente el cable microUSB tanto a la micro:bit como al ordenador e intentamos de nuevo el flasheo. Es indiferente para esto conectar la bateria tras conectar el cable microUSB o hacerlo en otro momento.</p> <p>Si estamos en un sistema Linux y se ha instalado Chromium desde snap store, que es la tienda oficial de software de Ubuntu, no podremos acceder a dispositivos webUSB. En distribuciones como Ubuntu suele solucionar el problema declarar una regla <a href=https://es.wikipedia.org/wiki/Udev>udev</a>. A continuación se indica como hacerlo.</p> <p>Cuando trabajamos con distribuciones Linux en general o Ubuntu en particular hay que declarar una regla '<strong><em>udev</em></strong>' y para hacerlo debemos seguir una serie de pasos que describimos a continuación:</p> <ul> <li>Cerramos el navegador Chrome o Chromium.</li> <li>Abrimos una terminal de comandos</li> <li>Comprobamos si existe un grupo de usuaraios llamado <em>'plugdev'</em> utilizando el comando <em>'getent'</em>, que nos devuelve las entradas de la base de datos administrativa del sistema. Se puede solicitar de '<em>passwd, group, hosts, services, protocols, o networks</em>'. En nuestro caso nos interesa de '<em>gropu</em>', por lo que hacemos:</li> </ul> <div class=highlight><pre><span></span><code>getent<span class=w> </span>group
</code></pre></div> <p>En el resultado debemos buscar el grupo y si existe aparecerá listado. En caso de que no exista lo creamos con:</p> <div class=highlight><pre><span></span><code>getent<span class=w> </span>group<span class=w> </span>plugdev<span class=w> </span>&gt;/dev/null<span class=w> </span><span class=o>||</span><span class=w> </span>sudo<span class=w> </span>groupadd<span class=w> </span>-r<span class=w> </span>plugdev
</code></pre></div> <p>Si resulta necesario porque el grupo lo creó un usuario distinto a nosotros, deberemos agregar nuestro usuario al grupo '<em>plugdev</em>' según vemos a continuación. Debemos reemplazar <tu-nombre-de-usuario> con el nombre real de nuestro usuario.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>usermod<span class=w> </span>-a<span class=w> </span>-G<span class=w> </span>plugdev<span class=w> </span>&lt;tu-nombre-de-usuario&gt;
</code></pre></div> <ul> <li>Creamos un archivo en el directorio <em>'/etc/udev/rules.d'</em> que llamaremos <em>'50-microbit.rules'</em> haciendo:</li> </ul> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>nano/etc/udev/rules.d/50-microbit.rules
</code></pre></div> <p>En el editor escribimos:</p> <p>'<em>SUBSYSTEM=="usb", ATTR{idVendor}=="0d28", MODE="0664", GROUP="plugdev"</em>'</p> <p>y ya podemos guardar el archivo en el directorio indicado y con el nombre citado.</p> <p>Salimos del editor y podemos continuar. El siguiente comando nos ayuda a mostrar si hemos creado bien la regla ya que nos muestra el contenido del archivo creado.</p> <div class=highlight><pre><span></span><code>cat<span class=w> </span>/etc/udev/rules.d/50-microbit.rules
</code></pre></div> <p><center></p> <p><img alt="Comando Cat" src=../img/problemas/cat.png><br> <em>Comando Cat</em></p> <p></center></p> <p>El comando '<em>Cat</em>' toma su nombre de concatenar y permite crear, unir y <strong>consultar</strong> el contenido del archivo que le indiquemos.</p> <p>Es <strong>IMPORTANTE</strong> saber que el archivo de reglas de estar creado por un usuario root, o incluso el propio root del sistema. No voy a entrar en detalles sobre el tema del superusuario en Linux debido a los peligros que conlleva trabajar con este nivel de permisos sin ser un experto. Algunas de sentencias que hemos puesto van precedidas de '<em>sudo</em>', que indica que lo que se va a hacer se hará como usuario con privilegios de root, pero este no es exactamente el superusuario. En la entrada <a href=../guias/intro/ >Tipos de permisos en Linux</a> de la introducción a Python hay mas información sobre el tema. Se advierte que trabajar con estos temas sin ser experto puede crear daños irreversibles en el sistema. Para asegurar estos cambios, si se han realizado, es conveniente reiniciar siempre el sistema.</p> <ul> <li>Cerramos o reiniciamos el ordenador.</li> <li>Abrimos el navegador.</li> <li>Comprobamos si se ha establecido la conexión mediante los comandos siguientes:</li> </ul> <div class=highlight><pre><span></span><code>snap<span class=w> </span>connections<span class=w>  </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-v<span class=w> </span><span class=s2>&quot;.*-</span>$
<span class=s2>mount | grep MICROBIT</span>
</code></pre></div> <p>El comando '<em>snap</em>' permite instalar, configurar, actualizar y eliminar paquetes y mediante '<em>grep</em>' buscamos si dentro del fichero connections el navegador ha establecido la conexión y si la misma está realizada. Si todo es correcto devolverá Plug = chromium:raw-usb y connector = raw-usb. El segundo nos ayuda a montar la unidad "MICROBIT" si no se monta al conectar una placa micro:bit. En la figura siguiente vemos un posible resultado.</p> <p><center></p> <p><img alt="Comandos snap connections y mount" src=../img/configura/consultas.png><br> <em>Comandos snap connections y mount</em></p> <p></center></p> <p>En el <a href=https://support.microbit.org/support/solutions/articles/19000105428-webusb-troubleshooting>bug de Chromium</a> citado en la parte de Linux indica, antes de entrar en la creación de reglas lo siguiente:</p> <ul> <li>Si Chromium se ha instalado desde la tienda snap no se podrá acceder a los dispositivos WebUSB. En este caso, WebUSB se puede habilitar utilizando la interfaz '<em>raw-usb</em>', que permite el acceso a todos los dispositivos USB conectados a través de una interfaz sin formato que no tiene una conexión automática. Se habilita desde la línea de comandos así:</li> </ul> <div class=highlight><pre><span></span><code><span class=w> </span>snap<span class=w> </span>connect<span class=w> </span>chromium:raw-usb
</code></pre></div> <p>que debería servir para versiones de Chromium posteriores a julio de 2020.</p> <ul> <li>Si en algún momento dudamos si se está aplicando la nueva regla tras algún cambio realizado podemos reiniciar las mismas haciendo:</li> </ul> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>udevadm<span class=w> </span>control<span class=w> </span>--reload-rules
</code></pre></div> <p>Si al hacer clic en los tres puntos para realizar la conexión se genera un error como el que vemos en la imagen siguiente es evidente que no vamos a poder flashear el firmware en esas condiciones.</p> <p><center></p> <p><img alt="Errores de conexión en MakeCode y Python" src=../img/problemas/errores.png><br> <em>Errores de conexión en MakeCode y Python</em></p> <p></center></p> <p>Si hemos dado todos los pasos anteriores y no funciona puede deberse a diversas causas y una muy probable es que los permisos dados en el navegador para el dispositivo estén emparejados para otra aplicación o dispositivo y esto no permite continuar. A la izquierda en la barra de navegación podemos ver un pequeño candado que es un botón que nos da información del sitio y que permite borrar los emparejamientos. En la imagen vemos la situación.</p> <p><center></p> <p><img alt="Borrar emparejamiento" src=../img/problemas/empareja.png><br> <em>Borrar emparejamiento</em></p> <p></center></p> <p>Si seguimos el orden numérico indicado, tras borrar el emparejamiento debemos cerrar la ventana abierta al clicar el candado y veremos la siguiente situación:</p> <p><center></p> <p><img alt="Recargar la página" src=../img/problemas/recarga.png><br> <em>Recargar la página</em></p> <p></center></p> <p>Esta acción restablece el estado del navegador. Si esto no nos funciona a la primera debemos probar a repetirlo un par de veces mas dado que a veces webUSB se desincroniza. También es conveniente combinarlo con desconectar y conectar el USB.</p> <h2 id=pruebas-finales><font color=#007575><strong>Pruebas finales</strong></font><a class=headerlink href=#pruebas-finales title="Permanent link">&para;</a></h2> <p>Para comprobar que todos los cambios propuestos anteriormente se han realizado correctamente vamos a ejecutar desde una terminal los comandos siguientes:</p> <div class=highlight><pre><span></span><code>groups
cat /etc/udev/rules.d/50-microbit.rules
ls -l /etc/udev/rules.d
</code></pre></div> <p>Como vemos en la imagen siguiente, el primer comando nos indica que el usuario está en el grupo requerido, el segundo nos muestra la sintaxis de la regla creada y con el tercero simplemente comprobamos que el fichero creado efectivamente está y además en el directorio correspondiente.</p> <p><center></p> <p><img alt="Creación regla udev" src=../img/directo/resumen.png> <em>Creación regla udev</em></p> <p></center></p> <p>En la imagen se ha indicado la existencia del archivo de reglas udev creado con la instalación del navegador Chromium, pero en este no existe ninguna regla para micro:bit y personalmente no he querido tocar el mismo.</p> <h3 id=makecode><font color=#AA0000>MakeCode</font><a class=headerlink href=#makecode title="Permanent link">&para;</a></h3> <p>Iniciamos el navegador Chromium o Google Chrome, este último preferiblemente desde un perfil sin cuenta o con una cuenta que tenga poca actividad.</p> <p>Conectamos nuestra micro:bit a un puerto USB y procedemos a emparejarla con el navegador. Si nos da algún tipo de error debemos probar a desconectar y volver a conectar la micro:bit del USB y repetir la operación.</p> <p>Para el caso de Chromium será algo similar a lo siguiente:</p> <p><center></p> <p><img alt="Flasheo directo en Chromium" src=../img/directo/makecode_chromium.gif> <em>Flasheo directo en Chromium</em></p> <p></center></p> <p>Para el caso de Chrome será algo similar a lo siguiente:</p> <p><center></p> <p><img alt="Flasheo directo en Chrome" src=../img/directo/makecode_chrome.gif> <em>Flasheo directo en Chrome</em></p> <p></center></p> <h3 id=python><font color=#AA0000>Python</font><a class=headerlink href=#python title="Permanent link">&para;</a></h3> <p>Para el caso de Chromium será algo similar a lo siguiente:</p> <p><center></p> <p><img alt="Flasheo directo en Chromium" src=../img/directo/mpy_chromium.gif> <em>Flasheo directo en Chromium</em></p> <p></center></p> <p>Para el caso de Chrome será algo similar a lo siguiente:</p> <p><center></p> <p><img alt="Flasheo directo en Chrome" src=../img/directo/mpy_chrome.gif> <em>Flasheo directo en Chrome</em></p> <p></center></p> <p>Tenemos que recordar siempre archivar nuestro trabajo.</p> <h2 id=mas-reglas-udev><font color=#007575><strong>Mas reglas udev</strong></font><a class=headerlink href=#mas-reglas-udev title="Permanent link">&para;</a></h2> <p>Vamos a instalar en el sistema una nueva regla propuesta por Martin Williams en el ticket <a href=https://support.microbit.org/support/tickets/64940>Ticket #64940 error: The transfer timed out. type: transient, user error 504</a>. En este caso enfocado al sistema de grabación de firmware drag &amp; drop. Si seguimos viendo el error 504, vamos a trabajar con otra regla udev que podemos eliminar si nos ocasiona problemas secundarios.</p> <p>Sería conveniente tener un historial de pruebsas anterior a la instalación de la nueva regla para poder comparalas con las que hagamos después de instalarla. Con una micro:bit conectada ejecutamos el comando:</p> <div class=highlight><pre><span></span><code>mount<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>MICROBIT
</code></pre></div> <p>En mi caso devuelve lo siguiente:</p> <p><center></p> <p><img alt="Antes de la nueva regla udev" src=../img/problemas/sinudev99.png> <em>Antes de la nueva regla udev</em></p> <p></center></p> <p>Para los siguientes pasos desconectamos la micro:bit del ordenador y reiniciamos las reglas udev.</p> <p>Nos descargamos el archivo <a href=../programas/99-microbit-udisks.zip>99-microbit-udisks.zip</a> y lo descomprimimos en un directorio aparte. Hacemos una copia del archivo descomprimido en el directorio de reglas '<em>/etc/udev/rules.d</em>'. Para ello hacemos:</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>cp<span class=w> </span><span class=m>99</span>-microbit-udisks.rules<span class=w> </span>/etc/udev/rules.d
</code></pre></div> <p>Hacemos la comprobación de quien es el propietario, los permisos y el grupo al que pertenece el nuevo archivo. Esto lo podemos hacer con el comando:</p> <div class=highlight><pre><span></span><code>ls<span class=w> </span>-l<span class=w> </span>/etc/udev/rules.d
</code></pre></div> <p>Reiniciamos udev:</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>udevadm<span class=w> </span>control<span class=w> </span>--reload-rules
sudo<span class=w> </span>udevadm<span class=w> </span>trigger
</code></pre></div> <p>Volvemos a conectar la micro:bit y comprobamos de nuevo con:</p> <div class=highlight><pre><span></span><code>mount<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>MICROBIT
</code></pre></div> <p><center></p> <p><img alt="Después de la nueva regla udev" src=../img/problemas/conudev99.png> <em>Después de la nueva regla udev</em></p> <p></center></p> <p>La única diferencia debería ser que se ha añadido "sync".</p> <h2 id=sistema-de-prueba><font color=#007575><strong>Sistema de prueba</strong></font><a class=headerlink href=#sistema-de-prueba title="Permanent link">&para;</a></h2> <p>Mediante el hilo indicado en la webgrafia y utilizando la información obtenida de <a href=https://support.microbit.org/support/solutions/articles/19000105428-webusb-troubleshooting>WebUSB Troubleshooting</a> ha quedado resuelto el tema de utilizar <a href=directo.md>webUSB con Chromium</a> y se propone un método de prueba de errores que a mi entender nos puede resultar bastante útil en un momento determinado.</p> <p>Cuando estamos teniendo problemas para grabar firmware mediante la técnica de arrastrar y soltar (drag &amp; drop) y/o flasheando desde la web del editor, nos resultará útil disponer de una colección de archivos que permitan ir realizando pruebas al tiempo que llevamos la cuenta de las pruebas realizadas.</p> <p>Es <strong>Martin Williams</strong> de <strong>Micro:bit Educational Foundation</strong> quien propone el sistema y el procedimiento a seguir.</p> <ul> <li>Siempre que tengamos un error tenemos que desconectar y volver a conectar el USB antes de probar de nuevo con el mismo archivo.</li> <li>Crear un script de Python en el que podamos ir cambiando el número de intento cuando el programa se flashea o graba correctamente.</li> </ul> <p>El script de Python propuesto lo he modificado y queda así:</p> <div class=highlight><pre><span></span><code><span class=c1># Las importaciones al principio</span>
<span class=sd>&quot;&quot;&quot;En Python, se utiliza la palabra clave import </span>
<span class=sd>para hacer que el código de un módulo esté </span>
<span class=sd>disponible en otro.&quot;&quot;&quot;</span>
<span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>

<span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>HEART</span><span class=p>)</span>
<span class=n>sleep</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>

<span class=c1># El código en&#39;while True:&#39; se repite indefinidamente</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=c1>#Contamos cambiando el valor aquí</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
</code></pre></div> <p>En el fichero <a href=../programas/upy/coleccion_errores/10_archivos_hex_python.zip>10_archivos_hex_python.zip</a> tenemos los 10 archivos hexadecimal generados y probados. El primero de los cuales (python0-main.py) también lo tenemos en formato texto.</p> <p>Probamos arrastrando cada archivo de manera sucesiva. Si se produce algún fallo volvemos a desconectar y conectar el USB y probamos de nuevo el mismo archivo. Podemos ir anotando el número de fallos que se producen al transferir los 10 archivos.</p> <p>También probamos a cargar el archivo '0' en el Editor Python, y lo flasheamos directamente desde el editor a la unidad micro:bit y hacemos el procerso de reconectar si es necesario. Vamos cambiando el número cuando tenemos éxito, hasta que he lleguemos al número 9. Cambiando el número se comprueba que el archivo se está transfiriendo realmente, ¡y ayuda a no perder la cuenta!</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2020 - 2035 Federico Coca </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/fgcoca target=_blank rel=noopener title="Twitter de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://github.com/fgcoca target=_blank rel=noopener title="Github de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.instagram.com/cocafederico/?hl=es" target=_blank rel=noopener title="Instagram de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://twitter.com/clubroboticagra target=_blank rel=noopener title="Twitter de Club Robótica Granada" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script> <script src=../assets/javascripts/bundle.220ee61c.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>