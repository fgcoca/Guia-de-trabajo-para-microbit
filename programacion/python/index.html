<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Se pretende crear una guia para trabajar con la tarjeta micro:bit mediante programación gráfica o programando con MicroPython"><meta name=author content="Federico Coca"><link href=https://fgcoca.github.io/Guia-de-trabajo-para-microbit/programacion/python/ rel=canonical><link href=../mkcode/ rel=prev><link href=../ublocks/ rel=next><link rel=icon href=../../img/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.18"><title>Python - Guia de trabajo para micro:bit</title><link rel=stylesheet href=../../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#python class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabecera> <a href=../.. title="Guia de trabajo para micro:bit" class="md-header__button md-logo" aria-label="Guia de trabajo para micro:bit" data-md-component=logo> <img src=../../img/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Guia de trabajo para micro:bit </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Python </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Buscar> <button type=reset class="md-search__icon md-icon" title=Limpiar aria-label=Limpiar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgcoca/Guia-de-trabajo-para-microbit title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Guia-de-trabajo-para-microbit </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Guia de trabajo para micro:bit" class="md-nav__button md-logo" aria-label="Guia de trabajo para micro:bit" data-md-component=logo> <img src=../../img/favicon.png alt=logo> </a> Guia de trabajo para micro:bit </label> <div class=md-nav__source> <a href=https://github.com/fgcoca/Guia-de-trabajo-para-microbit title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Guia-de-trabajo-para-microbit </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../../configura/ class=md-nav__link> Configurar nuestra micro:bit </a> </li> <li class=md-nav__item> <a href=../../problemas/ class=md-nav__link> Solución de problemas </a> </li> <li class=md-nav__item> <a href=../../guias/mkcode/ class=md-nav__link> Guía de MakeCode </a> </li> <li class=md-nav__item> <a href=../../guias/mblocks/ class=md-nav__link> Guía de MicroBlocks </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guias/intro/ class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../../guias/pyt/ class=md-nav__link> Guía de MicroPython </a> </li> <li class=md-nav__item> <a href=../../guias/poo/ class=md-nav__link> Programacion Orientada a Objetos </a> </li> <li class=md-nav__item> <a href=../../guias/consola/ class=md-nav__link> La consola serie </a> </li> <li class=md-nav__item> <a href=../../guias/outofthebox/ class=md-nav__link> Experiencia inmediata </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Conceptos técnicos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Conceptos técnicos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../conceptos/discretos/ class=md-nav__link> Componentes discretos </a> </li> <li class=md-nav__item> <a href=../../conceptos/ohm/ class=md-nav__link> Ley de Ohm </a> </li> <li class=md-nav__item> <a href=../../conceptos/signals/ class=md-nav__link> Señales </a> </li> <li class=md-nav__item> <a href=../../conceptos/avanzados/ class=md-nav__link> Componentes avanzados </a> </li> <li class=md-nav__item> <a href=../../conceptos/radio/ class=md-nav__link> Radio </a> </li> <li class=md-nav__item> <a href=../../conceptos/serie/ class=md-nav__link> Comunicación serie </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> Conceptos de programación <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Conceptos de programación </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../mkcode/ class=md-nav__link> MakeCode </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Python <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Python </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#api-el-modulo-microbit class=md-nav__link> API: El módulo microbit </a> </li> <li class=md-nav__item> <a href=#api-display class=md-nav__link> API: Display </a> </li> <li class=md-nav__item> <a href=#estructuras-de-datos-en-python class=md-nav__link> Estructuras de datos en Python </a> <nav class=md-nav aria-label="Estructuras de datos en Python"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#las-listas-list class=md-nav__link> Las listas (list) </a> </li> <li class=md-nav__item> <a href=#las-tuplas-tuple class=md-nav__link> Las tuplas (tuple) </a> </li> <li class=md-nav__item> <a href=#diccionarios-dict class=md-nav__link> Diccionarios (dict) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bucles class=md-nav__link> Bucles </a> </li> <li class=md-nav__item> <a href=#imagenes class=md-nav__link> Imágenes </a> </li> <li class=md-nav__item> <a href=#sentencia-condicional-ifelse class=md-nav__link> Sentencia condicional if...else </a> </li> <li class=md-nav__item> <a href=#funciones-en-python class=md-nav__link> Funciones en Python </a> </li> <li class=md-nav__item> <a href=#modulos-en-python class=md-nav__link> Módulos en Python </a> </li> <li class=md-nav__item> <a href=#eventos-para-los-botones class=md-nav__link> Eventos para los botones </a> </li> <li class=md-nav__item> <a href=#pines-de-entradasalida class=md-nav__link> Pines de Entrada/salida </a> <nav class=md-nav aria-label="Pines de Entrada/salida"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#digital class=md-nav__link> Digital </a> </li> <li class=md-nav__item> <a href=#analogica class=md-nav__link> Analógica </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#numeros-aleatorios class=md-nav__link> Números aleatorios </a> </li> <li class=md-nav__item> <a href=#modulo-neopixel class=md-nav__link> Módulo NeoPixel </a> </li> <li class=md-nav__item> <a href=#musica class=md-nav__link> Música </a> </li> <li class=md-nav__item> <a href=#funciones-de-la-uart class=md-nav__link> Funciones de la UART </a> </li> <li class=md-nav__item> <a href=#magnetometro-y-acelerometro class=md-nav__link> Magnetómetro y acelerómetro </a> <nav class=md-nav aria-label="Magnetómetro y acelerómetro"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#acelerometro class=md-nav__link> Acelerómetro </a> </li> <li class=md-nav__item> <a href=#magnetometro class=md-nav__link> Magnetómetro </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#funciones-para-la-pantalla class=md-nav__link> Funciones para la pantalla </a> </li> <li class=md-nav__item> <a href=#i2c class=md-nav__link> I2C </a> </li> <li class=md-nav__item> <a href=#temperatura class=md-nav__link> Temperatura </a> </li> <li class=md-nav__item> <a href=#microfono-solo-en-v2 class=md-nav__link> Micrófono, solo en V2 </a> </li> <li class=md-nav__item> <a href=#radio class=md-nav__link> Radio </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../ublocks/ class=md-nav__link> MicroBlocks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> Actividades <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Actividades </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../actividades/A01/ class=md-nav__link> A01. Hola mundo </a> </li> <li class=md-nav__item> <a href=../../actividades/A02/ class=md-nav__link> A02. Imágenes </a> </li> <li class=md-nav__item> <a href=../../actividades/A03/ class=md-nav__link> A03. Botones </a> </li> <li class=md-nav__item> <a href=../../actividades/A04/ class=md-nav__link> A04. Pines </a> </li> <li class=md-nav__item> <a href=../../actividades/A05/ class=md-nav__link> A05. Botón pulsador </a> </li> <li class=md-nav__item> <a href=../../actividades/A06/ class=md-nav__link> A06. Barra de LEDs </a> </li> <li class=md-nav__item> <a href=../../actividades/A07/ class=md-nav__link> A07. Diodo LED RGB </a> </li> <li class=md-nav__item> <a href=../../actividades/A08/ class=md-nav__link> A08. Diodos LEDs RGB direccionables </a> </li> <li class=md-nav__item> <a href=../../actividades/A09/ class=md-nav__link> A09. Zumbador o buzzer </a> </li> <li class=md-nav__item> <a href=../../actividades/A10/ class=md-nav__link> A10. Comunicación serie </a> </li> <li class=md-nav__item> <a href=../../actividades/A11/ class=md-nav__link> A11. Magnetómetro y acelerómetro </a> </li> <li class=md-nav__item> <a href=../../actividades/A12/ class=md-nav__link> A12. Entrada analógica. El potenciómetro </a> </li> <li class=md-nav__item> <a href=../../actividades/A13/ class=md-nav__link> A13. Control con potenciómetro de LED, LED RGB y Neopixel </a> </li> <li class=md-nav__item> <a href=../../actividades/A14/ class=md-nav__link> A14. Nivel de luz. LDR </a> </li> <li class=md-nav__item> <a href=../../actividades/A15/ class=md-nav__link> A15. LCD 1602 I2C </a> </li> <li class=md-nav__item> <a href=../../actividades/A16/ class=md-nav__link> A16. Medidas de temperatura </a> </li> <li class=md-nav__item> <a href=../../actividades/A17/ class=md-nav__link> A17. Micrófono en V2 </a> </li> <li class=md-nav__item> <a href=../../actividades/A18/ class=md-nav__link> A18. Radio </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../programas/lista/ class=md-nav__link> Listado de programas </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> Miscelanea <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Miscelanea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Miscelanea/about/ class=md-nav__link> Autor </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/lic/ class=md-nav__link> Licencias </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/webgrafia/ class=md-nav__link> Webgrafia/Bibliografía </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/soft/ class=md-nav__link> Software utilizado </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#api-el-modulo-microbit class=md-nav__link> API: El módulo microbit </a> </li> <li class=md-nav__item> <a href=#api-display class=md-nav__link> API: Display </a> </li> <li class=md-nav__item> <a href=#estructuras-de-datos-en-python class=md-nav__link> Estructuras de datos en Python </a> <nav class=md-nav aria-label="Estructuras de datos en Python"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#las-listas-list class=md-nav__link> Las listas (list) </a> </li> <li class=md-nav__item> <a href=#las-tuplas-tuple class=md-nav__link> Las tuplas (tuple) </a> </li> <li class=md-nav__item> <a href=#diccionarios-dict class=md-nav__link> Diccionarios (dict) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bucles class=md-nav__link> Bucles </a> </li> <li class=md-nav__item> <a href=#imagenes class=md-nav__link> Imágenes </a> </li> <li class=md-nav__item> <a href=#sentencia-condicional-ifelse class=md-nav__link> Sentencia condicional if...else </a> </li> <li class=md-nav__item> <a href=#funciones-en-python class=md-nav__link> Funciones en Python </a> </li> <li class=md-nav__item> <a href=#modulos-en-python class=md-nav__link> Módulos en Python </a> </li> <li class=md-nav__item> <a href=#eventos-para-los-botones class=md-nav__link> Eventos para los botones </a> </li> <li class=md-nav__item> <a href=#pines-de-entradasalida class=md-nav__link> Pines de Entrada/salida </a> <nav class=md-nav aria-label="Pines de Entrada/salida"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#digital class=md-nav__link> Digital </a> </li> <li class=md-nav__item> <a href=#analogica class=md-nav__link> Analógica </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#numeros-aleatorios class=md-nav__link> Números aleatorios </a> </li> <li class=md-nav__item> <a href=#modulo-neopixel class=md-nav__link> Módulo NeoPixel </a> </li> <li class=md-nav__item> <a href=#musica class=md-nav__link> Música </a> </li> <li class=md-nav__item> <a href=#funciones-de-la-uart class=md-nav__link> Funciones de la UART </a> </li> <li class=md-nav__item> <a href=#magnetometro-y-acelerometro class=md-nav__link> Magnetómetro y acelerómetro </a> <nav class=md-nav aria-label="Magnetómetro y acelerómetro"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#acelerometro class=md-nav__link> Acelerómetro </a> </li> <li class=md-nav__item> <a href=#magnetometro class=md-nav__link> Magnetómetro </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#funciones-para-la-pantalla class=md-nav__link> Funciones para la pantalla </a> </li> <li class=md-nav__item> <a href=#i2c class=md-nav__link> I2C </a> </li> <li class=md-nav__item> <a href=#temperatura class=md-nav__link> Temperatura </a> </li> <li class=md-nav__item> <a href=#microfono-solo-en-v2 class=md-nav__link> Micrófono, solo en V2 </a> </li> <li class=md-nav__item> <a href=#radio class=md-nav__link> Radio </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=python><font color=#8B008B>Python</font><a class=headerlink href=#python title="Permanent link">&para;</a></h1> <p>De manera muy resumida lo que haremos en esta sección es:</p> <ul> <li>Introducir los conceptos de programación para programar la micro:bit desde BBC micro:bit MicroPython.</li> <li>También introduciremos conceptos de micro:bit Micropython API.</li> </ul> <h2 id=api-el-modulo-microbit><font color=#007575><strong>API: El módulo microbit</strong></font><a class=headerlink href=#api-el-modulo-microbit title="Permanent link">&para;</a></h2> <p>Todo lo necesario para interactuar con el hardware de la micro:bit está en el módulo <em>microbit</em> y se recomienda su uso escribiendo al principio del programa:</p> <p><center> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>
</code></pre></div> </center></p> <p>Las funciones disponibles directamente son:</p> <div class=highlight><pre><span></span><code><span class=n>sleep</span><span class=p>(</span><span class=n>ms</span><span class=p>)</span> <span class=c1>#1</span>
<span class=n>running_time</span><span class=p>()</span> <span class=c1>#2</span>
<span class=n>temperature</span><span class=p>()</span> <span class=c1>#3</span>
<span class=n>scale</span><span class=p>(</span><span class=n>valor_a_convertir</span><span class=p>,</span> <span class=n>from_</span><span class=o>=</span><span class=p>(</span><span class=nb>min</span><span class=p>,</span> <span class=nb>max</span><span class=p>),</span> <span class=n>to</span><span class=o>=</span><span class=p>(</span><span class=nb>min</span><span class=p>,</span> <span class=nb>max</span><span class=p>))</span> <span class=c1>#4</span>
<span class=n>panic</span><span class=p>(</span><span class=n>error_code</span><span class=p>)</span> <span class=c1>#5</span>
<span class=n>reset</span><span class=p>()</span> <span class=c1>#6</span>
<span class=n>set_volume</span><span class=p>(</span><span class=n>valor</span><span class=p>)</span> <span class=c1>#7 (V2)</span>
<span class=sd>&#39;&#39;&#39;</span>
<span class=sd>1 Esperar el número de milisegundos indicado</span>
<span class=sd>2 Devuelve el tiempo en ms desde la última vez que se encendió la micro:bit</span>
<span class=sd>3 Devuelve la temperatura en Celcius</span>
<span class=sd>4 Convierte un número de una escala de valores a otra</span>
<span class=sd>5 La micro:bit entra en modo pánico por falta de memoria y se dibuja una</span>
<span class=sd>cara triste en la pantalla. El valor de error_code puede ser cualquier entero.</span>
<span class=sd>6 Resetea la micro:bit</span>
<span class=sd>7 Estable el volumen de salida con un *valor* entre 0 y 255</span>
<span class=sd>&#39;&#39;&#39;</span>
</code></pre></div> <h2 id=api-display><font color=#007575>API: <em>Display</em></font><a class=headerlink href=#api-display title="Permanent link">&para;</a></h2> <p>Control de la matriz de 5x5 LEDs que en micro:bit se conoce como pantalla. Los métodos de la clase son:</p> <div class=highlight><pre><span></span><code><span class=n>display</span><span class=o>.</span><span class=n>get_pixel</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=c1>#1</span>
<span class=n>display</span><span class=o>.</span><span class=n>set_pixel</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>val</span><span class=p>)</span> <span class=c1>#2</span>
<span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span> <span class=c1>#3</span>
<span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>delay</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>wait</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>loop</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>clear</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span> <span class=c1>#4</span>
<span class=n>display</span><span class=o>.</span><span class=n>scroll</span><span class=p>(</span><span class=n>string</span><span class=p>,</span> <span class=n>delay</span><span class=o>=</span><span class=mi>400</span><span class=p>)</span> <span class=c1>#5</span>
<span class=sd>&#39;&#39;&#39;</span>
<span class=sd>1 Obtiene el brillo [0 (apagado) a 9 (máx))] del pixel (x,y)</span>
<span class=sd>2 Establece el brillo [0 (apagado) a 9 (máx))] del pixel (x,y)</span>
<span class=sd>3 Borra (apaga) la pantalla</span>
<span class=sd>4 Muestra la imagen</span>
<span class=sd>5 Desplaza una cadena por la pantalla a la velocidad en ms del *delay*</span>
<span class=sd>&#39;&#39;&#39;</span>
</code></pre></div> <p>En ambos casos de la API existen otras muchas opciones no incluidas. La funcionalidad de autocompletar nos ayudará para no tener que recordar la sintaxis y conocer las que no aparece aquí. En la animación siguiente vemos un ejemplo de ambos casos.</p> <p><center></p> <p><img alt="Autocompletar funciones y métodos" src=../../img/programacion/python/func_metodos.gif><br> <em>Autocompletar funciones y métodos</em></p> <p></center></p> <h2 id=estructuras-de-datos-en-python><font color=#007575><strong>Estructuras de datos en Python</strong></font><a class=headerlink href=#estructuras-de-datos-en-python title="Permanent link">&para;</a></h2> <h3 id=las-listas-list><font color=#AA0000><strong>Las listas (list)</strong></font><a class=headerlink href=#las-listas-list title="Permanent link">&para;</a></h3> <p>Se trata de un tipo de dato que permite almacenar series de datos de cualquier tipo bajo su estructura. Se suelen asociar a las matrices o arrays de otros lenguajes de programación.</p> <p>En Python las listas son muy versatiles permitiendo almacenar un conjunto arbitrario de datos. Es decir, podemos guardar en ellas lo que sea.</p> <p>Una lista se crea con <code>[]</code> y sus elementos se separan por comas. Una gran ventaja es que pueden tener datos de diferentes tipos.</p> <div class=highlight><pre><span></span><code><span class=n>lista</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;Hola&quot;</span><span class=p>,</span> <span class=mf>3.141592</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span> <span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=n>Image</span><span class=o>.</span><span class=n>HAPPY</span><span class=p>]</span>
</code></pre></div> <p>Las de principales propiedades de las listas:</p> <ul> <li>Son ordenadas, mantienen el orden en el que han sido definidas</li> <li>Pueden ser formadas por tipos arbitrarios de datos</li> <li>Pueden ser indexadas con [i]</li> <li>Se pueden anidar, es decir, meter una lista dentro de otra</li> <li>Son mutables, ya que sus elementos pueden ser modificados</li> <li>Son dinámicas, ya que se pueden añadir o eliminar elementos</li> </ul> <p>Hay dos métodos aplicables:</p> <ul> <li><strong><code>append</code></strong>. Permite agregar elementos a la lista.</li> <li><strong><code>remove</code></strong>. Elimina elementos de la lista.</li> <li><strong><code>insert(pos,elem)</code></strong>. Inserta el elemento <code>elem</code> en la posición <code>pos</code> indicada.</li> </ul> <p>En el ejemplo vemos el funcionamiento.</p> <p><center></p> <p><img alt="Ejemplo de listas y sus métodos" src=../../img/programacion/python/ejem_listas.png><br> <em>Ejemplo de listas y sus métodos</em></p> <p></center></p> <p>Con estos conocimientos tendremos suficiente para hacer lo que pretendemos, que no es otra cosa que animar imágenes.</p> <h3 id=las-tuplas-tuple><font color=#AA0000><strong>Las tuplas (tuple)</strong></font><a class=headerlink href=#las-tuplas-tuple title="Permanent link">&para;</a></h3> <p>Son muy similares a las listas con una diferencia principal con las mismas y es que las tuplas no pueden ser modificadas directamente, lo que implica que no dispone de los métodos vistos para listas. Una tupla permite tener agrupados un número inmutable de elementos.</p> <p>Una tupla se crea con <code>()</code> y sus elementos se separan por comas.</p> <div class=highlight><pre><span></span><code><span class=n>tupla</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> <p>Principales propiedades:</p> <ul> <li>Se pueden declarar sin usar los paréntesis, pero no se recomienda. No usarlos puede llevarnos a ambigüedades del tipo print(1, 2, 3) y print((1, 2, 3)).</li> <li>Si la tupla tiene un solo elemento esta debe finalizar con coma.</li> <li>Se pueden anidar tuplas, por ejemplo <code>tupla2 = tupla1, 4, 5, 6, 7</code>.</li> <li>Se pueden declarar tuplas vacias, por ejemplo <code>tupla3 = ()</code>.</li> <li>Las tuplas son <em>iterables</em> por lo que sus elementos pueden ser accesados mediante la notación de índice del elemento entre corchetes. Si se quiere acceder a un rango de indices se separan por ":" ambos índices.</li> <li>Es posible convertir listas en tuplas simplemente poniendo la lista dentro de los paréntesis de la tupla, por ejemplo, <code>tupla_lista = ([1, "Hola", 3.141592, [1 , 2, 3], Image.HAPPY])</code></li> </ul> <p>A continuación vemos un ejemplo.</p> <p><center></p> <p><img alt="Ejemplo de tuplas" src=../../img/programacion/python/ejem_tuplas.png><br> <em>Ejemplo de tuplas</em></p> <p></center></p> <h3 id=diccionarios-dict><font color=#AA0000><strong>Diccionarios (dict)</strong></font><a class=headerlink href=#diccionarios-dict title="Permanent link">&para;</a></h3> <p>Estas estructuras contienen la colección de elementos con la forma <code>clave:valor</code> separados por comas y encerrados entre <code>{}</code>. Las claves son objetos inmutables y los valores pueden ser de cualquier tipo. Sus principales características son:</p> <ul> <li>En lugar de por índice como en listas y tuplas, en diccionarios se acceder al valor por su clave.</li> <li>Permiten eliminar cualquier entrada.</li> <li>Al igual que las listas, el diccionario permite modificar los valores.</li> <li>El método <code>dicc.get()</code> accede a un valor por la clave del mismo.</li> <li>El método <code>dicc.items()</code> devuelve una lista de tuplas <code>clave:valor</code>.</li> <li>El método <code>dicc.keys()</code> devuelve una lista de las claves.</li> <li>El método <code>dicc.values()</code> devuelve una lista de los valores.</li> <li>El método <code>dicc.update()</code> añade elemento <code>clave:valor</code> al diccionario.</li> <li>El método <code>del dicc</code> borra el par <code>clave:valor</code>.</li> <li>El método <code>dicc.pop()</code> borra el par <code>clave:valor</code>.</li> </ul> <p>A continuación vemos un ejemplo.</p> <p><center></p> <p><img alt="Ejemplo de diccionario" src=../../img/programacion/python/ejem_dicc.png><br> <em>Ejemplo de diccionario</em></p> <p></center></p> <h2 id=bucles><font color=#007575><strong>Bucles</strong></font><a class=headerlink href=#bucles title="Permanent link">&para;</a></h2> <p>Los <strong>Bucles</strong> son un tipo de estructura de control muy útil cuando queremos repetir un bloque de código varias veces. En Python existen dos tipos de bloques, el bucle <strong><em>for</em></strong> para contar la cantidad de veces que se ejecuta un bloque de código, y el bucle <strong><em>while</em></strong> que realiza la acción hasta que la condición especificada no sea cierta.</p> <p><a name=item0></a></p> <p><a href=#item1>While</a> <br> <a href=#item2>for</a><br> <a href=#item3>Bucle for decontando</a><br> <a href=#item4>Sentencias break y continue</a></p> <p><a name=item2B></a> <font color=#AA0000>While</font> La sintaxis de while es la siguiente:</p> <div class=highlight><pre><span></span><code><span class=k>while</span> <span class=n>condicion</span><span class=p>:</span>
    <span class=n>bloque</span> <span class=n>de</span> <span class=n>codigo</span>
</code></pre></div> <p>donde "condicion", que se evalúa en cada iteración, puede ser cualquier expresión realizado con operadores condicionales que devuelva como resultado un valor True o False. Mientra que "bloque de codigo" es el conjunto de instrucciones que se estarán ejecutando mientras la condición sea verdadera (True o '1'). Es lo mismo poner <code>while true:</code> que poner <code>while 1:</code>.</p> <p>Para recorrer los bucles se utilizan variables que forman parte de la condición, estableciendose en esta lo que deben cumplir.</p> <p>Un ejemplo sencillo podría ser el siguiente, controlar el riego de una planta en función del valor de la humedad de la tierra en la que está.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>

<span class=k>while</span> <span class=p>(</span><span class=n>humedad</span><span class=p>()</span> <span class=o>&lt;</span> <span class=mi>45</span><span class=p>):</span>
    <span class=n>display</span><span class=o>.</span><span class=n>scroll</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>SAD</span><span class=p>)</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>

<span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>HAPPY</span><span class=p>)</span>
</code></pre></div> <p>que hará que si la humedad baja por debajo de 45 se muestre una carita triste indicando que hay que regar y si es mayor mostrará una carita feliz. Evidentemente hay que resolver el tema de como obtener la humedad, pero esa es una historia que veremos mas adelante.</p> <p>El bucle <code>while</code> puede tener de manera opcional un bloque <code>else</code> cuyas sentencias se ejecutan cuando se han realizado todas las iteraciones del bucle. Un ejemplo lo vemos a continuación:</p> <div class=highlight><pre><span></span><code><span class=n>cuenta</span> <span class=o>=</span> <span class=mi>0</span>
<span class=k>while</span> <span class=n>cuenta</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Iteración del bucle&quot;</span><span class=p>)</span>
    <span class=n>cuenta</span> <span class=o>=</span> <span class=n>cuenta</span> <span class=o>+</span> <span class=mi>1</span>
<span class=k>else</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;bucle finalizado&quot;</span><span class=p>)</span>
</code></pre></div> <p><a href=#item0>Volver</a> <a name=item2></a></p> <p><font color=#AA0000>for</font></p> <p>Son también bucles pero su acción está dirigida a contar el número de veces que ocurre algo o realizar una acción un determinado número de veces. Es especialmente útil para recorrer los datos de una lista, tupla o diccionario.</p> <p>La sintaxis de este tipo de bucles en Python es:</p> <div class=highlight><pre><span></span><code><span class=k>for</span> <span class=n>variable</span> <span class=ow>in</span> <span class=n>secuencia</span><span class=p>:</span>
    <span class=n>declaracion</span>
</code></pre></div> <p>Siendo "variable" la variable que se va a recorrer en el bucle de forma que cuando se alcance el valor establecido se sale del bucle.</p> <p>La variable puede ser una cadena, un rango de valores que se expresa con <code>range(n)</code>, siendo n el número de valores del rango que se inicia en 0 y que pueden ser iterados con una variable. Mas ampliamente, la sintaxis de <code>range()</code> es <code>range(start, stop, step)</code> siendo <code>start</code> y <code>stop</code> opcionales.</p> <p>Veamos un primer ejemplo en el que vamos a utilizar un bucle para encender uno a uno por filas los LEDs de la primera y última columna.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>
<span class=k>for</span> <span class=n>var</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span> <span class=c1># var puede tomar 5 valores, del 0 al 4</span>
    <span class=n>display</span><span class=o>.</span><span class=n>set_pixel</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>var</span><span class=p>,</span> <span class=mi>9</span><span class=p>)</span> <span class=c1># Se ilumina el LED de la fila 0 y el valor de var para columna</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>300</span><span class=p>)</span>
    <span class=n>display</span><span class=o>.</span><span class=n>set_pixel</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=n>var</span><span class=p>,</span> <span class=mi>9</span><span class=p>)</span> <span class=c1># Se ilumina el LED de la fila 4 y el valor de var para columna</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>300</span><span class=p>)</span>
</code></pre></div> <p>Los bucles se pueden anidar, es decir se puede crear un bucle dentro de otro del mismo o diferente tipo, de forma que por cada iteración del bucle mas externo se tienen que producir todas las iteraciones del bucle mas interno. Veamos como ejemplo el de encender todos los LEDs de uno en uno, de izquierda a derecha, utilizando el valor de sus coordenadas x,y. El programa sería:</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>

<span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
<span class=k>for</span> <span class=n>y</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>):</span> <span class=c1># Valor de columna</span>
    <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>):</span> <span class=c1># Valor de fila</span>
        <span class=n>display</span><span class=o>.</span><span class=n>set_pixel</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=mi>9</span><span class=p>)</span> <span class=c1># Encender LED x,y</span>
        <span class=n>sleep</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
</code></pre></div> <p>En la animación siguiente vemos el programa en funcionamiento.</p> <p><center></p> <p><img alt="Uso de bucle for" src=../../img/programacion/python/uso_for.gif><br> <em>Uso de bucle for</em></p> <p></center></p> <p>El bucle <code>for</code> puede tener de manera opcional un bloque <code>else</code> cuyas sentencias se ejecutan cuando se han realizado todas las iteraciones del bucle. Un ejemplo lo vemos a continuación:</p> <div class=highlight><pre><span></span><code><span class=k>for</span> <span class=n>var</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>var</span><span class=p>)</span>
<span class=k>else</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;bucle finalizado&quot;</span><span class=p>)</span>
</code></pre></div> <p><a href=#item0>Volver</a> <a name=item3></a></p> <p><font color=#AA0000>Bucle for decontando</font></p> <p>Se trata del mismo bucle <code>for</code> pero ahora la cuenta la realizamos hacia atrás. Hay dos formas sencillas de hacerlo:</p> <ul> <li>Utilizando la función <code>range()</code>. Si queremos darle un enfoque Pythonic simplemente configuramos los argumentos de la función de manera que se indique el principio, el final y el incremento, que será logicamente negativo.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>):</span> <span class=c1>#imprimere 20, 18, 16, ... 0</span>
</code></pre></div> <ul> <li>Utilizando la función <code>reversed()</code>. Es una función incorporada en la que hay que indicar como primer argumento el final de la cuenta, como segundo el principio, teniendo en cuenta que se omite, y como tercero el decremento si es ditintos de 1, pero se especifica en módulo. Se utiliza así:</li> </ul> <div class=highlight><pre><span></span><code><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>reversed</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>21</span><span class=p>,</span><span class=mi>2</span><span class=p>)):</span> <span class=c1>#imprimere 20, 18, 16, ... 0</span>
</code></pre></div> <p><a href=#item0>Volver</a> <a name=item4></a></p> <p><font color=#AA0000>Sentencias <code>break</code> y <code>continue</code></font></p> <p>La sentencia <code>break</code> se utiliza para terminar un bucle de forma inmediata al ser encontrada. En la imagen vemos la sintaxis de la sentencia <code>break</code> y su funcionamiento.</p> <p><center></p> <p><img alt="Sintaxis y funcionamiento de break" src=../../img/programacion/python/break.png><br> <em>Sintaxis y funcionamiento de <code>break</code></em></p> <p></center></p> <p>La sentencia <code>continue</code> se utiliza para saltar la iteración actual del bucle y el flujo de control del programa pasa a la siguiente iteración. En la imagen vemos la sintaxis de la sentencia <code>continue</code> y su funcionamiento.</p> <p><center></p> <p><img alt="Sintaxis y funcionamiento de continue" src=../../img/programacion/python/continue.png><br> <em>Sintaxis y funcionamiento de <code>continue</code></em></p> <p></center></p> <p>En la figura siguiente vemos dos ejemplos de esta sentencia.</p> <p><center></p> <p><img alt="Funcionamiento de continue" src=../../img/programacion/python/ejem_continue.png><br> <em>Funcionamiento de <code>continue</code></em></p> <p></center></p> <h2 id=imagenes><font color=#007575><strong>Imágenes</strong></font><a class=headerlink href=#imagenes title="Permanent link">&para;</a></h2> <p><a name=item0img></a></p> <p><a href=#item1img>Imágenes DIY</a> <br> <a href=#item2img>Animar imágenes</a></p> <p>MicroPython nos ofrece muchas imágenes integradas para mostrar por pantalla y podemos crear efectos interesantes. Mediante la característica de autocompletar se nos van a mostrar todas las definidas que están listadas en la documentación oficial. Ya hemos visto como cargar una imagen, lo que puedo aconsejar en este momento es realizar el ejercicio de mostrar cada una de las disponibles para familiarizarnos con ellas.</p> <p>Es perfectamente posible crar nuestras propias imágenes configurando cada Pixel o LED de la pantalla. También es posible crear animaciones con imágenes.</p> <p><a href=#item0img>Volver</a> <a name=item1img></a></p> <p><font color=#AA0000>Imágenes DIY</font></p> <p>Crear nuestras propias imágenes va a resultar una tarea sencilla cuando conozcamos la información para hacerlo. Cada pixel (LED) de la pantalla se puede configurar con diez valores que pueden tomar un valor entre 0 (cero) y 9 (nueve). Cuando le damos valor 0 (cero) es decirle literalmente que el brillo es nulo y sin embargo cuando le damos el valor 9 (nueve) lo ponemos al máximo de brillo posible. Podemos jugar con todos los valores intermedios para crear niveles de brillo.</p> <p>La forma mas sencilla de definir una imagen consiste en utilizar la <em>clase microbit.Image</em> para crearla a partir de una cadena o string que devuelva el pictograma. Es decir utilizando el comando <em>Image(string)</em> teniendo que constar de dígitos con los valores 0 a 9 indicados. Para verlo rapidamente hacemos el ejemplos de dibujar una X en relieve asignándola a una variable.</p> <div class=highlight><pre><span></span><code><span class=n>mi_imagen_X</span> <span class=o>=</span> <span class=n>Image</span><span class=p>(</span><span class=s2>&quot;90009:&quot;</span>
                    <span class=s2>&quot;06060:&quot;</span>
                    <span class=s2>&quot;00300:&quot;</span>
                    <span class=s2>&quot;06060:&quot;</span>
                    <span class=s2>&quot;90009&quot;</span><span class=p>)</span>
</code></pre></div> <p>Los dos puntos indican un salto de línea por lo que se puede usar el ASCII no imprimible "\n" que es precisamente eso, un salto de línea.</p> <div class=highlight><pre><span></span><code><span class=n>mi_imagen_X</span> <span class=o>=</span> <span class=n>Image</span><span class=p>(</span><span class=s2>&quot;90009</span><span class=se>\n</span><span class=s2>&quot;</span>
                    <span class=s2>&quot;06060</span><span class=se>\n</span><span class=s2>&quot;</span>
                    <span class=s2>&quot;00300</span><span class=se>\n</span><span class=s2>&quot;</span>
                    <span class=s2>&quot;06060</span><span class=se>\n</span><span class=s2>&quot;</span>
                    <span class=s2>&quot;90009&quot;</span><span class=p>)</span>
</code></pre></div> <p>Los valores de brillo dan la sensación de relieve de profundidas a la X.</p> <p>En cualquier caso esto no se escribe normalmente así, salvo para hacer mas o menos un gráfico del pixelado, sino en una sola línea.</p> <div class=highlight><pre><span></span><code><span class=n>mi_imagen_X</span> <span class=o>=</span> <span class=n>Image</span><span class=p>(</span><span class=s2>&quot;90009</span><span class=se>\n</span><span class=s2>06060</span><span class=se>\n</span><span class=s2>00300</span><span class=se>\n</span><span class=s2>06060</span><span class=se>\n</span><span class=s2>90009&quot;</span><span class=p>)</span>
</code></pre></div> <p>Ahora parece mas elegante utilizar los dos puntos como indicador de salto de línea.</p> <div class=highlight><pre><span></span><code><span class=n>mi_imagen_X</span> <span class=o>=</span> <span class=n>Image</span><span class=p>(</span><span class=s2>&quot;90009:06060:00300:06060:90009&quot;</span><span class=p>)</span>
</code></pre></div> <p>En la imagen vemos el resultado de lo explicado.</p> <p><center></p> <p><img alt="mi imagen de una X en relieve" src=../../img/programacion/python/mi_X_relieve.png><br> <em>mi imagen de una X en relieve</em></p> <p></center></p> <p>Este es el código creado:</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span> 
<span class=sd>&quot;&quot;&quot;mi_imagen_X = Image(&quot;90009\n&quot;</span>
<span class=sd>                       &quot;06060\n&quot;</span>
<span class=sd>                       &quot;00300\n&quot;</span>
<span class=sd>                       &quot;06060\n&quot;</span>
<span class=sd>                       &quot;90009&quot;)&quot;&quot;&quot;</span>
<span class=c1>#mi_imagen_X = Image(&quot;90009\n06060\n00300\n06060\n90009&quot;)</span>
<span class=n>mi_imagen_X</span> <span class=o>=</span> <span class=n>Image</span><span class=p>(</span><span class=s2>&quot;90009:06060:00300:06060:90009&quot;</span><span class=p>)</span>
<span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>mi_imagen_X</span><span class=p>)</span>
</code></pre></div> <p><a href=#item0img>Volver</a> <a name=item2img></a></p> <p><font color=#AA0000>Animar imágenes</font></p> <p>En micro:bit Python ya disponemos de un par de listas de imágenes incorporadas que se llaman</p> <div class=highlight><pre><span></span><code><span class=n>Image</span><span class=o>.</span><span class=n>ALL_Clocks</span>
<span class=n>Image</span><span class=o>.</span><span class=n>ALL_ARROWS</span>
</code></pre></div> <p>Estas dos ordenes hacen que MicroPython entienda que necesita mostrar cada imagen de la lista, una tras otra.</p> <p>Cuando queremos mostrar en la pantalla una imagen se nos muestra la siguiente ayuda contextual:</p> <p><center></p> <p><img alt="Ayuda contextual para display.show()" src=../../img/programacion/python/ayuda_disp_show.png><br> <em>Ayuda contextual para display.show()</em></p> <p></center></p> <p>donde nos indica claramente qie <strong>image</strong> puede ser una cadena, un número, una imagen o una lista de imágenes. Además aparecen las opciones que podemos configurar.</p> <p>Con esta información crear un "reloj" que esté continuamente marcando cada hora es bastante sencillo, basta con poner el siguiente código y darle a simular.</p> <div class=highlight><pre><span></span><code><span class=c1># Imports go at the top</span>
<span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>
<span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>ALL_CLOCKS</span><span class=p>,</span> <span class=n>delay</span><span class=o>=</span><span class=mi>400</span><span class=p>,</span> <span class=n>loop</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <p>En la animación vemos el funcionamiento de este "reloj".</p> <p><center></p> <p><img alt='"Reloj" creado con display.show() y mostrar una lista' src=../../img/programacion/python/reloj_lista.gif><br> <em>"Reloj" creado con display.show() y mostrar una lista</em></p> <p></center></p> <p>Si cambiamos el reloj por las flechas veremos como van rotando flechas en ángulos de 45 grados.</p> <p><center></p> <p><img alt="Flechas creado con display.show() y mostrar una lista" src=../../img/programacion/python/flechas_lista.gif><br> <em>Flechas creado con display.show() y mostrar una lista</em></p> <p></center></p> <p>Para animar nuestras propias imágenes tendremos que crear cada una sobre un lienzo de 5x5 pixeles y establecer las diferencias para crear la animación. Podemos crear tantas imágenes como creamos oportuno. Creamos una lista con todas las imágenes en el orden que se tienen que reproducir y ya podemos mostrar nuestra lista en la pantalla.</p> <p>En la animación siguiente vemos un efecto creado de esta forma.</p> <p><center></p> <p><img alt="Cortinilla animada" src=../../img/programacion/python/cortinilla.gif><br> <em>Cortinilla animada</em></p> <p></center></p> <p>Este es el código para crear la animación.</p> <div class=highlight><pre><span></span><code><span class=c1># Imports go at the top</span>
<span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>
<span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
<span class=n>cor1</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;90000:90000:90000:90000:90000&quot;</span><span class=p>)</span>
<span class=n>cor2</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;79000:79000:79000:79000:79000&quot;</span><span class=p>)</span>
<span class=n>cor3</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;57900:57900:57900:57900:57900&quot;</span><span class=p>)</span>
<span class=n>cor4</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;35790:35790:35790:35790:35790&quot;</span><span class=p>)</span>
<span class=n>cor5</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;13579:13579:13579:13579:13579&quot;</span><span class=p>)</span>
<span class=n>cor6</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;01357:01357:01357:01357:01357&quot;</span><span class=p>)</span>
<span class=n>cor7</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;00135:00135:00135:00135:00135&quot;</span><span class=p>)</span>
<span class=n>cor8</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;00013:00013:00013:00013:00013&quot;</span><span class=p>)</span>
<span class=n>cor9</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;00001:00001:00001:00001:00001&quot;</span><span class=p>)</span>
<span class=n>cor10</span><span class=o>=</span><span class=n>Image</span><span class=p>(</span><span class=s2>&quot;00000:00000:00000:00000:00000&quot;</span><span class=p>)</span>
<span class=n>todas_las_cortinas</span><span class=o>=</span><span class=p>[</span><span class=n>cor1</span><span class=p>,</span><span class=n>cor2</span><span class=p>,</span><span class=n>cor3</span><span class=p>,</span><span class=n>cor4</span><span class=p>,</span><span class=n>cor5</span><span class=p>,</span><span class=n>cor6</span><span class=p>,</span><span class=n>cor7</span><span class=p>,</span><span class=n>cor8</span><span class=p>,</span><span class=n>cor9</span><span class=p>,</span><span class=n>cor10</span><span class=p>]</span>
<span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>todas_las_cortinas</span><span class=p>,</span> <span class=n>delay</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>loop</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <h2 id=sentencia-condicional-ifelse><font color=#007575><strong>Sentencia condicional <code>if...else</code></strong></font><a class=headerlink href=#sentencia-condicional-ifelse title="Permanent link">&para;</a></h2> <p>En Python hay tres formas de declaración de <code>if...else</code></p> <blockquote> <ol> <li>Declaración <code>if</code></li> <li>Declaración <code>if...else</code></li> <li>Declaración <code>if...elif...else</code></li> </ol> </blockquote> <ol> <li>Declaración <code>if</code>. La sintaxix de esta declaración en Python tiene la forma siguiente:</li> </ol> <div class=highlight><pre><span></span><code><span class=k>if</span> <span class=n>condicion</span><span class=p>:</span>
    <span class=c1># Cuerpo de la sentencia if</span>

<span class=c1># Código después del if</span>
</code></pre></div> <p>Si el resultado de evaluar la condición es cierto (True o 1), el código en "Cuerpo de la sentencia if" y lo estará haciendo mientras se cumpla la condición.</p> <p>En el momento que la condición sea evaluada como falsa (False o 0) el código en "Cuerpo de la sentencia if" se omite y continua la ejecución del programa por "Código después del if". En la figura siguiente vemos la explicación de forma gráfica.</p> <p><center></p> <p><img alt="Funcionamiento de la sentencia if" src=../../img/programacion/python/f_if.png><br> <em>Funcionamiento de la sentencia <code>if</code></em></p> <p></center></p> <ol> <li>Declaración <code>if...else</code>. Una sentencia <code>if</code> puede tener de manera opcional una clausula <code>else</code>. La sintaxix de esta declaración en Python tiene la forma siguiente:</li> </ol> <div class=highlight><pre><span></span><code><span class=k>if</span> <span class=n>condicion</span><span class=p>:</span>
    <span class=c1># Bloque de sentencias si condicion es True</span>

    <span class=k>else</span><span class=p>:</span>
    <span class=c1># Bloque de sentencias si condicion es False</span>
</code></pre></div> <p>La sentencia se evalúa de la siguiente forma: Si <code>condición</code> es <code>True</code> se ejecuta el código dentro del <code>if</code> y el código dentro del <code>else</code> se omite. Si <code>condición</code> es <code>False</code> se ejecuta el código dentro del <code>else</code> y el código dentro del <code>if</code> se omite. Cuando finaliza bien la parte del <code>if</code> o bien la del <code>else</code> el programa continua con la siguiente sentencia.</p> <p>En la figura siguiente vemos la explicación de forma gráfica.</p> <p><center></p> <p><img alt="Funcionamiento de la sentencia if...else" src=../../img/programacion/python/f_ifelse.png><br> <em>Funcionamiento de la sentencia <code>if...else</code></em></p> <p></center></p> <ol> <li>Declaración <code>if...elif...else</code>. La sentencia <code>if...else</code> se utiliza para ejecutar un bloque de código entre dos alternativas posibles. Sin embargo, si necesitamos elegir entre más de dos alternativas, entonces utilizamos la sentencia <code>if...elif...else</code>. La sintaxis de la sentencia <code>if...elif...else</code> es:</li> </ol> <div class=highlight><pre><span></span><code><span class=k>if</span> <span class=n>condicion_1</span><span class=p>:</span>
    <span class=c1># Bloque 1</span>
<span class=k>elif</span> <span class=n>condicion_2</span><span class=p>:</span>
    <span class=c1>#Bloque 2</span>

    <span class=k>else</span><span class=p>:</span>
    <span class=c1># Bloque 3</span>
</code></pre></div> <p>Se evalúa así: Si <code>condicion_1</code> es <code>True</code>, se ejecuta Bloque 1. Si <code>condicion_1</code> es <code>False</code>, se evalúa <code>condicion_2</code>. Si <code>condicion_2</code> es <code>True</code>, se ejecuta Bloque 2. Si <code>condicion_2</code> es <code>False</code>, se ejecuta Bloque 3.</p> <p>En la figura siguiente vemos la explicación de forma gráfica.</p> <p><center></p> <p><img alt="Funcionamiento de la sentencia if...elif...else" src=../../img/programacion/python/f_ifelifelse.png><br> <em>Funcionamiento de la sentencia <code>if...elif...else</code></em></p> <p></center></p> <h2 id=funciones-en-python><font color=#007575><strong>Funciones en Python</strong></font><a class=headerlink href=#funciones-en-python title="Permanent link">&para;</a></h2> <p>En esta sección vamos a dar solamente una breve introducción a lo que son las funciones y los módulos en Python para estudiar dos funciones concretas definidas en MicroPhyton para micro:bit.</p> <p>Una función es un bloque de código que realiza una tarea específica.</p> <p>Supongamos que necesitas crear un programa para crear un círculo y colorearlo. Puedes crear dos funciones para resolver este problema:</p> <ul> <li>crear una función de círculo</li> <li>crear una función de color</li> </ul> <p>Dividir un problema complejo en trozos más pequeños hace que nuestro programa sea fácil de entender y reutilizar.</p> <p>Existen dos tipos de funciones en Python:</p> <ul> <li><strong>Standard library functions (Funciones de biblioteca estándar)</strong>. Son funciones incorporadas en Python que están disponibles para su uso.</li> <li><strong>User-defined functions (Funciones definidas por el usuario)</strong>. Podemos crear nuestras propias funciones para que cumplan con nuestros requisitos.</li> </ul> <p>La sintaxis de una función es la siguiente:</p> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>nombre_funcion</span><span class=p>(</span><span class=n>argumentos</span><span class=p>):</span>
    <span class=c1>#Cuerpo de la función</span>

    <span class=k>return</span>
</code></pre></div> <p>Donde,</p> <ul> <li><code>def</code> es la palabra reservada para declarar una función</li> <li><code>nombre_funcion</code> es el nombre que le damos a la función</li> <li><code>argumentos</code> es el valor o valores pasados a la función</li> <li><code>return</code> retorna un valor desde la función. Es opcional</li> </ul> <p>Veamos un ejemplo sencillo que no manda parametros ni retorna nada.</p> <p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>saludo</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Hola Mundo!&quot;</span><span class=p>)</span>

<span class=n>saludo</span><span class=p>()</span> <span class=c1>#Llama a la función</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Programa&quot;</span><span class=p>)</span>
<span class=n>saludo</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Otra vez programa&quot;</span><span class=p>)</span>
</code></pre></div> Va a generar como salida la cadena "Hola Mundo!" seguida de la cadena "Programa" seguida otra vez de "Hola Mundo!" y finaliza con "Otra vez programa".</p> <p>Cuando se llama a la función, el control del programa pasa a la definición de la función, se ejecuta todo el código dentro de la función y despés el control del programa salta a la siguiente sentencia después de la llamada a la función.</p> <p>Como ya se ha mencionado, una función también puede tener argumentos. Un argumento es un valor aceptado por una función. Cuando creamos una función con argumentos necesitamos pasar los correspondientes valores cuando la llamamos.</p> <p>De forma genérica una función con argumentos tiene la siguiente sintaxis:</p> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>funcion</span><span class=p>(</span><span class=n>arg1</span><span class=p>,</span> <span class=n>arg2</span><span class=p>,</span> <span class=n>ar3</span><span class=p>,</span><span class=o>...</span><span class=p>):</span>
    <span class=c1>#Código</span>

<span class=c1>#Llamada a la función</span>
<span class=n>funcion</span><span class=p>(</span><span class=n>valor1</span><span class=p>,</span> <span class=n>valor2</span><span class=p>,</span> <span class=n>valor3</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
<span class=c1>#Código</span>
</code></pre></div> <p>Cuando llamamos a la función le pasamos los valores correspondiendo valor1 a arg1, valor2 a arg2 y así sucesivamente.</p> <p>La llamada a la función se puede hacer mencionando el nombre del argumento, que es lo que se conoce como 'argumentos con nombre', siendo el código totalmente equivalente al anterior.</p> <div class=highlight><pre><span></span><code><span class=n>funcion</span><span class=p>(</span><span class=n>arg1</span><span class=o>=</span><span class=n>valor1</span><span class=p>,</span> <span class=n>arg2</span><span class=o>=</span><span class=n>valor2</span><span class=p>,</span> <span class=n>arg3</span><span class=o>=</span><span class=n>valor3</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
</code></pre></div> <p>Una función Python puede o no devolver un valor. Si queremos que nuestra función devuelva algún valor a una llamada realizada a función, utilizamos la sentencia <code>return</code>.</p> <p>En el ejemplo siguiente se llama a la función cuatro veces con valores diferentes.</p> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>cal_potencia</span><span class=p>(</span><span class=n>base</span><span class=p>,</span> <span class=n>exponente</span><span class=p>):</span>
    <span class=n>resultado</span> <span class=o>=</span> <span class=n>base</span> <span class=o>**</span> <span class=n>exponente</span>
    <span class=k>return</span> <span class=n>resultado</span>

<span class=c1>#Llamadas a la función</span>
<span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Potencia =&#39;</span><span class=p>,</span> <span class=n>cal_potencia</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=mi>8</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Potencia =&#39;</span><span class=p>,</span> <span class=n>cal_potencia</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>3</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Potencia =&#39;</span><span class=p>,</span> <span class=n>cal_potencia</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Potencia =&#39;</span><span class=p>,</span> <span class=n>cal_potencia</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span><span class=mi>6</span><span class=p>))</span>
</code></pre></div> <p>El resultado es:</p> <div class=highlight><pre><span></span><code><span class=n>Potencia</span> <span class=o>=</span> <span class=mi>256</span>
<span class=n>Potencia</span> <span class=o>=</span> <span class=mi>27</span>
<span class=n>Potencia</span> <span class=o>=</span> <span class=mi>1024</span>
<span class=n>Potencia</span> <span class=o>=</span> <span class=mi>531441</span>
</code></pre></div> <p>En Python, las funciones de la biblioteca estándar son las funciones incorporadas que se pueden utilizar directamente en nuestro programa. Por ejemplo,</p> <ul> <li><code>print()</code>, imprime la cadena entre comillas</li> <li><code>sqrt()</code>, devuelve la raíz cuadrada de un número</li> <li><code>pow()</code>, devuelve la potencia de un número</li> </ul> <p>Estas funciones están definidas dentro de un módulo. Y, para utilizarlas debemos incluir dicho módulo en nuestro programa. Por ejemplo, <code>sqrt()</code> y <code>pow()</code> están definidos en el módulo <code>math</code>. Para usar las funciones podemos hacer como en el ejemplo siguiente:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>math</span> <span class=c1>#Carga el módulo math</span>

<span class=n>raiz</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=mi>25</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;La raiz cuadrada de 25 es &quot;</span><span class=p>,</span> <span class=n>raiz</span><span class=p>)</span>

<span class=n>potencia</span> <span class=o>=</span> <span class=nb>pow</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;2^8 =&quot;</span><span class=p>,</span> <span class=n>potencia</span><span class=p>)</span>
</code></pre></div> <p>En el ejemplo la variable raiz contendrá el cálculo de la raiz cuadrada y se define por defecto como variable real o decimal y potencia contendrá el resultado de elevar a 8 el número 2. Los resultados obtenidos son:</p> <div class=highlight><pre><span></span><code><span class=n>La</span> <span class=n>raiz</span> <span class=n>cuadrada</span> <span class=n>de</span> <span class=mi>25</span> <span class=n>es</span> <span class=mf>5.0</span>
<span class=mi>2</span><span class=o>^</span><span class=mi>8</span> <span class=o>=</span> <span class=mi>256</span>
</code></pre></div> <p>Las principales ventajas de utilizar funciones son:</p> <ul> <li><strong>Código reutilizable</strong>. Podemos llamar a la misma función tantas veces en nuestro programa como necesitemos, lo que hace que nuestro código sea reutilizable.</li> <li><strong>Código legible</strong>. Las funciones nos ayudan a dividir nuestro código en trozos para que nuestro programa sea mas legible y fácil de entender.</li> </ul> <h2 id=modulos-en-python><font color=#007575><strong>Módulos en Python</strong></font><a class=headerlink href=#modulos-en-python title="Permanent link">&para;</a></h2> <p>A medida que nuestro programa crece, puede contener muchas líneas de código. En lugar de poner todo en un solo archivo, podemos utilizar módulos para separar por funcionalidad los códigos en varios archivos. Esto hace que nuestro código quede organizado y sea más fácil de mantener.</p> <p>Un módulo es un archivo que contiene código para realizar una tarea específica. Un módulo puede contener variables, funciones, clases, etc. Veamos un ejemplo, vamos a crear un módulo escribiendo algo como lo siguiente:</p> <div class=highlight><pre><span></span><code><span class=c1>#Definición del módulo suma</span>

<span class=k>def</span> <span class=nf>sumar</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>

    <span class=n>resultado</span> <span class=o>=</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>
    <span class=k>return</span> <span class=n>resultado</span>
</code></pre></div> <p>Guardamos este programa en un archivo, por ejemplo <code>modulo_sumar.py</code> y tendremos definida una función de nombre <code>sumar</code> en ese módulo. La función recibe dos valores y devuelve la suma.</p> <p>Cuando, en un programa diferente, queramos sumar dos números podemos importar la definición creada utilizando la palabra reservada <code>import</code>. Para acceder a la función definida en el módulo tenemos que utilizar el operador <code>.</code> (punto). Se parece mucho a que el módulo es una clase y la función una instancia de esa clase.</p> <div class=highlight><pre><span></span><code><span class=c1># Programa de sumas</span>
<span class=kn>import</span> <span class=nn>modulo_sumar</span>

<span class=n>modulo_sumar</span><span class=o>.</span><span class=n>sumar</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span> <span class=c1>#devolverá 9</span>
</code></pre></div> <p>Python tiene mas de 200 módulos estándar que pueden ser importados de la misma manera que importamos los módulos definidos por nosotros. En la documentación de Python en español encontramos la referencia a <a href=https://docs.python.org/es/3/library/index.html>La biblioteca estándar de Python</a>.</p> <h2 id=eventos-para-los-botones><font color=#007575><strong>Eventos para los botones</strong></font><a class=headerlink href=#eventos-para-los-botones title="Permanent link">&para;</a></h2> <p>Si trabajamos con versiones anteriores a V2 solamente disponemos de los botones A, B y A+B, pero si tenemos una versión V2 también disponemos del botón táctil incorporado en el logo, aunque a todos los efectos este se considera un pin de entrada.</p> <p>El logo no es tratado exactamente como un botón, sino como un pin de nombre logo. En el borde existen otros tres pines, los 0, 1 y 2. Por ello la forma de trabajar con el logo va a ser un poco diferente, como veremos en la actividad A04.</p> <p>La diferencia fundamental, ademas de la forma, es que el logo es un sensor capacitivo y los pines son sensores resistivos. En la práctica esto significa que el logo funciona simplemente tocandolo y los pines necesitan cerrar el circuito con GND, por lo que para que funcionen como pulsador debemos tocar tanto el pinto como GND.</p> <p>Si queremos que MicroPython reaccione a los eventos de pulsación de los botones, debemos ponerlo en un bucle infinito y comprobar si el botón <code>is_pressed</code>.</p> <ul> <li><strong>Función <code>is_pressed()</code></strong></li> </ul> <p>Para trabajar con los botones de la micro:bit tenemos disponibles funciones que se han cargado al importar el módulo <code>microbit</code>. Estas funciones están basadas en la función genérica <code>is_pressed()</code> pensada para saber que tecla de un teclado se ha pulsado. Sin embargo, en el caso de MicroPython a para micro:bit a estos botones se les ha asignado un nombre a cada uno, <code>button_a</code> para el A y <code>button_b</code> para el B, de manera que para usarlos se llama al botón y con el operador <code>.</code> a la función <code>is_pressed()</code>. Por ejemplo, <code>button_a.is_pressed()</code> es el código encargado de saber si estamos pulsando el botón A y <code>button_b.is_pressed()</code> si lo es el B.</p> <ul> <li><strong>Función <code>get_pressed()</code></strong></li> </ul> <p>Esta función retorna el total acumulado de pulsaciones de botones y restablece este total a cero antes de volver. Es decir, podemos capturar el número de veces que hemos pulsado un botón. El valor de retorno es un número, por lo que, para mostrarlo en la pantalla de LEDs hay que convertirlo en cadena con la función <code>str()</code>.</p> <ul> <li><strong>Función <code>was_pressed()</code></strong></li> </ul> <p>Devuelve <code>True</code> o <code>False</code> para indicar si se ha presionado el botón desde la última vez que se inicio el dispositivo o se llamó a este método. Llamar a este método borra el estado de que ha sido pulsado, de modo que el botón debe pulsarse de nuevo antes de que este método vuelva a retornar <code>True</code>.</p> <p>Vamos a hacer un ejemplo que aclarará mejor lo explicado. Se trata de crear un programa (le podremos de nombre Caritas_X) en el que mientras mantegamos pulsado el botón A se muestra una cara sonriente, si no se pulsa ningún botón se muestra una cara triste y si se pulsa el botón B la cara desaparece (se apagan todos los LEDs) y tras 2 segundos aparece una X que se va haciendo cada vez mas grande partiendo del punto central. Finalmente pasados otros 2 segundos el programa vuelve a empezar. El código es:</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>button_a</span><span class=o>.</span><span class=n>is_pressed</span><span class=p>():</span>
            <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>HAPPY</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>button_b</span><span class=o>.</span><span class=n>is_pressed</span><span class=p>():</span>
            <span class=k>break</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>SAD</span><span class=p>)</span>

    <span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>2000</span><span class=p>)</span>
    <span class=n>mi_X_peque</span> <span class=o>=</span> <span class=n>Image</span><span class=p>(</span><span class=s2>&quot;00000:00000:00900:00000:0000&quot;</span><span class=p>)</span>
    <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>mi_X_peque</span><span class=p>)</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
    <span class=n>mi_X_media</span> <span class=o>=</span> <span class=n>Image</span><span class=p>(</span><span class=s2>&quot;00000:09090:00900:09090:0000&quot;</span><span class=p>)</span>
    <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>mi_X_media</span><span class=p>)</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
    <span class=n>mi_X_grande</span> <span class=o>=</span> <span class=n>Image</span><span class=p>(</span><span class=s2>&quot;90009:09090:00900:09090:90009&quot;</span><span class=p>)</span>
    <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>mi_X_grande</span><span class=p>)</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>2000</span><span class=p>)</span>
</code></pre></div> <p>En la animación siguiente vemos como funciona</p> <p><center></p> <p><img alt="Funcionamiento de Caritas_X" src=../../img/programacion/python/f_caritas_X.gif><br> <em>Funcionamiento de Caritas_X</em></p> <p></center></p> <p>Si observamos con cuidado apreciaremos que en algún momento se accionan los botones A y B pero los que aparecen en la parte inferior, debajo de la pantalla de simulación. Están al lado de un logotipo que indica que se pulsen con una flechita. Justo debajo de estos aparecen los citados del borde de placa y el logo junto a ellos, pues es tratado asi, como un pin, y además a su izquierda hay un candado cerrado indicativo de que no se está usando ninguno de ellos. En la imagen siguiente se ve mejor lo indicado.</p> <p><center></p> <p><img alt="Control de acciones del simulador" src=../../img/programacion/python/control_simu.png><br> <em>Control de acciones del simulador</em></p> <p></center></p> <p>Vamos a crear otro ejemplo en el que se cuenten las veces que pulsamos el botón A o el botón B durante un tiempo de 3 segundo. El programa es el siguiente:</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>

<span class=n>sleep</span><span class=p>(</span><span class=mi>3000</span><span class=p>)</span> <span class=c1>#Espera de 3 segundos</span>

<span class=c1>#Convertimos número a cadena con str()</span>
<span class=n>pulsado</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>button_b</span><span class=o>.</span><span class=n>get_presses</span><span class=p>())</span>

<span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>pulsado</span><span class=p>)</span>

<span class=c1># Por si hemos pulsado mas de 9 veces</span>
<span class=n>display</span><span class=o>.</span><span class=n>scroll</span><span class=p>(</span><span class=n>pulsado</span><span class=p>)</span>
</code></pre></div> <p>En la 'Referencia' del compilador, dentro de Botones tenemos un ejemplo que nos indica el botón que hemos pulsado con cuatro opciones posibles, el A, el B, A o B y finalmente A y B. Animamos a cargarlos y probarlos para familiarizarnos todo lo posible con ellos.</p> <h2 id=pines-de-entradasalida><font color=#007575><strong>Pines de Entrada/salida</strong></font><a class=headerlink href=#pines-de-entradasalida title="Permanent link">&para;</a></h2> <h3 id=digital><font color=#AA0000>Digital</font><a class=headerlink href=#digital title="Permanent link">&para;</a></h3> <p>Podemos utilizar los pines 0, 1 y 2 del borde de placa en modo digital tanto para leer su valor como para escribir o establecer su valor. Esto se representa con un "1" lógico (sin las comillas) si están activados o los queremos activar y un "0" lógico si están desactivados o los queremos desactivar.</p> <p>Si queremos escribir en ellos los pines estarán actuando como salidas y tenemos que invocar al método <code>write</code> para hacerlo. Las sentencias, para un pin genérico "N" son:</p> <div class=highlight><pre><span></span><code><span class=n>pinN</span><span class=o>.</span><span class=n>write_digital</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=c1>#Salida en estado alto</span>
<span class=n>pinN</span><span class=o>.</span><span class=n>write_digital</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=c1>#Salida en estado bajo</span>
</code></pre></div> <p>También podemos conectar, por ejemplo un interruptor o botón pulsador al pin (veremos como hacerlo en la siguiente actividad) y comprobar si el interruptor está abierto (0) o cerrado (1). En este caso los pines estarán configurados como entradas y la lectura de su estado se obtiene invocando el método <code>read</code>. Las sentencias, para un pin genérico "N" son:</p> <div class=highlight><pre><span></span><code><span class=n>pinN</span><span class=o>.</span><span class=n>read_digital</span><span class=p>()</span> <span class=c1>#Devuelve el estado 0 o 1 del pin N</span>
</code></pre></div> <p><strong><em>Nunca se conecta nada a los pines con un voltaje superior a 3v porque se puede dañar la micro:bit.</em></strong></p> <h3 id=analogica><font color=#AA0000>Analógica</font><a class=headerlink href=#analogica title="Permanent link">&para;</a></h3> <p>Podemos utilizar los pines 0, 1 y 2 del borde de placa en modo analógico tanto para leer su valor como para escribir o establecer su valor. Esto significa que en lugar de estar activos o inactivos (0 o 1), varían su valor entre 0 y 1023.</p> <p>Si queremos escribir en ellos los pines estarán actuando como salidas y tenemos que invocar al método <code>write</code> para hacerlo. La sentencia, para un pin genérico "N" es:</p> <div class=highlight><pre><span></span><code><span class=n>pinN</span><span class=o>.</span><span class=n>write_analog</span><span class=p>(</span><span class=n>valor</span><span class=p>)</span> <span class=c1>#valor puede estar entre 0 y 1023</span>
</code></pre></div> <p>Si conectamos sensores o actuadores analógicos a los pines podemos leer su valor invocando a <code>read</code>. La sentencia, para un pin genérico "N" es:</p> <div class=highlight><pre><span></span><code><span class=n>pinN</span><span class=o>.</span><span class=n>read_analog</span><span class=p>(</span><span class=n>valor</span><span class=p>)</span> <span class=c1>#valor puede estar entre 0 y 1023</span>
</code></pre></div> <h2 id=numeros-aleatorios><font color=#007575><strong>Números aleatorios</strong></font><a class=headerlink href=#numeros-aleatorios title="Permanent link">&para;</a></h2> <p>Este módulo está basado en el módulo <code>random</code> de la librería estándar de <strong>Python</strong>. Contiene funciones para generar comportamientos aleatorios.</p> <p>Para acceder a este módulo es necesario:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>random</span>
</code></pre></div> <p>Vamos a ver sus funciones a continuación.</p> <ul> <li><strong><code>.getrandbits(n)</code></strong>. Retorna un entero con "n" bits aleatorios. La función generadora devuelve como máximo 30 bits, por lo tanto "n" tiene que estar comprendido entre 1 y 30.</li> </ul> <p><div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>getrandbits</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</code></pre></div> * <strong><code>.seed(n)</code></strong>. Inicializa el generador de números aleatorios con un número entero conocido "n". Esto le proporcionará una aleatoriedad determinista reproducible a partir de un estado inicial dado (n).</p> <div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>seed</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</code></pre></div> <ul> <li><strong><code>.randint(a, b)</code></strong>. Devuelve un entero aleatorio <strong>N</strong> tal que <span class=arithmatex><span class=MathJax_Preview>a \space \leq N \leq \space b</span><script type=math/tex>a \space \leq N \leq \space b</script></span>.</li> </ul> <div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
</code></pre></div> <ul> <li><strong><code>.randrange(stop)</code></strong>. Devuelve un número entero seleccionado aleatoriamente entre cero y stop, que no está incluido.</li> </ul> <div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>randrange</span><span class=p>(</span><span class=n>stop</span><span class=p>)</span>
</code></pre></div> <ul> <li><strong><code>.randrange(start, stop)</code></strong>. Devuelve un número entero seleccionado aleatoriamente comprendido entre start y stop. El límite stop no está incluido.</li> </ul> <div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>randrange</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>stop</span><span class=p>)</span>
</code></pre></div> <ul> <li><strong><code>.randrange(start, stop, step)</code></strong>. Devuelve un número entero aleatorio entre start y stop separando los valores posibles entre si la distancia establecida por step. Por ejemplo <code>randrange(3, 30, 5)</code> devolverá un valor aleatorio de los siguientes posibles: 3, 8, 13, 18, 23, 28.</li> </ul> <div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>randrange</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>stop</span><span class=p>,</span> <span class=n>step</span><span class=p>)</span>
</code></pre></div> <ul> <li><strong><code>.choice(secuencia)</code></strong>. Devuelve un elemento aleatorio de 'secuencia' que no puede estar vacía. Si 'secuencia' está vacía, genera in <code>IndexError</code>.</li> </ul> <div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>choice</span><span class=p>(</span><span class=n>secuencia</span><span class=p>)</span>
</code></pre></div> <ul> <li><strong><code>.random()</code></strong>. Devuelve un número aleatorio en coma flotante en el rango [0.0, 1.0).</li> </ul> <div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>random</span><span class=p>()</span>
</code></pre></div> <ul> <li><strong><code>.uniform(a, b)</code></strong>. Devuelve un número aleatorio de coma flotante <strong>N</strong> tal que <span class=arithmatex><span class=MathJax_Preview>a \leq N \leq b</span><script type=math/tex>a  \leq N \leq  b</script></span> para <span class=arithmatex><span class=MathJax_Preview>a \leq b</span><script type=math/tex>a  \leq  b</script></span> y <span class=arithmatex><span class=MathJax_Preview>b \leq N \leq a</span><script type=math/tex>b  \leq N \leq  a</script></span> para <span class=arithmatex><span class=MathJax_Preview>b &lt; a</span><script type=math/tex>b  <  a</script></span>.</li> </ul> <div class=highlight><pre><span></span><code><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
</code></pre></div> <p>En la imagen vemos ejemplos ejecutados en la shell.</p> <p><center></p> <p><img alt="Ejemplos de funciones de random" src=../../img/programacion/python/func_random.png><br> <em>Ejemplos de funciones de random</em></p> <p></center></p> <h2 id=modulo-neopixel><font color=#007575><strong>Módulo NeoPixel</strong></font><a class=headerlink href=#modulo-neopixel title="Permanent link">&para;</a></h2> <p><a name=item0ModNeo></a></p> <p><a href=#item1ModNeo>Clases</a> <br> <a href=#item2ModNeo>Operaciones</a><br> <a href=#item3ModNeo>Uso del módulo NeoPixel</a><br> <a href=#item4ModNeo>Ejemplo</a></p> <p>El módulo neopixel permite programar de forma sencilla tiras de LEDs NeoPixel (WS2812) RGB y RGBW direccionables individualmente con la micro:bit. Para utilizar el módulo neopixel, es necesario importarlo con:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>neopixel</span>
</code></pre></div> <hr width=100% size=10 noshade=noshade> <p><font color=#BB0000><font size=5><b></p> <p>Nota: </font></font></b> Según las pruebas realizadas por el equipo técnico de micro:bit, el módulo NeoPixel de Microbit puede controlar hasta 256 NeoPixels. Por encima de esa cantidad, es posible que se produzcan errores y problemas extraños. La micro:bit por si misma tan sólo puede suministrar 90mA a dispositivos externos, un mayor número de NeoPixels requiere una fuente de alimentación externa que debe tener la masa común con la micro:bit.</p> <p>Los NeoPixels están diseñados para trabajar a 5V, pero funcionan usando la alimentación de 3V de la BBC micro:bit. <strong>Debemos tener muy presente que el conector de borde de la micro:bit no debe conectarse a nada que suministre 5V</strong>.</p> <hr width=100% size=10 noshade=noshade> <p>Este módulo contiene todo lo necesario para conectarlas a una micro:bit y crear divertidas pantallas, arte y juegos como esta demo.</p> <p><center></p> <p>Attibución: <a href=https://www.adafruit.com/product/2547>adafruit flexible Neopixel matrix</a></p> <p></center></p> <p>La forma de conectar una tira de neopíxeles a la micro:bit es como se muestra a continuación, suponiendo que vamos a controlar los píxeles desde el pin0. También podemos conectar neopíxeles a los pines 1 y 2.</p> <p><center></p> <p><img alt="Conexión de neopixeles a micro:bit" src=../../img/programacion/python/conex_neo.png><br> <em>Conexión de neopixeles a micro:bit</em></p> <p><em>Imagen obtenida de: <a href=https://microbit-micropython.readthedocs.io/en/v1.1.1/neopixel.html>Enlace</a></em></p> <p></center></p> <p>La etiqueta de la pinza de cocodrilo indica dónde hay que conectar el otro extremo en la tira de neopixels. En algunas variantes de neopíxeles, el pin VDD puede tener otro nombre, por ejemplo "V+" o "+5V" y sólo es seguro utilizarlo si no hay otros dispositivos de 5V conectados.</p> <hr width=100% size=10 noshade=noshade> <p><font color=#FF00FF><font size=5><b></p> <p>Aviso: </font></font></b> El conector de 3v de la micro:bit no se puede utilizar para alimentar a más de 8 Neopixels a la vez. Si estsamos utilizando más de 8 Neopixels, es necesaria una fuente de alimentación externa de 3v a 5v para el pin de alimentación de los Neopixeles.</p> <hr width=100% size=10 noshade=noshade> <p><a href=#item0ModNeo>Volver</a> <a name=item1ModNeo></a></p> <p><font color=#AA0000>Clases</font></p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>neopixel</span><span class=o>.</span><span class=n>NeoPixel</span><span class=p>(</span><span class=n>pin</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>bpp</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</code></pre></div> <p>Inicializa una nueva tira con un número <code>n</code> de LEDs neopixel controlados a través de la patilla indicada en <code>pin</code>. El tercer argumento sirve para especificar el tipo de neopixel indicando el número de bytes por pixel (<code>bpp</code>). Este parámetro vale 4 para neopixels RGBW (LED blanco) y 3 para RGB y GRB. Las siglas RGB y GRB, además de hacer referencia a los colores se refieren al orden en el que están dispuestos los LEDs internamente, siendo RGB el mas normal en productos WS2812.</p> <p>A cada píxel se le asigna una posición (empezando por 0). Los neopíxeles reciben valores RGB (rojo, verde, azul) o RGBW (rojo, verde, azul, blanco) entre 0 y 255 como una tupla. Por ejemplo, en RGB, <code>(255,255,255)</code> es blanco. En RGBW, <code>(255,255,255,0)</code> o <code>(0,0,0,255)</code> es blanco.</p> <ul> <li><strong><code>clear()</code></strong>. Borra todos los pixeles</li> <li><strong><code>show()</code></strong>. Muestra los píxeles. Debe invocarse para que las actualizaciones sean visibles.</li> </ul> <p><a href=#item0ModNeo>Volver</a> <a name=item2ModNeo></a></p> <p><font color=#AA0000>Operaciones</font></p> <p>Escribir el color no actualiza la pantalla, debemos utilizar <code>show()</code> para hacerlo.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>
<span class=kn>import</span> <span class=nn>neopixel</span>
<span class=n>neo</span> <span class=o>=</span> <span class=n>neopixel</span><span class=o>.</span><span class=n>NeoPixel</span><span class=p>(</span><span class=n>pin0</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
<span class=n>neo</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>255</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>128</span><span class=p>)</span> <span class=c1># primer LED</span>
<span class=n>neo</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>255</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span> <span class=c1>#ultimo LED</span>
<span class=n>neo</span><span class=o>.</span><span class=n>show</span><span class=p>()</span> <span class=c1># solo ahora se muestran los valores actualizados</span>
</code></pre></div> <p>Para leer el color de un pixel concreto basta con hacer referencia a él.</p> <div class=highlight><pre><span></span><code><span class=nb>print</span><span class=p>(</span><span class=n>neo</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</code></pre></div> <p><a href=#item0ModNeo>Volver</a> <a name=item3ModNeo></a></p> <p><font color=#AA0000>Uso del módulo NeoPixel</font></p> <p>Una forma sencilla de interactuar con los Neopixels es considerarlos como una lista de tuplas. Cada tupla representa la mezcla de colores RGB o RGBW de un píxel específico.</p> <p>Por ejemplo, inicializamos una tira o anillo de 8 neopixels RGB como conectados al pin0 de la siguiente manera:</p> <div class=highlight><pre><span></span><code><span class=n>neo</span> <span class=o>=</span> <span class=n>neopixel</span><span class=o>.</span><span class=n>NeoPixel</span><span class=p>(</span><span class=n>pin0</span><span class=p>,</span><span class=mi>8</span><span class=p>)</span>
</code></pre></div> <p>Establecemos los píxeles indexándolos, como con una lista de Python. Por ejemplo, para establecer el primer píxel en rojo a brillo máximo, se utilizaría:</p> <div class=highlight><pre><span></span><code><span class=n>neo</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>255</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span>
</code></pre></div> <p>O el último pixel a magenta:</p> <div class=highlight><pre><span></span><code><span class=n>neo</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>255</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>255</span><span class=p>)</span>
</code></pre></div> <p>Para obtener el valor de la tupla del color actual de un píxel lo indexamos. Por ejemplo, para imprimir el valor RGB del primer píxel usamos:</p> <div class=highlight><pre><span></span><code><span class=nb>print</span><span class=p>(</span><span class=n>neo</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</code></pre></div> <p>Finalmente para poner los datos de colores en los neopixeles usamos la función <code>neo.show()</code>:</p> <div class=highlight><pre><span></span><code><span class=n>neo</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></div> <p>Si no vemos los cambios posiblemente se deba al olvido de este paso final.</p> <p><a href=#item0ModNeo>Volver</a> <a name=item4ModNeo></a></p> <p><font color=#AA0000>Ejemplo</font></p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>
<span class=kn>import</span> <span class=nn>neopixel</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Muestra de manera continuada colores aleatorios en los LEDs</span>
<span class=sd>    El ejemplo se realiza para un anillo o tira de 8 LEDs WS2812 conectados a pin0</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=kn>from</span> <span class=nn>random</span> <span class=kn>import</span> <span class=n>randint</span>

<span class=c1># Configuramos los Neopixel en pin0 y tira de 8 pixeles</span>
<span class=n>neo</span> <span class=o>=</span> <span class=n>neopixel</span><span class=o>.</span><span class=n>NeoPixel</span><span class=p>(</span><span class=n>pin0</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span>
<span class=n>num_pixel</span> <span class=o>=</span> <span class=mi>0</span>

<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=c1># Iteramos sobre cada LED de la tira</span>

    <span class=k>if</span> <span class=n>num_pixel</span> <span class=o>&lt;</span> <span class=mi>7</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>num_pixel</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>neo</span><span class=p>)):</span>
            <span class=n>rojo</span> <span class=o>=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>
            <span class=n>verde</span> <span class=o>=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>
            <span class=n>azul</span> <span class=o>=</span> <span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>

            <span class=c1># Asigna al LED actual un valor aleatorio de rojo, verde y azul entre 0 y 60</span>
            <span class=n>neo</span><span class=p>[</span><span class=n>num_pixel</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>rojo</span><span class=p>,</span> <span class=n>verde</span><span class=p>,</span> <span class=n>azul</span><span class=p>)</span>

            <span class=c1># Muestra los datos actuales en la tira</span>
            <span class=n>neo</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
            <span class=n>sleep</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>neo</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
            <span class=n>sleep</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
            <span class=n>num_pixel</span> <span class=o>=</span> <span class=mi>0</span>
</code></pre></div> <p><a href=../../ejemplos/8Neo_color_aleatorio-main.py>Descargar el programa</a></p> <h2 id=musica><font color=#007575><strong>Música</strong></font><a class=headerlink href=#musica title="Permanent link">&para;</a></h2> <p>MicroPython de BBC micro:bit viene acompañado de un potente módulo de música y sonido. Es muy fácil generar pitidos y zumbidos desde el dispositivo conectando un altavoz o unos auriculares con cable, o utilizando el altavoz integrado si estamos con una versión V2.</p> <p>La forma de conectar unos auriculares está descrita en el apartado de MakeCode. También se puede conectar un zumbador piezoeléctrico pasivo o un altavoz con pinzas de cocodrilo. Estos elementos pueden estar polarizados por lo que tendremos que comprobar si existe un terminal "+", y si es así conectar al pin0.</p> <p><center></p> <p><img alt="Conexión de zumbador pasivo" src=../../img/programacion/python/conex_pasivo.png><br> <em>Conexión de zumbador pasivo</em></p> <p></center></p> <hr width=100% size=10 noshade=noshade> <p><font color=#BB0000><font size=5><b></p> <p>Nota: </font></font></b> Debemos asegurarnos de que el zumbador es pasivo y no activo, que tan solo puede reproducir un tono. En el apartado 'Componentes discretos' de <a href=../../conceptos/discretos/ >Conceptos técnicos</a> podemos encontrar como distinguirlos.</p> <hr width=100% size=10 noshade=noshade> <p>Para trabajar con música hacemos:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>music</span>
<span class=n>music</span><span class=o>.</span><span class=n>play</span><span class=p>(</span><span class=n>music</span><span class=o>.</span><span class=n>NYAN</span><span class=p>)</span>
</code></pre></div> <p>Tenemos que importar módulo <code>music</code> que contiene los métodos para crear y controlar el sonido.</p> <p>La función de autocompletado de MicroPython nos muestra las melodias incorporadas.</p> <p><center></p> <p><img alt="Melodias que acompañan a MicroPython" src=../../img/programacion/python/melodias_up.png><br> <em>Melodias que acompañan a MicroPython</em></p> <p></center></p> <p>En la referencia de la API podemos encontrar mas inforamción en inglés sobre <a href=https://microbit-micropython.readthedocs.io/en/v2-docs/music.html#>Music</a></p> <p>Cada nota tiene un nombre como Do# (C#) o Fa (F), una octava, que indica lo alta o baja que debe tocarse y una duración. Las octavas se indican con un número, siendo 0 la octava más baja, 4 la del Do central y 8 es la más alta. Las duraciones también se expresan con números. Estos valores están relacionados entre sí: por ejemplo, una duración de 4 es el doble que una duración de 2 (y así sucesivamente). Si utilizamos como nombre de nota <code>R</code>, MicroPython reproducirá un silencio de la duración especificada.</p> <p>Cada nota se expresa como una cadena de caracteres como ésta:</p> <div class=highlight><pre><span></span><code><span class=n>Nombre_nota</span><span class=p>[</span><span class=n>octave</span><span class=p>][:</span><span class=n>duration</span><span class=p>]</span> <span class=c1>#La1:4 (A1:4) es un La en la octava 1 con una duración de 4</span>
</code></pre></div> <p>Crear listas de notas para hacer una melodia es similar a crear una animación con una lista de imágenes. En el ejemplo vemos como sería la apertura de "Frere Jaques":</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>music</span>

<span class=n>frere_jaques_o</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;C4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;D4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;E4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;C4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;C4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;D4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;E4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;C4:4&quot;</span><span class=p>,</span>
        <span class=s2>&quot;E4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;F4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;G4:8&quot;</span><span class=p>,</span> <span class=s2>&quot;E4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;F4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;G4:8&quot;</span><span class=p>]</span>
<span class=n>music</span><span class=o>.</span><span class=n>play</span><span class=p>(</span><span class=n>frere_jaques_o</span><span class=p>)</span>
</code></pre></div> <p>El ejemplo se puede re-escribir como vemos a continuación ya que los valores de octava y duración se rpiten hasta que se indique un cambio.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>music</span>

<span class=n>frere_jaques_o</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;C4:4&quot;</span><span class=p>,</span> <span class=s2>&quot;D&quot;</span><span class=p>,</span> <span class=s2>&quot;E&quot;</span><span class=p>,</span> <span class=s2>&quot;C&quot;</span><span class=p>,</span> <span class=s2>&quot;C&quot;</span><span class=p>,</span> <span class=s2>&quot;D&quot;</span><span class=p>,</span> <span class=s2>&quot;E&quot;</span><span class=p>,</span> <span class=s2>&quot;C&quot;</span><span class=p>,</span> <span class=s2>&quot;E&quot;</span><span class=p>,</span> <span class=s2>&quot;F&quot;</span><span class=p>,</span> <span class=s2>&quot;G:8&quot;</span><span class=p>,</span>
        <span class=s2>&quot;E:4&quot;</span><span class=p>,</span> <span class=s2>&quot;F&quot;</span><span class=p>,</span> <span class=s2>&quot;G:8&quot;</span><span class=p>]</span>
<span class=n>music</span><span class=o>.</span><span class=n>play</span><span class=p>(</span><span class=n>frere_jaques_o</span><span class=p>)</span>
</code></pre></div> <p>MicroPython nos permite crear tonos que no son notas musicales. Por ejemplo, este código crea un efecto de sirena de policía:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>music</span>

<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>frecuencia</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>880</span><span class=p>,</span> <span class=mi>1760</span><span class=p>,</span> <span class=mi>16</span><span class=p>):</span>
        <span class=n>music</span><span class=o>.</span><span class=n>pitch</span><span class=p>(</span><span class=n>frecuencia</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>frecuencia</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1760</span><span class=p>,</span> <span class=mi>880</span><span class=p>,</span> <span class=o>-</span><span class=mi>16</span><span class=p>):</span>
        <span class=n>music</span><span class=o>.</span><span class=n>pitch</span><span class=p>(</span><span class=n>frecuencia</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span>
</code></pre></div> <p>El método <code>music.pitch</code> utiliza una frecuencia que puede ser la de una nota musical. En los rangos de <code>frecuencia</code> se especifican los tonos de los sonidos de una sirena como "valor inicial, valor final y paso". Cuando el paso en positivo sube el tono y cuando es negativo lo baja.</p> <p>El ejemplo también nos muestra como anidar distintos tipos de bucle.</p> <h2 id=funciones-de-la-uart><font color=#007575><strong>Funciones de la UART</strong></font><a class=headerlink href=#funciones-de-la-uart title="Permanent link">&para;</a></h2> <ul> <li><code>uart.any()</code>. Devuelve <code>True</code> si hay datos en espera, en caso contrario <code>False</code>.</li> <li><code>uart.read([nbytes])</code>. Leer bytes. Si se especifica <code>nbytes</code>, se leen como máximo esa cantidad de bytes; de lo contrario, se leen tantos bytes como sea posible. El valor de retorno es un objeto bytes o <code>None</code> si se agota el tiempo de espera. Llamamos objeto bytes a una secuencia de bytes. Dado que los caracteres ASCII caben en un único byte, este tipo de objeto se utiliza a menudo para representar texto simple y ofrece métodos para manipularlo como tal, por ejemplo, puede mostrar el texto utilizando la función print().</li> </ul> <div class=highlight><pre><span></span><code><span class=n>msg_bytes</span> <span class=o>=</span> <span class=n>uart</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
<span class=n>msg_str</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>msg</span><span class=p>,</span> <span class=s1>&#39;UTF-8&#39;</span><span class=p>)</span>
</code></pre></div> <ul> <li><code>uart.readinto(buf[, nbytes])</code>. Lee bytes en el buffer. Si se especifica nbytes, se leen como máximo esa cantidad de bytes. Si no, lee como máximo len(buf) bytes. Valor de retorno: número de bytes leídos y almacenados en buf o <code>None</code> si se agota el tiempo de espera.</li> <li><code>uart.readline()</code>. Leer una línea, terminando en un carácter de nueva línea, que se incluye en los bytes devueltos. Valor de retorno: la línea leída o ``None```.</li> <li><code>uart.write(buf)</code>. Escribe el buffer en el . Valor de retorno: número de bytes escritos o <code>None</code> si se agota el tiempo de espera. Puede ser un objeto bytes o una cadena:</li> </ul> <div class=highlight><pre><span></span><code><span class=n>uart</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;hello world&#39;</span><span class=p>)</span>
<span class=n>uart</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=sa>b</span><span class=s1>&#39;hello world&#39;</span><span class=p>)</span>
<span class=n>uart</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=nb>bytes</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]))</span>
</code></pre></div> <h2 id=magnetometro-y-acelerometro><font color=#007575><strong>Magnetómetro y acelerómetro</strong></font><a class=headerlink href=#magnetometro-y-acelerometro title="Permanent link">&para;</a></h2> <h3 id=acelerometro><font color=#AA0000>Acelerómetro</font><a class=headerlink href=#acelerometro title="Permanent link">&para;</a></h3> <p>Este objeto permite acceder al acelerómetro de la placa.</p> <p>Por defecto MicroPython establece el rango del acelerómetro en &plusmn; 2000 mg (siendo g una unidad de aceleración basada en la gravedad estándar), que configura los valores máximo y mínimo devueltos por las funciones del acelerómetro. El rango puede cambiarse mediante microbit.accelerometer.set_range().</p> <p>El acelerómetro también proporciona funciones de conveniencia para detectar gestos. Los gestos reconocidos se representan como cadenas: arriba (up), abajo (down), izquierda (left), derecha (right), boca arriba (face up), boca abajo (face down), caída libre (freefall), 3g, 6g, 8g, sacudida (shake).</p> <hr width=100% size=10 noshade=noshade> <p><font color=#FF0000><strong>Nota</strong>:</font> Los gestos no se actualizan en segundo plano por lo que es necesario realizar llamadas constantes a algún método del acelerómetro para realizar la detección de gestos. Normalmente los gestos pueden ser detectados usando un bucle con un pequeño retardo <code>microbit.sleep()</code>.</p> <hr width=100% size=10 noshade=noshade> <p>Sus funciones son:</p> <ul> <li><code>microbit.accelerometer.get_x()</code></li> <li><code>microbit.accelerometer.get_y()</code></li> <li> <p><code>microbit.accelerometer.get_z()</code></p> <p>Retorna como un entero positivo o negativo la aceleración medida en el eje correspondiente en mili-g.</p> </li> <li> <p><code>microbit.accelerometer.get_values()</code></p> <p>Devuelve las medidas de aceleración en todos los ejes a la vez, como una tupla de tres elementos de enteros ordenados como X, Y, Z.</p> </li> <li> <p><code>microbit.accelerometer.get_strength()</code></p> <p>Obtiene la medida de la aceleración de todos los ejes combinados, como un entero positivo. Es la suma pitagórica de los ejes X, Y y Z. Devuelve la fuerza de aceleración combinada de todos los ejes, en mili-g.</p> </li> <li> <p><code>microbit.accelerometer.current_gesture()</code></p> <p>Devuelve una cadena con el nombre del gesto actual.</p> </li> <li> <p><code>microbit.accelerometer.is_gesture(name)</code></p> <p>El parámetro <code>name</code> es una cadena con el nombre del gesto a comprobar. Devuelve un valor booleano que indica si el gesto nombrado está activo actualmente.</p> </li> <li> <p><code>microbit.accelerometer.was_gesture(name)</code></p> <p>El parámetro <code>name</code> es una cadena con el nombre del gesto a comprobar. Devuelve un valor booleano que indica si el gesto nombrado ha estado activo desde la última vez.</p> </li> <li> <p><code>microbit.accelerometer.get_gestures()</code></p> <p>Se usa para obtener una lista histórica de los gestos registrados. Al llamar a esta función se borra el histórico de gestos antes de devolver el valor. Devuelve una tupla del historial de gestos, el más reciente aparece en último lugar.</p> </li> <li> <p><code>microbit.accelerometer.set_range(value)</code></p> <p>Ajusta el rango de sensibilidad del acelerómetro, en g (gravedad estándar), a los valores más cercanos soportados por el hardware, de forma que redondee a 2, 4 u 8 g. El parámetro <code>value</code> establece el nuevo rango para el acelerómetro, un entero en g.</p> </li> </ul> <p>A continuación vamos a ver los ejemplos que aparecen en la documentación oficial traducidos.</p> <p><strong><em>Ejemplo 1.</em></strong> Una bola 8 mágica que adivina el futuro. Haz una pregunta y agita el dispositivo para obtener una respuesta.</p> <div class=highlight><pre><span></span><code><span class=c1># Magic 8 ball by Nicholas Tollervey. February 2016.</span>
<span class=c1># Bola mágica 8 por Nicholas Tollervey. Febrero 2016.</span>
<span class=c1># Ask a question then shake.</span>
<span class=c1># Haz una pregunta y agita la micro:bit</span>
<span class=c1># This program has been placed into the public domain.</span>
<span class=c1># Este programa es de dominio público.</span>

<span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>
<span class=kn>import</span> <span class=nn>random</span>

<span class=n>respuestas</span> <span class=o>=</span> <span class=p>[</span>
    <span class=s2>&quot;Es cierto&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Es decididamente así&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Sin duda alguna&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Sí, definitivamente.&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Puedes confiar en ello&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Como yo lo veo, sí&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Lo más probable&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Buenas perspectivas&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Si&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Los indicios apuntan a que sí&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Respuesta dudosa inténtalo de nuevo&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Vuelve a preguntar más tarde&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Mejor no te lo digo ahora&quot;</span><span class=p>,</span>
    <span class=s2>&quot;No se puede predecir ahora&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Concéntrate y vuelve a preguntar&quot;</span><span class=p>,</span>
    <span class=s2>&quot;No cuentes con ello&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Mi respuesta es no&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Mis fuentes dicen que no&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Perspectivas no tan buenas&quot;</span><span class=p>,</span>
    <span class=s2>&quot;Muy dudoso&quot;</span><span class=p>,</span>
<span class=p>]</span>

<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=s1>&#39;8&#39;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>accelerometer</span><span class=o>.</span><span class=n>was_gesture</span><span class=p>(</span><span class=s1>&#39;shake&#39;</span><span class=p>):</span>
        <span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
        <span class=n>sleep</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
        <span class=n>display</span><span class=o>.</span><span class=n>scroll</span><span class=p>(</span><span class=n>random</span><span class=o>.</span><span class=n>choice</span><span class=p>(</span><span class=n>respuestas</span><span class=p>))</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</code></pre></div> <p><a href=../../ejemplos/Bola8.hex>Descargar el programa .hex</a></p> <p><a href=../../ejemplos/Bola8-main.py>Descargar el programa .py</a></p> <p><strong><em>Ejemplo 2.</em></strong> Un juego consistentente en evitar obstáculos moviendo la micro:bit.</p> <div class=highlight><pre><span></span><code><span class=c1># Simple Slalom by Larry Hastings, September 2015</span>
<span class=c1># Eslalon simple de Larry Hastings, septiembre de 2015.</span>
<span class=c1># This program has been placed into the public domain.</span>
<span class=c1># Este programa es de dominio público.</span>
<span class=kn>import</span> <span class=nn>microbit</span> <span class=k>as</span> <span class=nn>m</span>
<span class=kn>import</span> <span class=nn>random</span>

<span class=n>p</span> <span class=o>=</span> <span class=n>m</span><span class=o>.</span><span class=n>display</span><span class=o>.</span><span class=n>show</span>
<span class=n>min_x</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1024</span>
<span class=n>max_x</span> <span class=o>=</span> <span class=mi>1024</span>
<span class=n>range_x</span> <span class=o>=</span> <span class=n>max_x</span> <span class=o>-</span> <span class=n>min_x</span>
<span class=n>wall_min_speed</span> <span class=o>=</span> <span class=mi>400</span>
<span class=n>player_min_speed</span> <span class=o>=</span> <span class=mi>200</span>
<span class=n>wall_max_speed</span> <span class=o>=</span> <span class=mi>100</span>
<span class=n>player_max_speed</span> <span class=o>=</span> <span class=mi>50</span>
<span class=n>speed_max</span> <span class=o>=</span> <span class=mi>12</span>

<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>

    <span class=n>i</span> <span class=o>=</span> <span class=n>m</span><span class=o>.</span><span class=n>Image</span><span class=p>(</span><span class=s1>&#39;00000:&#39;</span><span class=o>*</span><span class=mi>5</span><span class=p>)</span>
    <span class=n>s</span> <span class=o>=</span> <span class=n>i</span><span class=o>.</span><span class=n>set_pixel</span>
    <span class=n>player_x</span> <span class=o>=</span> <span class=mi>2</span>
    <span class=n>wall_y</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>
    <span class=n>hole</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>score</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>handled_this_wall</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>wall_speed</span> <span class=o>=</span> <span class=n>wall_min_speed</span>
    <span class=n>player_speed</span> <span class=o>=</span> <span class=n>player_min_speed</span>
    <span class=n>wall_next</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>player_next</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>t</span> <span class=o>=</span> <span class=n>m</span><span class=o>.</span><span class=n>running_time</span><span class=p>()</span>
        <span class=n>player_update</span> <span class=o>=</span> <span class=n>t</span> <span class=o>&gt;=</span> <span class=n>player_next</span>
        <span class=n>wall_update</span> <span class=o>=</span> <span class=n>t</span> <span class=o>&gt;=</span> <span class=n>wall_next</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=n>player_update</span> <span class=ow>or</span> <span class=n>wall_update</span><span class=p>):</span>
            <span class=n>next_event</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>wall_next</span><span class=p>,</span> <span class=n>player_next</span><span class=p>)</span>
            <span class=n>delta</span> <span class=o>=</span> <span class=n>next_event</span> <span class=o>-</span> <span class=n>t</span>
            <span class=n>m</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delta</span><span class=p>)</span>
            <span class=k>continue</span>

        <span class=k>if</span> <span class=n>wall_update</span><span class=p>:</span>
            <span class=c1># calculate new speeds</span>
            <span class=n>speed</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>score</span><span class=p>,</span> <span class=n>speed_max</span><span class=p>)</span>
            <span class=n>wall_speed</span> <span class=o>=</span> <span class=n>wall_min_speed</span> <span class=o>+</span> <span class=nb>int</span><span class=p>((</span><span class=n>wall_max_speed</span> <span class=o>-</span> <span class=n>wall_min_speed</span><span class=p>)</span> <span class=o>*</span> <span class=n>speed</span> <span class=o>/</span> <span class=n>speed_max</span><span class=p>)</span>
            <span class=n>player_speed</span> <span class=o>=</span> <span class=n>player_min_speed</span> <span class=o>+</span> <span class=nb>int</span><span class=p>((</span><span class=n>player_max_speed</span> <span class=o>-</span> <span class=n>player_min_speed</span><span class=p>)</span> <span class=o>*</span> <span class=n>speed</span> <span class=o>/</span> <span class=n>speed_max</span><span class=p>)</span>
            <span class=n>wall_next</span> <span class=o>=</span> <span class=n>t</span> <span class=o>+</span> <span class=n>wall_speed</span>
            <span class=k>if</span> <span class=n>wall_y</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>:</span>
                <span class=c1># erase old wall</span>
                <span class=n>use_wall_y</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>wall_y</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
                <span class=k>for</span> <span class=n>wall_x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
                    <span class=k>if</span> <span class=n>wall_x</span> <span class=o>!=</span> <span class=n>hole</span><span class=p>:</span>
                        <span class=n>s</span><span class=p>(</span><span class=n>wall_x</span><span class=p>,</span> <span class=n>use_wall_y</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>wall_reached_player</span> <span class=o>=</span> <span class=p>(</span><span class=n>wall_y</span> <span class=o>==</span> <span class=mi>4</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>player_update</span><span class=p>:</span>
            <span class=n>player_next</span> <span class=o>=</span> <span class=n>t</span> <span class=o>+</span> <span class=n>player_speed</span>
            <span class=c1># find new x coord</span>
            <span class=n>x</span> <span class=o>=</span> <span class=n>m</span><span class=o>.</span><span class=n>accelerometer</span><span class=o>.</span><span class=n>get_x</span><span class=p>()</span>
            <span class=n>x</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=nb>max</span><span class=p>(</span><span class=n>min_x</span><span class=p>,</span> <span class=n>x</span><span class=p>),</span> <span class=n>max_x</span><span class=p>)</span>
            <span class=c1># print(&quot;x accel&quot;, x)</span>
            <span class=n>s</span><span class=p>(</span><span class=n>player_x</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=c1># turn off old pixel</span>
            <span class=n>x</span> <span class=o>=</span> <span class=p>((</span><span class=n>x</span> <span class=o>-</span> <span class=n>min_x</span><span class=p>)</span> <span class=o>/</span> <span class=n>range_x</span><span class=p>)</span> <span class=o>*</span> <span class=mi>5</span>
            <span class=n>x</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>x</span><span class=p>),</span> <span class=mi>4</span><span class=p>)</span>
            <span class=n>x</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=mf>0.5</span><span class=p>)</span>
            <span class=c1># print(&quot;have&quot;, position, &quot;want&quot;, x)</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>handled_this_wall</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>player_x</span> <span class=o>&lt;</span> <span class=n>x</span><span class=p>:</span>
                    <span class=n>player_x</span> <span class=o>+=</span> <span class=mi>1</span>
                <span class=k>elif</span> <span class=n>player_x</span> <span class=o>&gt;</span> <span class=n>x</span><span class=p>:</span>
                    <span class=n>player_x</span> <span class=o>-=</span> <span class=mi>1</span>
            <span class=c1># print(&quot;new&quot;, position)</span>
            <span class=c1># print()</span>
        <span class=k>if</span> <span class=n>wall_update</span><span class=p>:</span>
            <span class=c1># update wall position</span>
            <span class=n>wall_y</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=k>if</span> <span class=n>wall_y</span> <span class=o>==</span> <span class=mi>7</span><span class=p>:</span>
                <span class=n>wall_y</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>
                <span class=n>hole</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randrange</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
                <span class=n>handled_this_wall</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>if</span> <span class=n>wall_y</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>:</span>
                <span class=c1># draw new wall</span>
                <span class=n>use_wall_y</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>wall_y</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
                <span class=k>for</span> <span class=n>wall_x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
                    <span class=k>if</span> <span class=n>wall_x</span> <span class=o>!=</span> <span class=n>hole</span><span class=p>:</span>
                        <span class=n>s</span><span class=p>(</span><span class=n>wall_x</span><span class=p>,</span> <span class=n>use_wall_y</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>wall_reached_player</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>handled_this_wall</span><span class=p>:</span>
            <span class=n>handled_this_wall</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>player_x</span> <span class=o>!=</span> <span class=n>hole</span><span class=p>):</span>
                <span class=c1># collision! game over!</span>
                <span class=k>break</span>
            <span class=n>score</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>if</span> <span class=n>player_update</span><span class=p>:</span>
            <span class=n>s</span><span class=p>(</span><span class=n>player_x</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>9</span><span class=p>)</span> <span class=c1># turn on new pixel</span>
        <span class=n>p</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
    <span class=n>p</span><span class=p>(</span><span class=n>i</span><span class=o>.</span><span class=n>SAD</span><span class=p>)</span>
    <span class=n>m</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
    <span class=n>m</span><span class=o>.</span><span class=n>display</span><span class=o>.</span><span class=n>scroll</span><span class=p>(</span><span class=s2>&quot;Score:&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>score</span><span class=p>))</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>button_a</span><span class=o>.</span><span class=n>is_pressed</span><span class=p>()</span> <span class=ow>and</span> <span class=n>m</span><span class=o>.</span><span class=n>button_a</span><span class=o>.</span><span class=n>is_pressed</span><span class=p>()):</span>
            <span class=k>break</span>
        <span class=n>m</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
</code></pre></div> <p><a href=../../ejemplos/Slalom.hex>Descargar el programa .hex</a></p> <p><a href=../../ejemplos/Slalom-main.py>Descargar el programa .py</a></p> <h3 id=magnetometro><font color=#AA0000>Magnetómetro</font><a class=headerlink href=#magnetometro title="Permanent link">&para;</a></h3> <p>Este módulo permite acceder a la brújula electrónica incorporada. Antes de utilizarla, la brújula debe estar calibrada; de lo contrario, las lecturas pueden ser erróneas.</p> <hr width=100% size=10 noshade=noshade> <p><font color=#FF00FF><strong>Advertencia</strong></font>. Calibrar la brújula hará que su programa se detenga hasta que se complete la calibración. La calibración consiste en un pequeño juego para dibujar un círculo en la pantalla LED girando el dispositivo.</p> <hr width=100% size=10 noshade=noshade> <p>Las funciones son:</p> <ul> <li> <p><code>microbit.compass.calibrate()</code></p> <p>Inicia el proceso de calibración. El mensaje Tilt to Fill Screen (Inclinar para llenar la pantalla) se desplazará en la pantalla que el usuario debe rellenar completamente moviendo el dispositivo.</p> </li> <li> <p><code>microbit.compass.is_calibrated()</code></p> <p>Devuelve <code>True</code> si la brújula se ha calibrado correctamente, y devuelve <code>False</code> en caso contrario.</p> </li> <li> <p><code>microbit.compass.clear_calibration()</code></p> <p>Deshace la calibración, haciendo que la brújula vuelva a estar descalibrada.</p> </li> <li> <p><code>microbit.compass.get_x()</code></p> </li> <li><code>microbit.compass.get_y()</code></li> <li> <p><code>microbit.compass.get_z()</code></p> <p>Da la lectura, como un número entero positivo o negativo, de la intensidad del campo magnético en el eje especificado dependiendo de la dirección del campo. La medida se da en nano teslas.</p> </li> <li> <p><code>microbit.compass.heading()</code></p> <p>Da el rumbo de la brújula, calculado a partir de las lecturas anteriores, como un número entero en el rango de 0 a 360, representando el ángulo en grados, en el sentido de las agujas del reloj, con el norte como 0.</p> </li> <li> <p><code>microbit.compass.get_field_strength()</code></p> <p>Devuelve un valor entero de la magnitud del campo magnético alrededor del dispositivo expresada en nano tesla.</p> </li> </ul> <p>El ejemplo de creación de una brújula nos servirá para finalizar estas explicaciones. Antes de nada debemos calibrar la brújula para después mostrar la posición de la micro:bit utilizando las flechas predefinidas.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>

<span class=c1># Antes de nada calibtrar</span>
<span class=n>compass</span><span class=o>.</span><span class=n>calibrate</span><span class=p>()</span>

<span class=c1># Mantener la aguja apuntando aproximadamente en la dirección correcta.</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=n>sleep</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
    <span class=n>aguja</span> <span class=o>=</span> <span class=p>((</span><span class=mi>15</span> <span class=o>-</span> <span class=n>compass</span><span class=o>.</span><span class=n>heading</span><span class=p>())</span> <span class=o>//</span> <span class=mi>30</span><span class=p>)</span> <span class=o>%</span> <span class=mi>12</span>
    <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>ALL_CLOCKS</span><span class=p>[</span><span class=n>aguja</span><span class=p>])</span>
</code></pre></div> <p><a href=../../ejemplos/Brujula.hex>Descargar el programa .hex</a></p> <p><a href=../../ejemplos/Brujula-main.py>Descargar el programa .py</a></p> <h2 id=funciones-para-la-pantalla><font color=#007575><strong>Funciones para la pantalla</strong></font><a class=headerlink href=#funciones-para-la-pantalla title="Permanent link">&para;</a></h2> <ul> <li><code>microbit.display.get_pixel(x, y)</code>. Devuelve el brillo del LED en la columna x y la fila y como un número entero entre 0 (apagado) y 9 (brillante).</li> <li><code>microbit.display.set_pixel(x, y, value)</code>. Establece el brillo del LED en la columna x y la fila y como un número entero entre 0 y 9.</li> <li><code>microbit.display.clear()</code>. Apaga (pone el brillo a 0) todos los LEDs.</li> <li><code>microbit.display.show(image)</code>. Muestra la imagen.</li> <li><code>microbit.display.show(image, delay=400, *, wait=True, loop=False, clear=False)</code>. Si <code>image</code> es una cadena, un real o un entero, muestra las letras/dígitos en secuencia. De lo contrario, si <code>image</code> es una secuencia iterable de imágenes, muestra estas imágenes en secuencia. Cada letra, dígito o imagen se muestra con un <code>delay</code> de milisegundos entre ellos.</li> </ul> <p>Si <code>wait</code> es <code>True</code>, esta función se bloqueará hasta que la animación termine, de lo contrario la animación ocurrirá en segundo plano.</p> <p>Si <code>loop</code> es <code>True</code>, la animación se repetirá para siempre.</p> <p>Si <code>clear</code> es <code>True</code>, la pantalla se borrará después de que las iteraciones hayan terminado.</p> <p>Los argumentos <code>wait</code>, <code>loop</code> y <code>clear</code> deben especificarse utilizando su palabra clave.</p> <ul> <li><code>microbit.display.scroll(text, delay=150, *, wait=True, loop=False, monospace=False)</code>. Desplaza el texto horizontalmente en la pantalla. Si el texto es un número entero o flotante, se convierte primero en una cadena mediante str(). El parámetro delay controla la velocidad de desplazamiento del texto.</li> </ul> <p>Si <code>wait</code> es <code>True</code>, esta función se bloqueará hasta que la animación termine, de lo contrario la animación ocurrirá en segundo plano.</p> <p>Si <code>loop</code> es <code>True</code>, la animación se repetirá para siempre.</p> <p>Si <code>monospace</code> es <code>True</code>, todos los caracteres ocuparán 5 columnas de píxeles de ancho, de lo contrario habrá exactamente 1 columna de píxeles en blanco entre cada carácter mientras se desplazan.</p> <p>Los argumentos <code>wait</code>, <code>loop</code> y <code>monospace</code> deben especificarse utilizando su palabra clave.</p> <ul> <li><code>microbit.display.on()</code>. Enciende la pantalla.</li> <li><code>microbit.display.off()</code>. Apaga la pantalla. Esto permitirá reutilizar los pines GPIO asociados a la pantalla para otros fines.</li> <li><code>microbit.display.is_on()</code>. Devuelve <code>True</code> si la pantalla está encendida, en caso contrario devuelve <code>False</code>.</li> <li><code>microbit.display.read_light_level()</code>. Utiliza los LEDs de la pantalla en modo de polarización inversa para detectar la cantidad de luz que incide sobre la pantalla. Devuelve un número entero entre 0 (oscuridad) y 255 (máximo brillo) que representa el nivel de luz.</li> </ul> <h2 id=i2c><font color=#007575><strong>I2C</strong></font><a class=headerlink href=#i2c title="Permanent link">&para;</a></h2> <p>El módulo I²C permite comunicarse con dispositivos conectados a la placa utilizando el protocolo de bus I²C. Puede haber múltiples dispositivos esclavos conectados al mismo tiempo, y cada uno tiene su propia dirección única, que es fija para el dispositivo o configurada en él. La placa actúa como maestro I²C.</p> <p>Veamos las funciones disponibles:</p> <ul> <li><code>microbit.i2c.init(freq=100000, sda=pin20, scl=pin19)</code>. Reinicializa el periférico con la frecuencia de reloj freq especificada en los pines sda y scl especificados.</li> </ul> <hr width=100% size=10 noshade=noshade> <p>Advertencia: En una placa micro:bit V1, cambiar los pines I²C de los predeterminados hará que el acelerómetro y la brújula dejen de funcionar, ya que están conectados internamente a esos pines. Esta advertencia no se aplica a la revisión V2 del micro:bit ya que esta tiene líneas I²C separadas para los sensores de movimiento y el conector de borde.</p> <hr width=100% size=10 noshade=noshade> <ul> <li><code>microbit.i2c.scan()</code>. Escanea el bus en busca de dispositivos. Devuelve una lista de direcciones de 7 bits correspondientes a los dispositivos que respondieron al escaneo.</li> <li><code>microbit.i2c.read(addr, n, repeat=False)</code>. Lee n bytes del dispositivo con dirección addr. Si la repetición es <code>True</code>, no se enviará ningún bit de parada.</li> <li><code>microbit.i2c.write(addr, buf, repeat=False)</code>. Escribe bytes desde buf al dispositivo con dirección addr. Si repeat es <code>True</code>, no se enviará ningún bit de parada.</li> </ul> <h2 id=temperatura><font color=#007575><strong>Temperatura</strong></font><a class=headerlink href=#temperatura title="Permanent link">&para;</a></h2> <p>Existe una única función para leer la temperatura interna de la micro:bit:</p> <ul> <li><code>microbit.temperature()</code>. Retorna un entero con la temperatura de la micro:bit en grados Celcius.</li> </ul> <h2 id=microfono-solo-en-v2><font color=#007575><strong>Micrófono, solo en V2</strong></font><a class=headerlink href=#microfono-solo-en-v2 title="Permanent link">&para;</a></h2> <p>Este objeto permite acceder al micrófono integrado disponible en micro:bit V2. Se puede utilizar para responder al sonido. La entrada del micrófono se encuentra en la parte frontal de la placa junto a un LED de actividad del micrófono, que se ilumina cuando el micrófono está en uso.</p> <p><center></p> <p><img alt="LED de micrófono con actividad" src=../../img/programacion/python/microfono.png><br> <em>LED de micrófono con actividad</em></p> <p></center></p> <p>El micrófono puede responder a un conjunto predefinido de <strong>eventos sonoros</strong> que se basan en la amplitud y la longitud de onda del sonido. Están representados por instancias de la clase <code>SoundEvent</code>, accesibles a través de variables en <code>microbit.SoundEvent</code>:</p> <ul> <li><code>microbit.SoundEvent.QUIET</code>: Representa la transición de eventos de sonido, de fuerte (<code>loud</code>) a silencioso (<code>quiet</code>) como hablar tranquilo o música de fondo a bajo volumen.</li> <li><code>microbit.SoundEvent.LOUD</code>: Representa la transición de eventos de sonido, de silencioso (<code>quiet</code>) a fuerte (<code>loud</code>) como aplausos o hablar a gritos.</li> </ul> <p>Las funciones disponibles son:</p> <ul> <li><code>microbit.microphone.current_event()</code>: Retorna el nombre del último evento sonoro grabado, <code>SoundEvent('loud')</code> o <code>SoundEvent('quiet')</code>.</li> <li><code>microbit.microphone.was_event(event)</code>: donde <code>event</code> es un evento sonoro como <code>SoundEvent.LOUD</code> o <code>SoundEvent.QUIET</code>. Retorna <code>true</code> si el sonido se ha escuchado al menos una vez desde la última llamada, en caso contrario <code>false</code>. <code>was_event()</code> también borra el historial de eventos de sonido antes de retornar.</li> <li><code>microbit.microphone.is_event(event)</code>: donde <code>event</code> es un evento sonoro como <code>SoundEvent.LOUD</code> o <code>SoundEvent.QUIET</code>. Retorna <code>true</code> si el evento sonoro es el más reciente desde la última llamada, en caso contrario <code>false</code>. No borra el historial de eventos de sonido.</li> <li><code>microbit.microphone.get_events()</code>: Retorna una tupla del historial de eventos. El más reciente aparece en último lugar. <code>get_events()</code> también borra el historial de eventos de sonido antes de retornar.</li> <li><code>microbit.microphone.set_threshold(event, value)</code>: donde <code>event</code> es un evento sonoro como <code>SoundEvent.LOUD</code> o <code>SoundEvent.QUIET</code>. <code>value</code> es el umbral en el rango 0-255. Por ejemplo <code>set_threshold(SoundEvent.LOUD, 250)</code> sólo se activará si el sonido es muy alto (&gt;= 250).</li> <li><code>microbit.microphone.sound_level()</code>: Retorna una representación del nivel de presión sonora en el intervalo de 0 a 255.</li> </ul> <p>Un ejemplo que utiliza algunas de las funciones de la API del micrófono es:</p> <div class=highlight><pre><span></span><code><span class=sd>&#39;&#39;&#39;Prueba básica del micrófono.  </span>
<span class=sd>Boton A: actualizar pantalla cuando se escucha un sonido alto o bajo. </span>
<span class=sd>Botón B: actualizar la pantalla cuando se escucho un sonido alto o bajo. </span>
<span class=sd>Al agitarla: se muestran los últimos sonidos escuchados, para intentar esta prueba </span>
<span class=sd>se hace un sonido fuerte y uno silencioso antes de agitar.&#39;&#39;&#39;</span>

<span class=kn>from</span> <span class=nn>microbit</span> <span class=kn>import</span> <span class=o>*</span>

<span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
<span class=n>sound</span> <span class=o>=</span> <span class=n>microphone</span><span class=o>.</span><span class=n>current_event</span><span class=p>()</span>

<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=k>if</span> <span class=n>button_a</span><span class=o>.</span><span class=n>is_pressed</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>microphone</span><span class=o>.</span><span class=n>current_event</span><span class=p>()</span> <span class=o>==</span> <span class=n>SoundEvent</span><span class=o>.</span><span class=n>LOUD</span><span class=p>:</span>
            <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>SQUARE</span><span class=p>)</span>
            <span class=n>uart</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;Es Fuerte</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>microphone</span><span class=o>.</span><span class=n>current_event</span><span class=p>()</span> <span class=o>==</span> <span class=n>SoundEvent</span><span class=o>.</span><span class=n>QUIET</span><span class=p>:</span>
            <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>SQUARE_SMALL</span><span class=p>)</span>
            <span class=n>uart</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;Es Silencio</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=n>sleep</span><span class=p>(</span><span class=mi>500</span><span class=p>)</span>
    <span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>button_b</span><span class=o>.</span><span class=n>is_pressed</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>microphone</span><span class=o>.</span><span class=n>was_event</span><span class=p>(</span><span class=n>SoundEvent</span><span class=o>.</span><span class=n>LOUD</span><span class=p>):</span>
            <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>SQUARE</span><span class=p>)</span>
            <span class=n>uart</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;Fue Fuerte</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>microphone</span><span class=o>.</span><span class=n>was_event</span><span class=p>(</span><span class=n>SoundEvent</span><span class=o>.</span><span class=n>QUIET</span><span class=p>):</span>
            <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>SQUARE_SMALL</span><span class=p>)</span>
            <span class=n>uart</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;Fue silencioso</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
        <span class=n>sleep</span><span class=p>(</span><span class=mi>500</span><span class=p>)</span>
    <span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>accelerometer</span><span class=o>.</span><span class=n>was_gesture</span><span class=p>(</span><span class=s1>&#39;shake&#39;</span><span class=p>):</span>
        <span class=n>sounds</span> <span class=o>=</span> <span class=n>microphone</span><span class=o>.</span><span class=n>get_events</span><span class=p>()</span>
        <span class=n>soundLevel</span> <span class=o>=</span> <span class=n>microphone</span><span class=o>.</span><span class=n>sound_level</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>soundLevel</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>sound</span> <span class=ow>in</span> <span class=n>sounds</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>sound</span> <span class=o>==</span> <span class=n>SoundEvent</span><span class=o>.</span><span class=n>LOUD</span><span class=p>:</span>
                <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>SQUARE</span><span class=p>)</span>
            <span class=k>elif</span> <span class=n>sound</span> <span class=o>==</span> <span class=n>SoundEvent</span><span class=o>.</span><span class=n>QUIET</span><span class=p>:</span>
                <span class=n>display</span><span class=o>.</span><span class=n>show</span><span class=p>(</span><span class=n>Image</span><span class=o>.</span><span class=n>SQUARE_SMALL</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>display</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
            <span class=nb>print</span><span class=p>(</span><span class=n>sound</span><span class=p>)</span>
            <span class=n>sleep</span><span class=p>(</span><span class=mi>500</span><span class=p>)</span>
</code></pre></div> <p>Podemos descargar el programa de estos enlaces:</p> <ul> <li><a href=../../ejemplos/Ejemplo_funciones_microfono.hex>Descargar el programa .hex</a></li> <li><a href=../../ejemplos/Ejemplo_funciones_microfono-main.py>Descargar el programa .py</a></li> </ul> <p>En la consola serie vemos algunos resultados:</p> <p><center></p> <p><img alt="Consola de ejemplo de funciones del micrófono" src=../../img/programacion/python/consola_ejem_micr.png><br> <em>Consola de ejemplo de funciones del micrófono</em></p> <p></center></p> <h2 id=radio><font color=#007575><strong>Radio</strong></font><a class=headerlink href=#radio title="Permanent link">&para;</a></h2> <p>El módulo de <code>radio</code> permite que los dispositivos trabajen juntos a través de redes inalámbricas sencillas.</p> <p>El módulo de radio es conceptualmente muy sencillo:</p> <ul> <li>Los mensajes broadcast o de difusión tienen una longitud configurable (hasta 251 bytes).</li> <li>Los mensajes recibidos se leen de una cola de tamaño configurable (cuanto mayor sea la cola, más memoria RAM se utilizará). Si la cola está llena, se ignoran los mensajes nuevos. La lectura de un mensaje lo elimina de la cola.</li> <li>Los mensajes se emiten y reciben en un canal preseleccionado (numerado de 0 a 83).</li> <li>Las emisiones tienen un determinado nivel de potencia: más potencia significa más alcance.</li> <li>Los mensajes se filtran por dirección (como un número de casa) y grupo (como un destinatario con nombre en la dirección especificada)</li> <li>La velocidad de transmisión puede ser una de las tres predeterminadas.</li> <li>Se envían y reciben bytes para trabajar con datos arbitrarios.</li> <li>Utilizando <code>receive_full</code> se obtiene todos los detalles sobre un mensaje entrante: los datos como tales, la intensidad de la señal de recepción y una marca de tiempo en microsegundos cuando llegó el mensaje.</li> <li>Es fácil enviar y recibir mensajes como cadenas.</li> </ul> <p>Para acceder a este módulo se necesita:</p> <ul> <li><code>import radio</code></li> </ul> <p>Las constantes son:</p> <ul> <li><code>radio.RATE_1MBIT</code>. Es una constante utilizada para indicar un caudal de 1 Mbit por segundo.</li> <li><code>radio.RATE_2MBIT</code>. Es una constante utilizada para indicar un caudal de 2 Mbit por segundo.</li> </ul> <p>Las funciones disponibles son:</p> <ul> <li><code>radio.on()</code>. Enciende el módulo de radio. Desde MicroPython-on-micro:bit v1.1 la radio se activa por defecto cuando se importa el módulo de radio. En versiones anteriores, para reducir el consumo de energía, esta función tenía que ser llamada explícitamente. Para esos casos <code>radio.off()</code> puede ser llamada después de la importación.</li> <li><code>radio.off()</code>. Apaga la radio. Esto ahorra energia y memoria.</li> <li> <p><code>radio.config(**kwargs)</code>. Configura varios ajustes basados en palabras clave relacionados con la radio. A continuación se enumeran los ajustes disponibles y sus valores predeterminados.</p> </li> <li> <p><code>length</code>. La longitud (por defecto=32) define la longitud máxima, en bytes, de un mensaje enviado por radio. Puede tener una longitud máxima de 251 bytes (254 - 3 bytes para los preámbulos S0, LENGTH y S1).</p> </li> <li> <p><code>queue</code>. La cola (por defecto=3) especifica el número de mensajes que se pueden almacenar en la cola de mensajes entrantes. Si no hay espacio en la cola para mensajes entrantes, el mensaje entrante se descarta.</p> </li> <li> <p><code>channel</code>. El canal (por defecto=7) puede ser un valor entero de 0 a 83 (inclusive) que define un "canal" arbitrario al que se sintoniza la radio. Los mensajes se enviarán a través de este canal y sólo los mensajes recibidos a través de este canal se pondrán en la cola de mensajes entrantes. Cada paso tiene un ancho de 1MHz, basado en 2400MHz.</p> </li> <li> <p><code>power</code>. La potencia (por defecto=6) es un valor entero de 0 a 7 (ambos inclusive) que indica la intensidad de la señal utilizada al emitir un mensaje. Cuanto mayor sea el valor, más potente será la señal, pero más potencia consumirá el dispositivo. La numeración se traduce en posiciones en la siguiente lista de valores dBm (decibelios milivatio): -30, -20, -16, -12, -8, -4, 0, 4.</p> </li> <li> <p><code>address</code>. La dirección (por defecto=0x75626974) es un nombre arbitrario, expresado como una dirección de 32 bits, que se utiliza para filtrar los paquetes entrantes a nivel de hardware, manteniendo sólo aquellos que coinciden con la dirección que establezca. El valor por defecto utilizado por otras plataformas relacionadas con micro:bit es el valor por defecto utilizado aquí.</p> </li> <li> <p><code>group</code>. El grupo (por defecto=0) es un valor de 8 bits (0-255) que se utiliza con la dirección al filtrar los mensajes. Conceptualmente, "dirección" es como una dirección de casa/oficina y "grupo" es como la persona de esa dirección a la que se quiere enviar el mensaje.</p> </li> <li> <p><code>data_rate</code>. La tasa_de_datos (por defecto=radio.RATE_1MBIT) indica la velocidad a la que se produce el flujo de datos. Puede ser uno de los siguientes contantes definidos en el módulo de radio : <code>RATE_1MBIT</code> o <code>RATE_2MBIT</code>.</p> </li> </ul> <hr width=100% size=10 noshade=noshade> <p><font color=#FF0000><strong>Nota</strong></font></p> <p>Una velocidad de datos menor de 250 kbit/seg es compatible con micro:bit V1, y puede ser posible con micro:bit V2, pero no se garantiza que funcione en todos los dispositivos. Para acceder a esta característica oculta para la compatibilidad con V1 ponemos 2 en el argumento <code>data_rate</code>.</p> <hr width=100% size=10 noshade=noshade> <p>Si <strong>no se llama</strong> a <code>config</code> <strong>se asumen</strong> los valores por defecto descritos anteriormente.</p> <ul> <li><code>radio.reset()</code>. Restablece los valores por defecto (como se indica en la documentación de la función de configuración). Ninguno de los siguientes métodos de envío o recepción funcionará hasta que la radio esté encendida.</li> <li><code>radio.send_bytes(message)</code>. Envía <code>message</code> conteniendo bytes.</li> <li><code>radio.receive_bytes()</code>. Recibe el siguiente mensaje entrante en la cola de mensajes. Devuelve <code>None</code> (Ninguno) si no hay mensajes pendientes. Los mensajes se devuelven como bytes.</li> <li><code>radio.receive_bytes_into(buffer)</code>. Recibe el siguiente mensaje entrante en la cola de mensajes. Copia el mensaje en el búfer, recortando el final del mensaje si es necesario. Devuelve <code>None</code> si no hay mensajes pendientes; en caso contrario, devuelve la longitud del mensaje (que puede ser superior a la longitud del búfer).</li> <li><code>radio.send(message)</code>. Envía una cadena de mensajes. Esto es el equivalente de <code>send_bytes(bytes(message, 'utf8'))</code> pero con <code>b'\x01\x00\x01'</code> antepuesto (para hacerlo compatible con otras plataformas que apuntan al micro:bit).</li> <li><code>radio.receive()</code>. Funciona exactamente igual que <code>receive_bytes</code> pero devuelve lo que se haya enviado. Es es equivalente a <code>str(receive_bytes(), 'utf8')</code> pero con una comprobación de que los tres primeros bytes son <code>b'\x01\x00\x01'</code> (para hacerlo compatible con otras plataformas que puedan tener como objetivo el micro:bit). Elimina los bytes añadidos antes de convertir a cadena Se lanza una excepción <code>ValueError</code> si falla la conversión a cadena.</li> <li><code>radio.receive_full()</code>. Devuelve una tupla que contiene tres valores que representan el siguiente mensaje entrante en la cola de mensajes. Si no hay mensajes pendientes se devuelve <code>None</code>.</li> </ul> <p>Los tres valores de la tupla representan:</p> <ul> <li>el siguiente mensaje entrante en la cola de mensajes en bytes.</li> <li>el RSSI (intensidad de la señal): un valor entre 0 (más fuerte) y -255 (más débil) medido en dBm.</li> <li>una marca de tiempo en microsegundos: el valor devuelto por <code>time.ticks_us()</code> cuando se recibió el mensaje.</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2020 - 2035 Federico Coca </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/fgcoca target=_blank rel=noopener title="Twitter de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://github.com/fgcoca target=_blank rel=noopener title="Github de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.instagram.com/cocafederico/?hl=es" target=_blank rel=noopener title="Instagram de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://twitter.com/clubroboticagra target=_blank rel=noopener title="Twitter de Club Robótica Granada" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script> <script src=../../assets/javascripts/bundle.220ee61c.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>