<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Se pretende crear una guia para trabajar con la tarjeta micro:bit mediante programación gráfica o programando con MicroPython"><meta name=author content="Federico Coca"><link href=https://fgcoca.github.io/Guia-de-trabajo-para-microbit/programacion/mkcode/ rel=canonical><link href=../../conceptos/avanzados/ rel=prev><link href=../python/ rel=next><link rel=icon href=../../img/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.18"><title>MakeCode - Guia de trabajo para micro:bit</title><link rel=stylesheet href=../../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#makecode class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabecera> <a href=../.. title="Guia de trabajo para micro:bit" class="md-header__button md-logo" aria-label="Guia de trabajo para micro:bit" data-md-component=logo> <img src=../../img/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Guia de trabajo para micro:bit </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> MakeCode </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Buscar> <button type=reset class="md-search__icon md-icon" title=Limpiar aria-label=Limpiar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgcoca/Guia-de-trabajo-para-microbit title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Guia-de-trabajo-para-microbit </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Guia de trabajo para micro:bit" class="md-nav__button md-logo" aria-label="Guia de trabajo para micro:bit" data-md-component=logo> <img src=../../img/favicon.png alt=logo> </a> Guia de trabajo para micro:bit </label> <div class=md-nav__source> <a href=https://github.com/fgcoca/Guia-de-trabajo-para-microbit title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> Guia-de-trabajo-para-microbit </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../../configura/ class=md-nav__link> Configurar nuestra micro:bit </a> </li> <li class=md-nav__item> <a href=../../problemas/ class=md-nav__link> Solución de problemas </a> </li> <li class=md-nav__item> <a href=../../guias/mkcode/ class=md-nav__link> Guía de MakeCode </a> </li> <li class=md-nav__item> <a href=../../guias/mblocks/ class=md-nav__link> Guía de MicroBlocks </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guias/intro/ class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../../guias/pyt/ class=md-nav__link> Guía de MicroPython </a> </li> <li class=md-nav__item> <a href=../../guias/outofthebox/ class=md-nav__link> Experiencia inmediata </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Conceptos técnicos <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Conceptos técnicos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../conceptos/discretos/ class=md-nav__link> Componentes discretos </a> </li> <li class=md-nav__item> <a href=../../conceptos/ohm/ class=md-nav__link> Ley de Ohm </a> </li> <li class=md-nav__item> <a href=../../conceptos/signals/ class=md-nav__link> Señales </a> </li> <li class=md-nav__item> <a href=../../conceptos/avanzados/ class=md-nav__link> Componentes avanzados </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> Conceptos de programación <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Conceptos de programación </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> MakeCode <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> MakeCode </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#comentarios class=md-nav__link> Comentarios </a> </li> <li class=md-nav__item> <a href=#basico class=md-nav__link> Básico </a> </li> <li class=md-nav__item> <a href=#pantalla-led class=md-nav__link> Pantalla LED </a> </li> <li class=md-nav__item> <a href=#arrays-o-arreglos class=md-nav__link> Arrays o arreglos </a> </li> <li class=md-nav__item> <a href=#variables class=md-nav__link> Variables </a> </li> <li class=md-nav__item> <a href=#bucles class=md-nav__link> Bucles </a> </li> <li class=md-nav__item> <a href=#operadores-de-comparacion-y-booleanos class=md-nav__link> Operadores de comparación y booleanos </a> </li> <li class=md-nav__item> <a href=#sentencia-condicional-ifelifelse class=md-nav__link> Sentencia condicional if...elif...else </a> </li> <li class=md-nav__item> <a href=#texto class=md-nav__link> Texto </a> </li> <li class=md-nav__item> <a href=#bloques-de-entrada-para-los-botones class=md-nav__link> Bloques de 'Entrada' para los botones </a> </li> <li class=md-nav__item> <a href=#pines class=md-nav__link> Pines </a> </li> <li class=md-nav__item> <a href=#programar-neopixels class=md-nav__link> Programar Neopixels </a> </li> <li class=md-nav__item> <a href=#bloques-de-musica class=md-nav__link> Bloques de Música </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../python/ class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=../ublocks/ class=md-nav__link> MicroBlocks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> Actividades <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Actividades </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../actividades/A01/ class=md-nav__link> A01. Hola mundo </a> </li> <li class=md-nav__item> <a href=../../actividades/A02/ class=md-nav__link> A02. Imágenes </a> </li> <li class=md-nav__item> <a href=../../actividades/A03/ class=md-nav__link> A03. Botones </a> </li> <li class=md-nav__item> <a href=../../actividades/A04/ class=md-nav__link> A04. Pines </a> </li> <li class=md-nav__item> <a href=../../actividades/A05/ class=md-nav__link> A05. Botón pulsador </a> </li> <li class=md-nav__item> <a href=../../actividades/A06/ class=md-nav__link> A06. Barra de LEDs </a> </li> <li class=md-nav__item> <a href=../../actividades/A07/ class=md-nav__link> A07. Diodo LED RGB </a> </li> <li class=md-nav__item> <a href=../../actividades/A08/ class=md-nav__link> A08. Diodos LEDs RGB direccionables </a> </li> <li class=md-nav__item> <a href=../../actividades/A09/ class=md-nav__link> A09. Zumbador o buzzer </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../programas/lista/ class=md-nav__link> Listado de programas </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> Miscelanea <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Miscelanea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Miscelanea/about/ class=md-nav__link> Autor </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/lic/ class=md-nav__link> Licencias </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/webgrafia/ class=md-nav__link> Webgrafia/Bibliografía </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/soft/ class=md-nav__link> Software utilizado </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#comentarios class=md-nav__link> Comentarios </a> </li> <li class=md-nav__item> <a href=#basico class=md-nav__link> Básico </a> </li> <li class=md-nav__item> <a href=#pantalla-led class=md-nav__link> Pantalla LED </a> </li> <li class=md-nav__item> <a href=#arrays-o-arreglos class=md-nav__link> Arrays o arreglos </a> </li> <li class=md-nav__item> <a href=#variables class=md-nav__link> Variables </a> </li> <li class=md-nav__item> <a href=#bucles class=md-nav__link> Bucles </a> </li> <li class=md-nav__item> <a href=#operadores-de-comparacion-y-booleanos class=md-nav__link> Operadores de comparación y booleanos </a> </li> <li class=md-nav__item> <a href=#sentencia-condicional-ifelifelse class=md-nav__link> Sentencia condicional if...elif...else </a> </li> <li class=md-nav__item> <a href=#texto class=md-nav__link> Texto </a> </li> <li class=md-nav__item> <a href=#bloques-de-entrada-para-los-botones class=md-nav__link> Bloques de 'Entrada' para los botones </a> </li> <li class=md-nav__item> <a href=#pines class=md-nav__link> Pines </a> </li> <li class=md-nav__item> <a href=#programar-neopixels class=md-nav__link> Programar Neopixels </a> </li> <li class=md-nav__item> <a href=#bloques-de-musica class=md-nav__link> Bloques de Música </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=makecode><font color=#8B008B>MakeCode</font><a class=headerlink href=#makecode title="Permanent link">&para;</a></h1> <p>De manera muy resumida lo que haremos en esta sección es:</p> <ul> <li>Describir los bloques y conceptos relacionados.</li> <li>Incluiremos esquemas si resultan necesarios.</li> </ul> <p>Se explican los bloques utilizados de los menús de bloques. Referencia a <strong>micro:bit reference</strong> <a href=https://makecode.microbit.org/reference>The micro:bit APIs</a>.</p> <h2 id=comentarios><font color=#007575><strong>Comentarios</strong></font><a class=headerlink href=#comentarios title="Permanent link">&para;</a></h2> <p>Todo lenguaje de programación contempla la posibilidad de realizar comentarios en el código para que sirvan de aclaración de para que sirve cada bloque en el programa, en especial en alguna parte que transcurrido un tiempo nos resulte complicada de entender.</p> <p>En MakeCode la forma de hacer comentarios es siempre sobre un bloque, así que si Si necesitamos añadir un comentario a un bloque desplegamos las opciones del bloque pinchando con el botón derecho y añadimos un comentario pinchando en la entrada 'añadir comentario'. Esto hará que aparezca, en la esquina superior izquierda del bloque, un pequeño icono con forma de hoja escrita. Si pulsamos sobre este icono se despliega un pequeño editor, dimensionable y movible, donde podemos escribir nuestro comentario. En este editor hay un símbolo de papelera que elimina el comentario actual. Esta opción está disponible también en el menú contextual, lógicamente si se ha creado un comentario. En la animación siguiente vemos el funcionamiento.</p> <p><center></p> <p><img alt=Comentarios src=../../img/programacion/mkcode/coment.gif><br> <em>Comentarios</em></p> <p></center></p> <h2 id=basico><font color=#007575><strong>Básico</strong></font><a class=headerlink href=#basico title="Permanent link">&para;</a></h2> <p>En este grupo tenemos acceso a la funcionalidad básica de la micro:bit.</p> <ul> <li><strong>al iniciar</strong>. Se trata del bloque de la imagen y es un bloque que se ejecuta una sola vez cuando se inicia la micro:bit. Es uno de los dos bloques que aparecen al principio cuando escogemos <em>Restablecer</em> o creamos un nuevo proyecto desde <em>Mis proyectos</em>.</li> </ul> <p><center></p> <p><img alt="Bloque 'al iniciar'" src=../../img/programacion/mkcode/B_al_iniciar.png><br> <em>Bloque 'al iniciar'</em></p> <p></center></p> <ul> <li><strong>para siempre</strong>. Se trata del bloque de la imagen y es un bloque que se ejecuta de manera infinita. Es el otro de los dos bloques que aparecen al principio cuando escogemos <em>Restablecer</em> o creamos un nuevo proyecto desde <em>Mis proyectos</em>.</li> </ul> <p><center></p> <p><img alt="Bloque 'para siempre'" src=../../img/programacion/mkcode/B_para_siempre.png><br> <em>Bloque 'para siempre'</em></p> <p></center></p> <ul> <li><strong>mostrar cadena</strong>. Muestra la cadena de texto en la pantalla caracter a caracter. En la imagen la palabra es <strong>Hello</strong>.</li> </ul> <p><center></p> <p><img alt="Bloque 'mostrar cadena'" src=../../img/programacion/mkcode/B_mostrar_cad.png><br> <em>Bloque 'mostrar cadena'</em></p> <p></center></p> <ul> <li><strong>mostrar icono</strong>. Dibuja el icono seleccionado en la pantalla.</li> </ul> <p><center></p> <p><img alt="Bloque 'mostrar icono'" src=../../img/programacion/mkcode/B_mostrar_icon.png><br> <em>Bloque 'mostrar icono'</em></p> <p></center></p> <ul> <li><strong>borrar la pantalla</strong>. Apaga todos los LEDs.</li> </ul> <p><center></p> <p><img alt="Bloque 'borrar la pantalla'" src=../../img/programacion/mkcode/B_borra_pant.png><br> <em>Bloque 'borrar la pantalla'</em></p> <p></center></p> <ul> <li><strong>pausa (ms)</strong>. Detiene la ejecución del programa el tiempo establecido en milisegundos.</li> </ul> <p><center></p> <p><img alt="Bloque 'pausa (ms)'" src=../../img/programacion/mkcode/B_pausa_ms.png><br> <em>Bloque 'pausa (ms)'</em></p> <p></center></p> <h2 id=pantalla-led><font color=#007575><strong>Pantalla LED</strong></font><a class=headerlink href=#pantalla-led title="Permanent link">&para;</a></h2> <p>Control de la pantalla LED.</p> <ul> <li><strong>ajustar brillo</strong>. Configura el brillo de la pantalla desde 0 (apagada) a 255 (máximo brillo). Los bloques de pantalla posteriores a este tendrán el brillo establecido hasta que no se cambien el valor a otro distinto.</li> </ul> <p><center></p> <p><img alt="Bloque 'ajustar brillo'" src=../../img/programacion/mkcode/B_brillo.png><br> <em>Bloque 'ajustar brillo'</em></p> <p></center></p> <ul> <li><strong>graficar x,y,brillo</strong>. Enciende el LED indicado en la coordenada x,y con el brillo especificado. La coordenadas x es la horizontal y la y es la vertical. La coordenada 0,0 es la esquina superior ezquierda, la 0,4 es la derecha, la 4,0 es la inferior izquierda y la 4,4 la inferior derecha.</li> </ul> <p><center></p> <p><img alt="Bloque 'graficar x,y,brillo'" src=../../img/programacion/mkcode/B_graf_xy.png><br> <em>Bloque 'graficar x,y,brillo'</em></p> <p></center></p> <h2 id=arrays-o-arreglos><font color=#007575><strong>Arrays o arreglos</strong></font><a class=headerlink href=#arrays-o-arreglos title="Permanent link">&para;</a></h2> <p>Se van a utilizar para agregar, eliminar y sustituir elementos en listas. En MakeCode las listas se nombran indistintamente como array, matriz o lista y tienen su propio menú de bloques que es visible cuando desplegamos 'Avanzado'. Los bloques existentes están clasificados en los siguientes grupos:</p> <p><a name=item0></a></p> <p><a href=#item1><strong>Create</strong></a> <br> <a href=#item2><strong>Leer</strong></a> <br> <a href=#item3><strong>Modificar</strong></a> <br> <a href=#item4><strong>Operaciones</strong></a></p> <p>Describiremos estos grupos de forma somera porque esta es suficiente para entender lo que hace el bloque. No obstante, algunos se describen de manera mas explicita.</p> <p><a name=item1></a></p> <p><font color=#AA0000>Create</font></p> <ul> <li><strong>fijar 'nn' a</strong>. Le da a la variable el valor de la entrada, para valores numéricos.</li> <li><strong>fijar 'tt' a</strong>. Le da a la variable el valor de la entrada, para texto.</li> <li><strong>matriz vacia</strong>. Crea una lista con los elementos que introduzcamos con el '+'.</li> </ul> <p><a href=#item0>Volver</a> </p> <p><a name=item2></a></p> <p><font color=#AA0000>Leer</font></p> <ul> <li><strong>longitud del arreglo</strong>. Devuelve el número de elementos de una lista.</li> <li><strong>obtener el valor en 'x'</strong>. Obtiene el valor del elemento 'x'.</li> <li><strong>eliminar el valor en 'x'</strong>. Elimina el elemento 'x' de la lista.</li> <li><strong>obtener y eliminar el último valor de (<code>pop</code>)</strong>. Elimina y devuelve el último elemento de una matriz. Se elimina el último elemento de la matriz, por lo que la matriz se reduce en un elemento.</li> <li><strong>obtener y eliminar el primer valor de (<code>shift</code>)</strong>. Elimina y devuelve el primer elemento de una matriz. Se elimina el primer elemento de la matriz, por lo que la matriz se reduce en un elemento.</li> <li><strong>obtener valor aleatorio</strong>. Devuelve un valor al azar de la matriz.</li> </ul> <p><a href=#item0>Volver</a> <a name=item3></a></p> <p><font color=#AA0000>Modificar</font></p> <ul> <li><strong>establecer el valor en 'x' a 'nn'</strong>. Estable el valor del elemento 'x' al valor indicado en 'nn'.</li> <li><strong>añadir valor 'nn' al final (<code>push</code>)</strong>. Añade un nuevo elemento al final de una matriz.</li> <li><strong>eliminar el último valor de</strong>. Elimina el último elemento de la matriz y lo devuelve.</li> <li><strong>eliminar el primer valor de</strong>. Elimina el primer elemento de la matriz y lo devuelve.</li> <li><strong>insertar 'nn' al principio (<code>unshift</code>)</strong>. Añadir un elemento al principio de una matriz y devolver la nueva longitud de la matriz.</li> <li><strong>insertar en 'x' valor 'nn' (<code>insertAt</code>)</strong>. Inserta el valor 'nn' en la posición espeífica indicada por 'x' aumentando la longitud del array en uno. El elemento se agrega a la matriz en la posición que indiquemos. Si ya hay un elemento en esa posición, entonces él y todos los elementos posteriores se desplazan a la posición superior siguiente.</li> <li><strong>eliminar valor en 'x' (<code>removeAt</code>)</strong>. Elimina el elemento que hay en la posición 'x'. El tamaño de la matriz se reduce en uno. El elemento se elimina de la matriz en la posición que indiquemos. Todos los demás elementos posteriores se desplazan hacia abajo a la posición inferior siguiente.</li> </ul> <p><a href=#item0>Volver</a> <a name=item4></a></p> <p><font color=#AA0000>Operaciones</font></p> <ul> <li><strong>bloque encontrar indice de (<code>IndexOf</code>)</strong>. Devuelve la posición o índice de la primera aparición de un valor en una matriz. Devuelve un número, que es la posición en la matriz del elemento. El resultado es -1 si no se encuentra ninguna coincidencia.</li> <li><strong>invertir (<code>reverse</code>)</strong>. Invertir los elementos de una matriz.</li> </ul> <h2 id=variables><font color=#007575><strong>Variables</strong></font><a class=headerlink href=#variables title="Permanent link">&para;</a></h2> <p>Cuando vamos a utilizar bucles, estos siempre llevan asociada una variable, y por eso debemos aprender a gestionar el tema de las variables en MakeCode. Las variables tienen su propio menú y es relativamente sencillo de usar. Como ya se ha dicho, una variable es un espacio en la memoria donde el programa puede almacenar valores. El sistema nos permite asignarles un nombre simbólico como por ejemplo “temperatura”, “velocidad”, ”estado”,… para facilitar su uso.</p> <p>Cuando accedemos al menú 'Variables' por primera vez y si no hemos pues ningún bloque en el área de programa, el aspecto del menú es el siguiente:</p> <p><center></p> <p><img alt="Variables en MakeCode" src=../../img/programacion/mkcode/MC/MC01.png><br> <em>Variables en MakeCode</em></p> <p></center></p> <p>Veamos como funciona la creación de una variable, cambiarle el nombre, eliminarla y demás tareas que podemos hacer con ellas. En la animación siguiente vemos el proceso de crear y poner nombre a una variable. Vemos que al hacer clic en el botón se abre una ventana de diálogo donde nos pide el nombre, que tecleamos según las reglas establecidas, y que al hacer clic en 'Aceptar' se nos crean tres bloques, dos para trabajar con la variable creada y uno que es la propia variable, todos ellos con el nombre que hemos puesto a esa variable.</p> <p><center></p> <p><img alt="Creación de una variable en MakeCode" src=../../img/programacion/mkcode/MC/MC02.gif><br> <em>Creación de una variable en MakeCode</em></p> <p></center></p> <p>El bloque 'fijar' sirve para inicializar la variable al valor especificado, el bloque 'cambiar' es el equivalente al operador '+=' con el incremento que establezcamos en 'por' y el último bloque es el valor de la variable.</p> <p>Al final de la animación también vemos que al hacer clic en la flechita de cualquiera de los bloques se despliega un menú en el que aparece la variable, la opción de crear otra nueva, renombrarla o borrar la variable que está seleccionada en ese momento. En la animación siguiente vemos estos aspectos en funcionamiento.</p> <p><center></p> <p><img alt="Trabajo con el menú desplegable en una variable en MakeCode" src=../../img/programacion/mkcode/MC/MC03.gif><br> <em>Trabajo con el menú desplegable en una variable en MakeCode</em></p> <p></center></p> <p>Cuando pasamos por el menú de bloques vemos que 'fijar' y 'cambiar' no se vuelven a crear cuando creamos nuevas variables ya que están todas en el desplegable y lo único que tenemos que hacer es seleccionarlas. Si se crea, en cambio, un bloque para el contenido de cada variable. También vemos que si eliminamos una variable que está en uso en varios sitios se elimina, preva advertencia, de todos ellos.</p> <p>Ahora bien, la variables como tal se eliminan de la zona de programa pero no del menú 'Variables, donde siguen estando disponibles hasta que las eliminemos, tarea que solamente es posible hacer desde alguno de los bloques situado en la zona de programa.</p> <h2 id=bucles><font color=#007575><strong>Bucles</strong></font><a class=headerlink href=#bucles title="Permanent link">&para;</a></h2> <p><a name=item0B></a></p> <p><a href=#item1B>Bloque for</a> <br> <a href=#item2B>Bloque while</a><br> <a href=#item3B>Bloque cada 'nn' ms</a><br> <a href=#item4B>Bloques salir y continuar</a></p> <p><a name=item1B></a> <font color=#AA0000>Bloque for</font> Son bloques que repiten el código asociado un número determinado de veces, Lo pueden hacer utilizando una variable como índice o estableciendo el número exacto de veces.</p> <p>El aspecto del bloque para recorrer con una variable lo vemos en la imagen siguiente:</p> <p><center></p> <p><img alt="Bloque for en MakeCode" src=../../img/programacion/mkcode/MC/MC04.png><br> <em>Bloque for en MakeCode</em></p> <p></center></p> <p>Cuando llevamos el bloque a la zona de programa se creará una variable index, salvo que esta ya exista. Un bloque como el siguiente creará un contador con la variable i desde 0 hasta 4 y mostrará los números 0 al 9 uno tras otro en la pantalla LED.</p> <p><center></p> <p><img alt="Contador de 0 a 9" src=../../img/programacion/mkcode/MC/MC05.png><br> <em>Contador de 0 a 9</em></p> <p></center></p> <p>Una variedad de este bloque la tenemos en el bloque 'repetir' para el número de veces que indiquemos, que tiene el aspecto que vemos en la figura siguiente.</p> <p><center></p> <p><img alt="Bloque repetir nn veces" src=../../img/programacion/mkcode/MC/MC06.png><br> <em>Bloque repetir nn veces</em></p> <p></center></p> <p>En el ejemplo siguiente, cuando se inicia el dispositivo, se producen tres efectos de latido de un corazón.</p> <p><center></p> <p><img alt="Ejemplo de uso del bloque repetir nn veces" src=../../img/programacion/mkcode/MC/MC07.png><br> <em>Ejemplo de uso del bloque repetir nn veces</em></p> <p></center></p> <p>Otro bloque que utiliza el bucle for es el que vemos en la imagen siguiente, un bloque pensado para repetir el código para cada valor de los contenidos en una lista.</p> <p><center></p> <p><img alt="Bucle for para elementos de una lista" src=../../img/programacion/mkcode/MC/MC08.png><br> <em>Bucle for para elementos de una lista</em></p> <p></center></p> <p>En la imagen siguiente vemos un programa que utiliza este bloque. Hemos creado una lista aleatoria de valores y el programa lo que hace es encontrar y mostrar el mayor de ellos. El funcionamiento del programa lo leemos asi: se crea una variable <code>mayor</code> para guardar el valor del elemento de la lista de mayor valor, la matriz le hemos dejado el nombre <code>lista</code> y para recorrerla se utiliza la variable <code>valor</code>. El condicional (los veremos en una actividad posterior) va comprobando si <code>valor &gt; mayor</code> y mientras sea cierto se guarda en <code>mayor</code> el <code>valor</code> leido y si no es cierto se continúa con el siguiente elemento de la lista. Una vez finalizado el condicional se mestra la cadena con la variable <code>mayor</code>.</p> <p><center></p> <p><img alt="Ejemplo de bucle for para elementos de una lista" src=../../img/programacion/mkcode/MC/MC09.png><br> <em>Ejemplo de bucle for para elementos de una lista</em></p> <p></center></p> <p><a href=#item0B>Volver</a> <a name=item2B></a></p> <p><font color=#AA0000>Bloque while</font></p> <p>Se trata de un bloque que repite su bloque de código mientras la condición sea cierta (<code>True</code>). Su aspecto lo vemos en la imagen siguiente.</p> <p><center></p> <p><img alt="Bucle while" src=../../img/programacion/mkcode/MC/MC10.png><br> <em>Bucle while</em></p> <p></center></p> <p>El bucle while tiene una condición que se evalúa con un valor <code>booleano</code>. La condición se comprueba antes de que se ejecute ningún código. Lo que significa que si la condición es falsa la primera vez que se evalúa, el código dentro del bucle no se ejecuta núnca.</p> <p>Con el bloque tal cual es solamente podemos establecer la condición como <code>True</code> o <code>False</code>, lo que es muy poca cosa. Es evidente que podrá tener mucha mas potencia si recurrimos a condiciones mas complejas y utilizamos los operadores. Este apartado no lo vamos a estudiar en este momento, pero si diremos que estos bloques están en el menú 'Lógica' y su funcionamiento es el mismo que en visto en <a href=../../guias/intro/ >Python -&gt; Introducción</a>.</p> <p>Como ejemplo vamos a ver como dibujar una línea diagonal en los LEDs [(0,0) - (1,1) - (2,2) - (3,3) - (4,4) y (5,5)] de la pantalla. En la imagen vemos el programa final, donde observamos que la condición va a ser cierta hasta que index alcance el valor 4, por lo que se va a ir encendiendo cada LED a intervalos de un segundo. Esto solamente va a ocurrir cuando se inicia el disposiivo, aunque en este ejemplo concreto esto no tiene importancia.</p> <p><center></p> <p><img alt="Programa bucle while" src=../../img/programacion/mkcode/MC/MC11.png><br> <em>Programa bucle while</em></p> <p></center></p> <p><a href=#item0B>Volver</a> <a name=item3B></a></p> <p><font color=#AA0000>Bloque cada 'nn' ms</font> Repite el código en segundo plano de forma contnuada en el intervalo de tiempo que se indique. Establecemos la cantidad de tiempo que el bucle espera antes de que el código en su interior se ejecute de nuevo. Esto es similar a un bucle "forever" (por siempre), en el sentido de que se ejecuta continuamente, excepto que hay un intervalo de tiempo establecido para esperar antes de que el bucle se ejecute la próxima vez. El bloque es muy útil si, por ejemplo, queremos estar comprobando cada cierto tiempo si ocurre un evento, como pulsar una tecla, escuchar un sonido, etc.</p> <p>En la imagen siguiente vemos el aspecto que tiene el bloque.</p> <p><center></p> <p><img alt="Bloque cada 'nn' ms" src=../../img/programacion/mkcode/MC/MC12.png><br> <em>Bloque cada 'nn' ms</em></p> <p></center></p> <p><a href=#item0B>Volver</a> <a name=item4B></a></p> <p><font color=#AA0000>Bloques salir y continuar </font> Son los bloques equivalentes a las sentencias <code>break</code> y <code>continue</code> en MicroPython y funcionan exactamente igual, es decir, el bloque 'salir' permite salir de un bucle de forma inmediata y el bloque 'continuar' sirve para saltarse la iteración actual del bucle.</p> <p>Los bloques tienen el aspecto que vemos en la imagen.</p> <p><center></p> <p><img alt="break y continue" src=../../img/programacion/mkcode/MC/MC13.png><br> <em><code>break</code> y <code>continue</code></em></p> <p></center></p> <h2 id=operadores-de-comparacion-y-booleanos><font color=#007575><strong>Operadores de comparación y booleanos</strong></font><a class=headerlink href=#operadores-de-comparacion-y-booleanos title="Permanent link">&para;</a></h2> <p>Como sabemos un valor booleano solamente puede tomar uno de dos valores posibles: <code>True (verdadero)</code> o <code>False (falso)</code>. Estos bloques los encontramos en la entrada 'Lógica' y son:</p> <p><center></p> <p><img alt="Valores booleanos" src=../../img/programacion/mkcode/1/valores.png><br> <em>Valores booleanos</em></p> <p></center></p> <p>Los dos bloques existen de forma separada, pero cada uno de ellos puede adoptar el valor contrario al que muestra por defecto seleccionandolo con la flechita.</p> <p>Los operadores booleanos u operadores lógicos son AND, OR y NOT y son operadores que a partir de valores de entrada booleanos crean otro valor también booleano. Estos bloques también los encontramos en la entrada 'Lógica' y son:</p> <p><center></p> <p><img alt="Operadores booleanos" src=../../img/programacion/mkcode/1/operadores_bool.png><br> <em>Operadores booleanos</em></p> <p></center></p> <p>A continuación vemos una serie de bloques con operadores que satisfacen la condición.</p> <p><center></p> <p><img alt="Operadores booleanos" src=../../img/programacion/mkcode/1/operadores_b.png><br> <em>Operadores booleanos</em></p> <p></center></p> <p>Tanto los valores booleanos como los operadores se usan con instrucciones <code>if</code> o <code>while</code> para determinar qué código se ejecutará a continuación. Por ejemplo:</p> <p><center></p> <p><img alt="Bucle while con una condición" src=../../img/programacion/mkcode/1/bucle_while.png><br> <em>Bucle <code>while</code> con una condición</em></p> <p></center></p> <p>En el siguiente ejemplo se utilizan operadores booleanos en el bucle.</p> <p><center></p> <p><img alt="Bucle while con una condición y operadores booleanos" src=../../img/programacion/mkcode/1/buc_while.png><br> <em>Bucle <code>while</code> con una condición y operadores booleanos</em></p> <p></center></p> <h2 id=sentencia-condicional-ifelifelse><font color=#007575><strong>Sentencia condicional <code>if...elif...else</code></strong></font><a class=headerlink href=#sentencia-condicional-ifelifelse title="Permanent link">&para;</a></h2> <ul> <li><strong><code>if</code></strong>. Ejecuta código dependiendo de si una condición booleana es verdadera o falsa. El código dentro del bloque <code>if</code> sólo se ejecuta cuando el bloque <code>condición</code> es verdadero.</li> </ul> <p><center></p> <p><img alt="Condicional if" src=../../img/programacion/mkcode/1/if.png><br> <em>Condicional <code>if</code></em></p> <p></center></p> <p>Se pueden comparar variables con valores o variables con variables, para una condición verdadera o falsa.</p> <ul> <li><strong><code>else</code></strong>. Si necesitamos que se ejecute algún otro código cuando la condición del <code>if</code> no sea verdadera, lo ponemos en un área de bloque adicional llamada <code>else</code> (si no).</li> </ul> <p><center></p> <p><img alt="Condicional if...else" src=../../img/programacion/mkcode/1/if_else.png><br> <em>Condicional <code>if...else</code></em></p> <p></center></p> <p>Un condicional como el siguiente se podría leer como: "<code>si</code> tengo dinero por encima de una cantidad, <code>entonces</code> estoy feliz y <code>si no</code> estoy triste.</p> <p><center></p> <p><img alt="Condicional if...else" src=../../img/programacion/mkcode/1/ifelse.png><br> <em>Condicional <code>if...else</code></em></p> <p></center></p> <p>Cambiando el valor asignado a dinero vemos el funcionamiento.</p> <p>La clausula <code>else</code> se añade al condicional <code>if</code> haciendo clic en el signo '+'.</p> <ul> <li><strong><code>if...else if</code></strong>. Condición <code>if</code> que si resulta falsa se evalua una nueva condición puesta en <code>elif</code>. Otra acción condicional es añadir un <code>if</code> a un <code>else</code> para obtener un <code>else if</code>. Funciona así</li> </ul> <p><center></p> <p><img alt="Condicional if...else if" src=../../img/programacion/mkcode/1/ifelseif.png><br> <em>Condicional <code>if...else if</code></em></p> <p></center></p> <p>Hacemos clic en el símbolo más '+' para añadir secciones <code>else</code> o <code>else if</code> al bloque <code>if</code> actual.</p> <h2 id=texto><font color=#007575><strong>Texto</strong></font><a class=headerlink href=#texto title="Permanent link">&para;</a></h2> <p>Si expandimos el menú 'Avanzado' nos encontraremos con una entrada 'Texto' que vamos a describir en esta actividad.</p> <ul> <li><img alt src=../../img/programacion/mkcode/T/t1.png> Una letra, palabra o línea de texto que puede contener letras, números y caracteres.</li> <li><img alt src=../../img/programacion/mkcode/T/t2.png> Devuelve el número de caracteres de la cadena de texto.</li> <li><img alt src=../../img/programacion/mkcode/T/t3.png> Añade una cadena de texto a otra para crear una cadena mas larga. Se pueden añadir mas cadenas.</li> <li><img alt src=../../img/programacion/mkcode/T/t4.png> Convierte un texto que sólo tiene caracteres numéricos en un valor numérico de coma flotante. Se puede convertir una cadena de texto con caracteres numéricos en un valor real de coma flotante. El texto debe tener sólo caracteres numéricos. Aunque también puede incluir los símbolos '-' y '.'. Si el texto tiene otros caracteres, como "-5.8g5u7", sólo se devuelve -5.8 ya que es el mejor intento de conversión a un número. Por lo tanto, hay que no mezclar caracteres numéricos con letras u otros símbolos.</li> </ul> <p><strong>Potencias de 10</strong>. Si la cadena de texto tiene la letra 'e' después de los caracteres numéricos y luego algunos caracteres numéricos más como "2e4", entonces los caracteres numéricos después de la 'e' son un exponente de 10. Esto significa que una cadena con "7.5e2" se convierte en el valor de 750 cuando se convierte a un número de coma flotante. Esto se debe a que el 2 después de la 'e' indica 10², lo que equivale a <code>10 * 10 = 100</code>. El valor resultante es entonces 7.5 * 100 que es igual a 750. En el siguiente ejemplo se toman los primeros dígitos de PI de la frase "pi vale 3.141592" y los convierte en un número.</p> <p><center></p> <p><img alt="Extraer PI de una cadena" src=../../img/programacion/mkcode/T/t4ejem.png><br> <em>Extraer PI de una cadena</em></p> <p></center></p> <p><a href=../../ejemplos/microbit-PI.hex>Descargar el programa</a></p> <ul> <li><img alt src=../../img/programacion/mkcode/T/t5.png> Divide una cadena en cadenas más pequeñas utilizando un caracter (una cadena) de separación para dividir la cadena más grande.</li> <li><img alt src=../../img/programacion/mkcode/T/t6.png> Determina si una cadena contiene los caracteres de una cadena especificada.</li> <li><img alt src=../../img/programacion/mkcode/T/t7.png> Obtiene la posición (índice) de la primera aparición de un valor especificado en una cadena.</li> <li><img alt src=../../img/programacion/mkcode/T/t8.png> Determina si una cadena de texto contiene caracteres o no. TODO</li> <li><img alt src=../../img/programacion/mkcode/T/t9.png> Toma una parte de la cadena "this" para hacer una cadena más pequeña (subcadena). * Si una cadena tiene una parte que está copiada de otra cadena, se llama subcadena. Se puede crear una nueva cadena que sólo contenga la palabra "aquí" a partir de una cadena mayor que diga "¡Hola, estamos aquí!". Para ello, la subcadena se copia desde la posición de carácter 15 en la primera cadena y se copian 4 caracteres. Se hace así: <img alt src=../img/actividades/A03/T/t9b.png>. En el ejemplo se copian los sustantivos de la frase en dos cadenas más pequeñas.</li> </ul> <p><center></p> <p><img alt="Extraer de cadena a subcadenas" src=../../img/programacion/mkcode/T/t9ejem.png><br> <em>Extraer de cadena a subcadenas</em></p> <p></center></p> <p><a href=../../ejemplos/microbit-subcadenas_de_cadena.hex>Descargar el programa</a></p> <ul> <li><img alt src=../../img/programacion/mkcode/T/t10.png> Se comparan dos cadenas de texto en función de los caracteres que aparecen en primer lugar. Dos cadenas se comparan en función del orden de sus caracteres. Si la cadena "A" vale "111" será menor que una cadena con "512". Una cadena con "Everything (Todo)" es menor que "Nothing (Nada)" porque la 'N' viene después de la 'E' en el alfabeto. La cadena "abcdefg" es mayor que "abcdefa". Son casi iguales, pero la última letra de la segunda cadena es menor que la última letra de la primera. Esto hace que toda la segunda cadena se compare como menor. En bloques, la comparación de estas cadenas tiene el siguiente aspecto:</li> </ul> <p><center></p> <p><img alt="Comparar cadenas" src=../../img/programacion/mkcode/T/t10b.png><br> <em>Comparar cadenas</em></p> <p></center></p> <ul> <li><img alt src=../../img/programacion/mkcode/T/t11.png> Obtiene un carácter (letra, número o símbolo) de un lugar de la cadena de texto. Podemos averiguar qué carácter se encuentra en cualquier lugar de un texto. Puedes tener un texto que diga "Hello there!". El carácter en la posición 6 es 't'. La palabra "Hello" más el espacio tienen las posiciones 0 - 5, así que, 't' está en la posición 6. Para obtener el carácter en esta posición, la letra 't', se podría usar un bloque como este:</li> </ul> <p><center></p> <p><img alt="Extraer caracter de una cadena" src=../../img/programacion/mkcode/T/t11b.png><br> <em>Extraer caracter de una cadena</em></p> <p></center></p> <ul> <li><img alt src=../../img/programacion/mkcode/T/t12.png> Convierte el valor de cualquier tipo de dato a una cadena de texto. El siguiente ejemplo convierte un valor booleano y un valor numérico en cadenas y las une en una cadena o frase.</li> </ul> <p><center></p> <p><img alt="Convertir valores booleanos y numéricos en cadena" src=../../img/programacion/mkcode/T/t12ejem.png><br> <em>Convertir valores booleanos y numéricos en cadena</em></p> <p></center></p> <p><a href=../../ejemplos/microbit-convertir_a_cadena.hex>Descargar el programa</a></p> <ul> <li><img alt src=../../img/programacion/mkcode/T/t13.png> Hacer que una cadena de un caracter sea representada a partir del código numérico que le asignemos. Al igual que el código ASCII es un juego de caracteres que asigna un valor a cada uno de ellos, nosotros podemos crear nuestro propio código asignándole un código con este bloque. Por ejemplo, hacer que la letra B sea: <img alt src=../img/actividades/A03/T/t13b.png></li> </ul> <h2 id=bloques-de-entrada-para-los-botones><font color=#007575><strong>Bloques de 'Entrada' para los botones</strong></font><a class=headerlink href=#bloques-de-entrada-para-los-botones title="Permanent link">&para;</a></h2> <p>Cuando presionamos los botones A y/o B ocurre un evento (se ha presionado un botón). Este tipo de acción se considera una entrada a la microbit y tenemos bloques para manejarlo.</p> <ul> <li><strong>al presionar el botón</strong></li> </ul> <p>Presionar un botón inicia un manejador de eventos, que es una parte del programa que se ejecutará cuando ocurra algo, como por ejemplo, cuando se pulsa un botón. Este manejador funciona cuando se pulsa el botón A o B, o A y B al mismo tiempo.Cuando estemos utilizando esta función en un navegador, pulsaremos los botones de la pantalla en lugar de los del micro:bit.</p> <ul> <li>Para el botón <strong>A</strong> o <strong>B</strong>: Este manejador de evento funciona cuando el botón se pulsa y se suelta en menos de un segundo.</li> <li>Para <strong>A</strong> y <strong>B</strong> juntos: Este manejador funciona cuando A y B son presionados simultanemente. Disponemos de un segundo y medio desde que pulsamos el primer botón hasta que pulsamos el segúndo para que se consideren ambos pulsados a la vez.</li> </ul> <p><center></p> <p><img alt="Bloque 'Al presionar el botón...'" src=../../img/programacion/mkcode/1/al_pres_bot.png><br> <em>Bloque 'Al presionar el botón...'</em></p> <p></center></p> <p>En el siguiente ejemplo se cuenta cuántas veces se pulsa el botón A. Cada vez que se pulsa el botón, la pantalla LED muestra la variable de recuento que cada vez será mayor.</p> <p><center></p> <p><img alt="Contar pulsaciones de A" src=../../img/programacion/mkcode/1/cuenta_a.png></p> <p><em>Contar pulsaciones de A</em></p> <p></center></p> <p><a href=../../ejemplos/microbit-cuenta_puls_A.hex>Descargar el programa</a></p> <p>En el ejemplo siguiente se simula un dado mostrando un número del 1 al 6 cuando pulsamos el botón B. En el programa se utiliza el bloque de generación de número aleatorios entre dos valores dados que podemos encontrar en el menú 'Matemáticas'.</p> <p><center></p> <p><img alt=Dado src=../../img/programacion/mkcode/1/dado.png></p> <p><em>Dado</em></p> <p></center></p> <p><a href=../../ejemplos/microbit-dado_B.hex>Descargar el programa</a></p> <ul> <li><strong>botón A o B presionado</strong></li> </ul> <p>El bloque siguiente comprueba si se está pulsando un botón en ese momento.</p> <p><center></p> <p><img alt="Se ha presionado el botón" src=../../img/programacion/mkcode/1/pres_bot.png></p> <p><em>Se ha presionado el botón</em></p> <p></center></p> <p>Un sencillo ejemplo nos aclara como funciona el bloque.</p> <p><center></p> <p><img alt="Botón A presionado" src=../../img/programacion/mkcode/1/b_a.png></p> <p><em>Botón A presionado</em></p> <p></center></p> <p><a href=../../ejemplos/microbit-pulsado_A.hex>Descargar el programa</a></p> <ul> <li><strong>al pulsar el logotipo <font color=#FF0000> (solo en versiones V2)</font></strong></li> </ul> <p>El logo de <strong>micro:bit V2</strong> actúa como un botón táctil, por lo que es un actuador de entrada que cuando lo pulsamos (tocamos) se ejecuta su código y cuando lo soltamos (no lo tocamos) deja de hacerlo.</p> <p><center></p> <p><img alt="Botón táctil" src=../../img/programacion/mkcode/1/b_tactil.png></p> <p><em>Botón táctil</em></p> <p></center></p> <p>El bloque funciona solamente con micro:bit V2 y si lo usamos con una placa V1 nos generará el código de error <strong>927</strong> en la pantalla.</p> <ul> <li><strong>el logotipo está pulsado <font color=#FF0000> (solo en versiones V2)</font></strong></li> </ul> <p>Comprueba si se está pulsando el logotipo de micro:bit. Utilizamos el valor booleano del estado de la pulsación del logo para tomar una decisión lógica en el programa.</p> <p>El ejemplo muestra una u otra imagen en función de si se ha pulsado el logo o no.</p> <p><center></p> <p><img alt="logo presionado" src=../../img/programacion/mkcode/1/logo_pre.png></p> <p><em>Logo presionado</em></p> <p></center></p> <p><a href=../../ejemplos/microbit-pulsado_logo.hex>Descargar el programa</a></p> <h2 id=pines><font color=#007575><strong>Pines</strong></font><a class=headerlink href=#pines title="Permanent link">&para;</a></h2> <p>MakeCode dispone de bloques para controlar la corriente en los pines tanto para señales analógicas como digitales, servos, dispositivos i2c,...</p> <ul> <li><img alt src=../../img/programacion/mkcode/pines/b/b1.png>. Lee el valor de una señal digital (0 o 1) desde el pin de la placa micro:bit. Los pines disponibles para el bloque son:</li> </ul> <p><center></p> <p><img alt="Pines para lectura digital" src=../../img/programacion/mkcode/pines/p1.png></p> <p><em>Pines para lectura digital</em></p> <p></center></p> <ul> <li><img alt src=../../img/programacion/mkcode/pines/b/b2.png>. Escribe el valor de una señal digital (0 o 1) en un pin de la placa micro:bit. Los pines disponibles para escritura digital son los mismos que para lectura digital.</li> <li><img alt src=../../img/programacion/mkcode/pines/b/b3.png>. Lee una señal analógica (0 a 1023) desde el pin indicado. Los pines disponibles son:</li> </ul> <p><center></p> <p><img alt="Pines para escritura digital" src=../../img/programacion/mkcode/pines/p2.png></p> <p><em>Pines para escritura digital</em></p> <p></center></p> <ul> <li><img alt src=../../img/programacion/mkcode/pines/b/b4.png>. Escribe una señal analógica (0 a 1023) en el pin indicado. Los pines disponibles son los indicados para la lectura analógica.</li> <li><img alt src=../../img/programacion/mkcode/pines/b/b5.png>. Configura el periodo de la modulación por anchura de pulso o PWM de la salida analógica en microsegundos. Antes de llamar a esta función debemos configurar el pin indicado como analógico. Tenemos los mismo pines disponibles que para la lectura y escritura.</li> <li>El bloque siguiente es un bloque de lo que se conoce como mapeo. El mapeo consiste en reasignar un valor especificado dentro de un rango a otro rango diferente. Es com si hacemos un cambio de escala de los valores. La función no limita los valores de los rangos, porque los valores fuera de rango a veces están previstos y son útiles. Si necesitamos limitar un rango, podemos utilizar la función 'restringir' de 'Matemáticas'.</li> </ul> <p><center></p> <p><img alt src=../../img/programacion/mkcode/pines/b/b6.png></p> <p></center></p> <p>Por ejemplo, el programa siguiente cambia los valores analógicos recibidos en el pin P0 de absolutos a porcentaje.</p> <p><center></p> <p><img alt="Mapeo de valores" src=../../img/programacion/mkcode/pines/p3.png></p> <p><em>Mapeo de valores</em></p> <p></center></p> <ul> <li>El bloque siguiente configura el pin indicado como una entrada digital y genera un evento cuando el pin es tocado, tanto alto como bajo. Este bloque no se puede simular y requiere hardware real para probarlo.</li> </ul> <p><center></p> <p><img alt src=../../img/programacion/mkcode/pines/b/b7.png></p> <p></center></p> <p>A continuación vemos los pines que se pueden configurar en el bloque.</p> <p><center></p> <p><img alt="Pines para el bloque cuando el pin nn es pulsado" src=../../img/programacion/mkcode/pines/p4.png></p> <p><em>Pines para el bloque cuando el pin nn es pulsado</em></p> <p></center></p> <ul> <li><img alt src=../../img/programacion/mkcode/pines/b/b8.png>. Obtiene la duración del pulso en microsegundos.</li> <li><img alt src=../../img/programacion/mkcode/pines/b/b9.png>. Devuelve la duración de un pulso en microsegundos.</li> <li><img alt src=../../img/programacion/mkcode/pines/b/b10.png>. Configura el pull del pin indicado. Hay muchos pines que se pueden configurar con pull-up. Por ejemplo, podemos establecer el valor de tensión de un pin a 3.3V o un "1" lógico.</li> <li><img alt src=../../img/programacion/mkcode/pines/b/b11.png>. Emite una señal PWM al pin actual.</li> <li><img alt src=../../img/programacion/mkcode/pines/b/b12.png>. Establece el pin que se utiliza para un tono musical analógico.</li> </ul> <h2 id=programar-neopixels><font color=#007575><strong>Programar Neopixels</strong></font><a class=headerlink href=#programar-neopixels title="Permanent link">&para;</a></h2> <p>Los diodos LED RGB WS2812, o NeoPixel en el lenguaje de Adafruit, integran en un solo chip los diodos LEDs rojo, verde y azul junto con un chip controlador en un único encapsulado y son controlados a través de un único cable. Pueden utilizarse individualmente, encadenados en cadenas más largas o ensamblados en otros formatos.</p> <p>Existen multitud de formatos basados en Neopixels, algunos son: cosibles (weareables en genral), tiras, matrices, anillos, joyas, etc.</p> <p><a name=item0Neo></a></p> <p><a href=#item1Neo>Añadir extensión NeoPixel</a> <br> <a href=#item2Neo>Programar Neopixels</a><br> <a href=#item3Neo>Arcoiris</a><br> <a href=#item4Neo>Rotar LEDs</a><br> <a href=#item5Neo>Encender específico o aleatorio</a><br> <a href=#item6Neo>Trazar diagrama de barras</a><br> <a href=#item7Neo>Dentro de un rango</a><br> <a href=#item8Neo>Cambio sentido desplazamiento por posición</a> <br> <a href=#item9Neo>Personalizar colores RGB</a></p> <p><a name=item1Neo></a> <font color=#AA0000>Añadir extensión NeoPixel</font></p> <p>Estando situados en <a href=https://makecode.microbit.org/ >https://makecode.microbit.org/</a> hacemos clic en Extensiones y se nos mostrará en el navegador un listado de extensiones recomendadas con una barra de búsqueda y otras opciones para ver extensiones por temas. En cada una de ellas nos encontraremos con un enlace 'Learn More' para aprender mas sobre la extensión y acceder a ejemplos que la utilizan.</p> <p><center></p> <p><img alt="Extensiones para MakeCode" src=../../img/programacion/mkcode/neopix/neo1.png><br> <em>Extensiones para MakeCode</em></p> <p></center></p> <p>Si aparece en la pantalla (es mi caso) simplemente hacemos clic sobre la extensión y si no la escribimos en la barra de búsqueda y una vez localizada hacemos clic sobre la misma.</p> <p>Ahora deberíamos tener un nuevo conjunto de bloques NeoPixel en la caja de herramientas de MakeCode. Estos bloques se guardan con el proyecto actual, pero hay que añadirlos de nuevo para otros proyectos.</p> <p><center></p> <p><img alt="Extensión Neopixels añadida" src=../../img/programacion/mkcode/neopix/neo2.png><br> <em>Extensión Neopixels añadida</em></p> <p></center></p> <p>Ya estamos listos para comenzar a programar con los bloques de la extensión.</p> <p><a href=#item0Neo>Volver</a> <a name=item2Neo></a></p> <p><font color=#AA0000>Programar Neopixels</font></p> <p>Una vez instalada la extensión NeoPixel, podemos empezar a programar con los bloques específicamente diseñados para controlar los LEDs. Lo primero que hay que hacer es informar a MakeCode sobre el NeoPixel conectado. Esto es lo que se conoce como inicializar o configurar el entorno de programación y hay muchos componentes que lo requieren, los Neopixel son uno de ellos. Esta configuración hay que hacerla en un bloque 'al iniciar'. Hay que indicar:</p> <ul> <li>Número de LEDs.</li> <li>El pin al que tenemos conectados los NeoPixels.</li> <li>Salvo que estemos usando LEDs blancos el formato será RGB.</li> </ul> <p>El bloque de configuración inicial es:</p> <p><center></p> <p><img alt="Bloque de configuración inicial" src=../../img/programacion/mkcode/neopix/neo3.png><br> <em>Bloque de configuración inicial</em></p> <p></center></p> <p>Con este bloque configurado, MakeCode inicializará el dispositivo NeoPixel cada vez que se ejecute el programa. Si conectamos más de un NeoPixel, MakeCode generará automáticamente bloques de conjuntos como el anterior, y los nombrará strip2, strip3, etc... Lógicamente podemos renombrar las tiras como queramos.</p> <p>Vamos a describir brevemente unos bloques mínimos para comenzar a trabajar.</p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo1.png>. Establece el color indicado para la tira seleccionada. Por defecto el bloque está configurado con otro bloque que permite escoger entre una gama básica de colores.</li> </ul> <p><center></p> <p><img alt="Colores básicos en el bloque 'color'" src=../../img/programacion/mkcode/neopix/neo4.png><br> <em>Colores básicos en el bloque 'color'</em></p> <p></center></p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo2.png>. Bloque color con la gama básica de colores para seleccionar.</li> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo3.png>. Bloque para configurar el color en formato <a href=../../conceptos/avanzados/ >HLS</a>.</li> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo4.png>. Establecer la luminosidad de los LEDs.</li> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo6.png>. Mostrar la información programada en los Neopixels conectados.</li> </ul> <p>Veamos un primer ejemplo sencillo que nos aclare estos conceptos. Se trata de configuar y poner un anillo de 8 LEDs en diferentes colores a intervalos de 1s. El anillo se alimenta a 5V por lo que escogemos el esquema de montaje de baja potencia y dispositivo con alimentación a 5V.</p> <p><center></p> <p><img alt="Conexionado para dispositivo 5V y bajo consumo" src=../../img/conceptos/avanzados/conex_5V_bajaI.png><br> <em>Conexionado para dispositivo 5V y bajo consumo</em></p> <p></center></p> <p>El programa puede ser similar al siguiente:</p> <p><center></p> <p><img alt="Ejemplo básico con cambio entre varios colores" src=../../img/programacion/mkcode/neopix/ej_camb_var_colores.png><br> <em>Ejemplo básico con cambio entre varios colores</em></p> <p></center></p> <p>Podemos observar como directamente el simulador se ha configurado y conectado según la definición realizada. Se conecta a una tira de 8 LEDs simulados. En la animación observamos al simulador en funcionamiento según el programa anterior. Observamos que el color negro se representa en gris a efectos de la simulación, en la realidad corresponde a todos los LEDs apagados.</p> <p><a href=../../ejemplos/microbit-ej_camb_var_colores.hex>Descargar el programa</a></p> <p><center></p> <p><img alt="Funcionamiento del ejemplo básico con cambio entre varios colores" src=../../img/programacion/mkcode/neopix/ej_camb_var_colores.gif><br> <em>Funcionamiento del ejemplo básico con cambio entre varios colores</em></p> <p></center></p> <p>En el programa se observa el bloque de configuración de la luminosidad como se establece al principio. Se insta al lector a realizar modificaciones del parámetro para ver su efecto en un circuito real.</p> <p>Vamos a ver otro ejemplo en el que vamos a ir cambiando los colores según el formato HSL, en concreto vamos a recorrer la rueda de colores según el matiz para una saturación del 100% y una luminosidad del 50%. El programa es el siguiente.</p> <p><a href=../../ejemplos/microbit-ej_rueda_S100_L50.hex>Descargar el programa</a></p> <p><center></p> <p><img alt="Ejemplo básico con cambio entre varios colores" src=../../img/programacion/mkcode/neopix/ej_rueda_S100_L50.png><br> <em>Ejemplo básico con cambio entre varios colores</em></p> <p></center></p> <p><a href=#item0Neo>Volver</a> <a name=item3Neo></a></p> <p><font color=#AA0000>Arcoiris</font></p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo7.png>. Muestra los 7 colores del arcoiris recorriendo la rueda de color entre 1 y 360. Si cambiamos el rango restringimos la gama de colores.</li> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo8.png>. Desplaza LEDs que se muestran en la cantidad indicada. Si la cantidad se hace negativa el desplazamiento se realiza en sentido contrario.</li> </ul> <p>Veamos un ejemplo en el que se muestran los colores del arcoiris y desaparece uno de ellos cada segundo.</p> <p><a href=../../ejemplos/microbit-arco_1.hex>Descargar el programa</a></p> <p>El programa es:</p> <p><center></p> <p><img alt="Arcoiris básico" src=../../img/programacion/mkcode/neopix/arco_1.png><br> <em>Arcoiris básico</em></p> <p></center></p> <p>Se recomienda probar con el desplazamiento negativo y con valores diferentes de la unidad.</p> <p><a href=#item0Neo>Volver</a> <a name=item4Neo></a></p> <p><font color=#AA0000>Rotar LEDs</font></p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo9.png>. Va rotando la posición de los LED en la cantidad especificada manteniendo todos los LEDs encendidos.</li> </ul> <p>En el ejemplo anterior vamos a cambiar el bloque desplazar por el de rotar y observar lo que ocurre. Se produce un desplazamiento de los colores de los LEDs según la cantidad indicada. Si esta cantidad se hace negativa el desplazamiento se realiza en sentido contrario.</p> <p>Muy útil para programar efectos de colores repetitivos.</p> <p>El programa ahora es:</p> <p><center></p> <p><img alt="Arcoiris rotando" src=../../img/programacion/mkcode/neopix/arco_rot1.png><br> <em>Arcoiris rotando</em></p> <p></center></p> <p><a href=#item0Neo>Volver</a> <a name=item5Neo></a></p> <p><font color=#AA0000>Encender específico o aleatorio</font></p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo10.png>. Este bloque permite especificar el color de un píxel concreto.</li> </ul> <p>Un programa como el siguiente parte de todos los LEDs apagados y los va encendiendo de color amarillo uno a uno con un retardo de medio segundo hasta encender los 8 LEDs.</p> <p><center></p> <p><img alt="Encender específico" src=../../img/programacion/mkcode/neopix/especifico.png><br> <em>Encender específico</em></p> <p></center></p> <p>Vamos a modificar el programa anterior para que cada vez que pulsamos el botón A se encienda un LED aleatorio de un determinado color. El programa es el siguiente:</p> <p><center></p> <p><img alt="Encender aleatorio" src=../../img/programacion/mkcode/neopix/aleatorio.png><br> <em>Encender aleatorio</em></p> <p></center></p> <p><a href=#item0Neo>Volver</a> <a name=item6Neo></a></p> <p><font color=#AA0000>Trazar diagrama de barras</font></p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo11.png>. El funcionamiento del bloque es básicamente como el de un vúmetro de sonido escribiendo en los LEDs el valor especificado en el rango.</li> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo12.png>. Averigua cuál es el nivel de sonido que escucha el micrófono. Este bloque requiere de una <strong>micro:bit V2</strong>. Si se utiliza con una placa micro:bit v1, aparecerá el código de error 927 en la pantalla.</li> </ul> <p>Un programa como el siguiente registra la lectura del nivel de sonido y en función del valor enciende un número mayor o menor de LEDs.</p> <p><center></p> <p><img alt="Nivel de sonido con trazar diagrama de barras" src=../../img/programacion/mkcode/neopix/barras_sonido.png><br> <em>Nivel de sonido con trazar diagrama de barras</em></p> <p></center></p> <p><a href=#item0Neo>Volver</a> <a name=item7Neo></a></p> <p><font color=#AA0000>Dentro de un rango</font></p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo13.png>. Permite establecer como valor de una variable un rango de LEDs de la tira. El objetivo es poder cambiar todo el rango a la vez.</li> </ul> <p>Vamos a crear un programa con dos variables de rango, en una ponemos una configuración de rango de LEDs y en la otra su complementario, es decir, el resto de LEDs. Ahora establecemos un color diferente para ambos rangos cuando pulsamos el botón A y mostramos el resultado. Para el botón B simplemente cambiamos los colores de cada rango. El efecto final es que un grupo de LEDs se encienden de un color y el otro grupo de otro color y al pulsar los botones esos grupos van alternandose.</p> <p><a href=../../ejemplos/microbit-rangos.hex>Descargar el programa</a></p> <p>El programa es:</p> <p><center></p> <p><img alt="Dentrro de un rango" src=../../img/programacion/mkcode/neopix/rangos.png><br> <em>Dentrro de un rango</em></p> <p></center></p> <p><a href=#item0Neo>Volver</a> <a name=item8Neo></a></p> <p><font color=#AA0000>Cambio sentido desplazamiento por posición</font></p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo14.png>. Obtiene el valor de la aceleración (miligramos-fuerza) en una de las tres dimensiones, o la fuerza combinada en todas las direcciones (x, y, y z). Es capaz de encontrar la aceleración del micro:bit, es decir los rápido que se está acelerando o ralentizando.</li> </ul> <p>La aceleración se mide con el miligramos-g, que equivale a la milésima parte de la aceleración de la gravedad "g". Un "g" es la aceleración que produce la gravedad terrestre.</p> <p>El bloque permite seleccionar entre los siguientes parámetros:</p> <ul> <li><strong>x</strong>: aceleración en dirección izquierda y derecha.</li> <li><strong>y</strong>: aceleración hacia delante y hacia atrás.</li> <li><strong>z</strong>: aceleración hacia arriba y hacia abajo.</li> <li><strong>fuerza</strong>: la fuerza resultante de la aceleración de las tres dimensiones (direcciones).</li> </ul> <p><strong>Repasemos un poco las fuerzas en el espacio</strong></p> <p>Todas las fuerzas que nos afectan se se producen en un espacio tridimensional. Si el movimiento de un objeto no es exactamente en la dirección de un eje, necesitamos una forma de calcular su aceleración a partir de los valores medidos para todos los ejes.</p> <p>Se pueden realizar cálculos de estas fuerzas en el <a href=https://es.wikipedia.org/wiki/Espacio_eucl%C3%ADdeo>Espacio euclídeo</a> (también llamado espacio euclidiano) que es un tipo de espacio geométrico donde se satisfacen los axiomas de Euclides de la geometría. En el gráfico vemos como se sitúa un punto en un espacio euclídeo de tres dimensiones.</p> <p><center></p> <p><img alt="Punto en espacio euclídeo 3D" src=../../img/programacion/mkcode/neopix/p_espacio_3D.png><br> <em>Punto en espacio euclídeo 3D</em></p> <p></center></p> <p>Si ponemos la micro:bit en una mesa nivelada y la empujamos diagonalmente, obtendremos una aceleración en dos dimensiones. Se puede calcular la aceleración en esa dirección igual que se calcula la hipotenusa en un triángulo rectángulo, es decir:</p> <p><center> <span class=arithmatex><span class=MathJax_Preview>F_{2D} = \sqrt{a_{x}^{2}+a_{y}^{2}}</span><script type=math/tex>F_{2D} = \sqrt{a_{x}^{2}+a_{y}^{2}}</script></span> </center></p> <p>Si se levanta la micro:bit de la mesa se añade otra dimensión, la Z, de manera que hay que inserta el valor de aceleración para el eje Z en la ecuación:</p> <p><center> <span class=arithmatex><span class=MathJax_Preview>F_{3D} = \sqrt{a_{x}^{2}+a_{y}^{2}+a_{z}^{2}}</span><script type=math/tex>F_{3D} = \sqrt{a_{x}^{2}+a_{y}^{2}+a_{z}^{2}}</script></span> </center></p> <p>Este cálculo se denomina norma euclidiana de aceleración.</p> <p>En el siguiente programa, utilizamos el valor de aceleración (que se encuentra en las herramientas de entrada) para desplazar los píxeles en una dirección o en la contraria cuando la micro:bit se inclina hacia la izquierda o hacia la derecha.</p> <p><a href=../../ejemplos/microbit-acelera_xy.hex>Descargar el programa</a></p> <p><center></p> <p><img alt="Control sentido rotación con la aceleración xy" src=../../img/programacion/mkcode/neopix/acelera_xy.png><br> <em>Control sentido rotación con la aceleración xy</em></p> <p></center></p> <p>El simulador es capaz de responder a los movimientos de inclinación moviendo el ratón sobre la micro:bit a un lado y al otro.</p> <p><a href=#item0Neo>Volver</a> <a name=item9Neo></a></p> <p><font color=#AA0000>Personalizar colores RGB</font></p> <ul> <li><img alt src=../../img/programacion/mkcode/neopix/B/bneo15.png>. Permite establecer los valores RGB para obtener un color determinado.</li> </ul> <p>En el programa siguiente vemos un ejemplo de aplicación de este bloque.</p> <p><center></p> <p><img alt="Control sentido rotación con la aceleración xy" src=../../img/programacion/mkcode/neopix/B_RGB.png><br> <em>Control sentido rotación con la aceleración xy</em></p> <p></center></p> <p><a href=../../ejemplos/microbit-B_RGB.hex>Descargar el programa</a></p> <h2 id=bloques-de-musica><font color=#007575><strong>Bloques de Música</strong></font><a class=headerlink href=#bloques-de-musica title="Permanent link">&para;</a></h2> <p>Los bloques que vamos a describir a continuación requieren de una micro:bit V2. Si se utilizan con una placa micro:bit V1, se generará el <strong>código de error 927</strong> en la pantalla.</p> <p>Es posible cambiar el pin de salida utilizando en "Inicializar" el bloque <img alt src=../../img/programacion/mkcode/musica/M2b.png></p> <ul> <li><img alt src=../../img/programacion/mkcode/musica/M1.png>. El bloque permite componer, a partir de las notas básicas y el tempo establecido, melodias sencillas o bien seleccionar las de la galería.</li> <li><img alt src=../../img/programacion/mkcode/musica/M2.png>. Reproduce un tono en el pin0 durante el tiempo indicado. La frecuencia del tono se establece como un número de ciclos por segundo y la duración del tono se establece como un número de milisegundos. Es habitual utilizar una fracción de tiempo para la duración del tono.</li> <li><img alt src=../../img/programacion/mkcode/musica/M3.png>. Reproduce el tono indicado, que se puede seleccionar con el teclado que aparece al pulsar sobre el nombre del tono. Durante el cambio podemos ver un número que es justo el tiempo en milisegundo que dura la nota.</li> <li><img alt src=../../img/programacion/mkcode/musica/M4.png>. Silencio durante el tiempo especificado.</li> <li><img alt src=../../img/programacion/mkcode/musica/M5.png>. Establecde el volumen de salida predeterminado entre 0 y 255.</li> <li><img alt src=../../img/programacion/mkcode/musica/M6.png>. Devuelve el nivel de volumen actual del sintetizador.</li> <li><img alt src=../../img/programacion/mkcode/musica/M7.png>. Detiene la reproducción del sonido actual y de cualquier otro en espera de reproducirse. </li> <li><img alt src=../../img/programacion/mkcode/musica/M8.png>. Cambia en tempo en la cantidad indicada. Los valores negativos hacen la melodia mas lenta. El número bmp (beats per minute) indica el número de pulsos en un minuto.</li> <li><img alt src=../../img/programacion/mkcode/musica/M9.png>. Establece el tempo a la cantidad indicada. </li> <li><img alt src=../../img/programacion/mkcode/musica/M10.png>. Devuelve la duración de un pulso en milisegundos.</li> <li><img alt src=../../img/programacion/mkcode/musica/M11.png>. Devuelve el tempo en pbm</li> <li><img alt src=../../img/programacion/mkcode/musica/M12.png>. Reproduce una expresión sonora, que es un conjunto preformateado de tonos que crean un sonido determinado. Hay varios sonidos para elegir.</li> <li><img alt src=../../img/programacion/mkcode/musica/M13.png>. Detiene la melodia musical. Las melodías se reproducen en primer (foreground) o segundo (background) plano. Esto permite que haya más de una melodía activa a la vez. Si una melodía está configurada para reproducirse en segundo plano, puede interrumpirse o pausarse temporalmente mientras se reproduce una melodía configurada en primer plano. Si la melodía en primer plano no está configurada para reproducirse siempre (loop), la melodía en segundo plano se reanudará cuando finalice la melodía en primer plano.</li> <li><img alt src=../../img/programacion/mkcode/musica/M14.png>. Genera eventos para melodías o eventos musicales.</li> <li><img alt src=../../img/programacion/mkcode/musica/M15.png>. Reproduce una expresión de sonido.</li> <li><img alt src=../../img/programacion/mkcode/musica/M16.png>. Es un generador de señales de diferentes formas. Hay muchos ajustes diferentes y se puede reproducir la configuración concreta antes de cerrar la ventana. En la animación vemos brevemente como funciona y a continuación se indican los parámetros que describen al sonido.</li> </ul> <p><center></p> <p><img alt src=../../img/programacion/mkcode/musica/M16.gif></p> <p></center></p> <p>Los parámetros especifican una forma de onda base, el rango de frecuencia, el volumen del sonido y los efectos. Los datos de sonido se crean como un objeto Sonido y pueden reproducirse en el altavoz, los auriculares o en una clavija de salida.</p> <ul> <li> <p><strong>waveShape</strong>: forma primaria de la onda:</p> <ul> <li>sinusoidal: forma de onda sinusoidal</li> <li>diente de sierra: forma de onda diente de sierra</li> <li>triángulo: forma de onda triangular</li> <li>square: forma de onda cuadrada</li> <li>ruido: forma de onda generada por ruido aleatorio</li> </ul> </li> <li> <p><strong>startFrequency</strong>: un número que es la frecuencia de la forma de onda cuando comienza la expresión sonora.</p> </li> <li><strong>endFrequency</strong>: un número que es la frecuencia de la forma de onda cuando la expresión sonora se detiene.</li> <li><strong>startVolume</strong>: un número que es el volumen inicial de la expresión sonora.</li> <li><strong>endVolume</strong>: un número el volumen final de la expresión sonora.</li> <li><strong>duration</strong>: un número la duración en milisegundos de la expresión sonora.</li> <li> <p><strong>effect</strong>: un efecto para añadir a la forma de onda. Estos efectos son:</p> <ul> <li>trémolo: añade ligeros cambios de volumen a la expresión sonora.</li> <li>vibrato: añade ligeros cambios de frecuencia a la expresión sonora.</li> <li>warble: similar al vibrato pero con variaciones más rápidas en los cambios de frecuencia.</li> </ul> </li> <li> <p><strong>interpolation</strong>: controla la tasa de cambio de frecuencia en la expresión sonora.</p> <ul> <li>linear: el cambio de frecuencia es constante durante toda la duración del sonido.</li> <li>curve: el cambio de frecuencia es más rápido al principio del sonido y se ralentiza hacia el final.</li> <li>logarithmic: el cambio de frecuencia es rápido durante la primera parte del sonido.</li> </ul> </li> <li> <p><img alt src=../../img/programacion/mkcode/musica/M17.png>. Crea una cadena que es una expresión sonora.</p> </li> <li><img alt src=../../img/programacion/mkcode/musica/M18.png>. Obtiene el nivel de volumen actual del sintetizador de sonido.</li> <li><img alt src=../../img/programacion/mkcode/musica/M19.png>. Activa/desactiva el altavoz de la micro:bit para reproducir música y sonidos.</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2020 - 2035 Federico Coca </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/fgcoca target=_blank rel=noopener title="Twitter de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://github.com/fgcoca target=_blank rel=noopener title="Github de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.instagram.com/cocafederico/?hl=es" target=_blank rel=noopener title="Instagram de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://twitter.com/clubroboticagra target=_blank rel=noopener title="Twitter de Club Robótica Granada" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script> <script src=../../assets/javascripts/bundle.220ee61c.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>